(self["webpackChunkmy_web"] = self["webpackChunkmy_web"] || []).push([["data-source_index_js-my-cli_node_modules_moment_locale_sync_recursive_-webpack_sharing_consum-4ff1da"],{

/***/ 20443:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ data_source)
});

// EXTERNAL MODULE: ../my-cli/node_modules/@babel/runtime/regenerator/index.js
var regenerator = __webpack_require__(92910);
var regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);
// EXTERNAL MODULE: ./src/utils/request.js
var request = __webpack_require__(96648);
// EXTERNAL MODULE: ../icode-component/packages/utils/es/utils.js
var utils = __webpack_require__(98160);
;// CONCATENATED MODULE: ../data-source/src/service.js
function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}/**
 * Service
 * @author tianyanrong
 */var service_saveMysqlAccount=function saveMysqlAccount(options){return (0,request/* default */.Z)({method:'POST',url:'/lowcodeApi/dataApi/auth/mysqlAccount/save',type:'json',body:options}).then(function(res){return res;});};var service_getTables=function getTables(options){return (0,request/* default */.Z)({method:'POST',url:'/lowcodeApi/dataApi/auth/mysqlAccount/getTables',type:'json',body:options}).then(function(res){return res;});};var service_queryData=function queryData(options){return (0,request/* default */.Z)({method:'POST',url:'/lowcodeApi/dataApi/auth/dataModel/queryData',type:'json',body:options}).then(function(res){return res;});};var service_saveDataModel=function saveDataModel(options){return (0,request/* default */.Z)({method:'POST',url:'/lowcodeApi/dataApi/auth/dataModel/save',type:'json',body:options}).then(function(res){return res;});};var getDataModel=function getDataModel(options){return (0,request/* default */.Z)({method:'POST',url:'/lowcodeApi/dataApi/auth/dataModel/get',type:'json',body:options}).then(function(res){return res;});};var getFieldType=function getFieldType(sqlType){var type='string';if(sqlType.match(/^int/)){type='number';}else if(sqlType.match(/^time/)||sqlType.match(/^date/)){type='date';}return type;};var parseTableFields=function parseTableFields(){var tables=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var databaseName=arguments.length>1?arguments[1]:undefined;var newTables={};var fieldsObj={};var primaryKeyObj={};Object.keys(tables).forEach(function(tableName){var fields=tables[tableName];var primaryKey='';var newFields=fields.map(function(item){//Type: "varchar(255)"
if(item.Key==="PRI"){primaryKey=item.Field;}return{keyName:item.Field,fieldName:item.Field,type:getFieldType(item.Type),fieldType:getFieldType(item.Type),tableName:tableName,databaseName:databaseName,sumType:'count',isPrimaryKey:item.Key==="PRI"};});newTables[tableName]=newFields;fieldsObj["".concat(databaseName).concat(tableName)]=newFields;primaryKeyObj["".concat(databaseName).concat(tableName)]=primaryKey;});return{tables:newTables,fields:fieldsObj||{},primaryKeys:primaryKeyObj};};var parseContent=function parseContent(){var content=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var _ref=arguments.length>1?arguments[1]:undefined,_ref$fields=_ref.fields,fields=_ref$fields===void 0?{}:_ref$fields;var database=content.database||[];var responseConfig=content.responseConfig||[];var requestConfig=content.requestConfig||[];var tableObj={};var newResponseConfig=[];var newRequestConfig=[];var hadResponseFields={};var hadRequestConfig={};var newCountResponseKey={};responseConfig.forEach(function(item){if(item.isNewCountKey){newCountResponseKey["".concat(item.databaseName).concat(item.tableName).concat(item.fieldName)]=item;}hadResponseFields["".concat(item.databaseName).concat(item.tableName).concat(item.fieldName)]=item;});requestConfig.forEach(function(item){if(!item.key){hadRequestConfig["".concat(item.databaseName).concat(item.tableName).concat(item.fieldName)]=item;}else{newRequestConfig.push(item);}});database.forEach(function(item){var tableName="".concat(item.databaseName).concat(item.tableName);tableObj[tableName]=true;if(fields[tableName]&&fields[tableName].length){fields[tableName].forEach(function(fieldItem){var fieldItemName="".concat(fieldItem.databaseName).concat(fieldItem.tableName).concat(fieldItem.fieldName);var newResItem=hadResponseFields[fieldItemName];if(newResItem){newResponseConfig.push(newResItem);}var newRequestItem=hadRequestConfig[fieldItemName];if(newRequestItem){newRequestConfig.push(newRequestItem);}});}});newResponseConfig=[].concat(newResponseConfig,Object.values(newCountResponseKey));return{database:database,responseConfig:newResponseConfig,requestConfig:newRequestConfig};};var setValue=function setValue(){var data=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var index=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var keyName=arguments.length>2?arguments[2]:undefined;var value=data[index]&&data[index][keyName];var next=index+1;if((0,utils/* isValue */.w)(value)){//
}else if(data[next]){value=setValue(data,next,keyName);}return value;};var pushResponseEnumValue=function pushResponseEnumValue(){var content=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var resData=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var newContent=JSON.parse(JSON.stringify(content));newContent.responseConfig=(newContent.responseConfig||[]).map(function(item){var option={};if(item.keyName){option.enumValue=setValue(resData,0,item.keyName);}return _objectSpread(_objectSpread({},item),option);});return newContent;};
;// CONCATENATED MODULE: ../data-source/src/model.js
function model_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function model_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){model_ownKeys(Object(source),true).forEach(function(key){model_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{model_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function model_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}/* harmony default export */ const model = ({namespace:'dataSourceModel',state:{fields:{},// 根据数据库名及表名查当前表所有字段{'databaseNameTableName': []}
primaryKeys:{},// 存放每个表的primaryKey字段名称
sqlAccounts:[],// 所有数据库、所有表、所有字段 (tree结构)
content:{},// 配置的内容
resData:[],// 根据配置的内容请求的数据
responseBody:'',// 根据配置的内容返回的内容
type:'query',// 数据类型,
name:'',title:'',dataModelId:'',beforeSumData:[],// 未统计之前的数据
// prevResponseItems: {}, //之前一步的返回字段配置
historyResponseItems:{},// 历史返回字段配置(用于删除表后又使用表，之前配置的字段格式化等信息依然能存在
historyRequestItems:{},prevRequestKeyItems:{},prevResponseKeyNames:{},prevRequestKeyNames:{},prevDimensionItems:{},getResponseFields:function getResponseFields(payload){var content=parseContent(payload.content,{fields:this.fields});return content.responseConfig;}},effects:{saveMysqlAccount:/*#__PURE__*/regenerator_default().mark(function saveMysqlAccount(_ref,_ref2){var payload,put,call,select,res,tablesRes,fields,newData;return regenerator_default().wrap(function saveMysqlAccount$(_context){while(1){switch(_context.prev=_context.next){case 0:payload=_ref.payload;put=_ref2.put,call=_ref2.call,select=_ref2.select;_context.next=4;return service_saveMysqlAccount({host:payload.host,port:payload.port,user:payload.user,password:payload.password,database:payload.database});case 4:res=_context.sent;if(!(res.result==='success')){_context.next=14;break;}_context.next=8;return service_getTables();case 8:tablesRes=_context.sent;fields={};if(!(tablesRes.data&&tablesRes.result==='success')){_context.next=14;break;}newData=(tablesRes.data||[]).map(function(item){var tableInfo=parseTableFields(item.tables||{},item.name);fields=_extends({},fields,tableInfo.fields);return model_objectSpread(model_objectSpread({},item),{},{tables:tableInfo.tables||{}});});_context.next=14;return put({type:"setState",payload:{sqlAccounts:newData,fields:fields}});case 14:return _context.abrupt("return",res);case 15:case"end":return _context.stop();}}},saveMysqlAccount);}),saveDataModel:/*#__PURE__*/regenerator_default().mark(function saveDataModel(_ref3,_ref4){var payload,put,call,select,state,res;return regenerator_default().wrap(function saveDataModel$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:payload=_ref3.payload;put=_ref4.put,call=_ref4.call,select=_ref4.select;_context2.next=4;return select(function(state){return state.dataSourceModel;});case 4:state=_context2.sent;_context2.next=7;return service_saveDataModel({title:state.title,moduleName:state.moduleName,type:state.type||'qurey',content:state.content,name:state.name});case 7:res=_context2.sent;return _context2.abrupt("return",res);case 9:case"end":return _context2.stop();}}},saveDataModel);}),getTables:/*#__PURE__*/regenerator_default().mark(function getTables(_ref5,_ref6){var payload,put,call,select,dataModelOptions,dataModelRes,dataModel,tablesRes,fields,newData;return regenerator_default().wrap(function getTables$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:payload=_ref5.payload;put=_ref6.put,call=_ref6.call,select=_ref6.select;dataModelOptions={};if(!payload.name){_context3.next=9;break;}_context3.next=6;return getDataModel({name:payload.name});case 6:dataModelRes=_context3.sent;dataModel=dataModelRes&&dataModelRes.data&&dataModelRes.data[0]||{};if(Object.keys(dataModel).length){dataModelOptions.content=JSON.parse(dataModel.content||{});dataModelOptions.type=dataModel.type;if(!payload.isCopy){dataModelOptions.name=dataModel.name||'';dataModelOptions.title=dataModel.title||'';dataModelOptions.moduleName=dataModel.moduleName;}}case 9:_context3.next=11;return service_getTables();case 11:tablesRes=_context3.sent;if(!(tablesRes.data&&tablesRes.result==='success')){_context3.next=17;break;}fields={};newData=(tablesRes.data||[]).map(function(item){var tableInfo=parseTableFields(item.tables||{},item.name);fields=_extends({},fields,tableInfo.fields);return model_objectSpread(model_objectSpread({},item),{},{tables:tableInfo.tables||{}});});_context3.next=17;return put({type:"setState",payload:model_objectSpread({isFetchedSqlAccounts:true,sqlAccounts:newData,fields:fields},dataModelOptions)});case 17:return _context3.abrupt("return",tablesRes);case 18:case"end":return _context3.stop();}}},getTables);}),queryData:/*#__PURE__*/regenerator_default().mark(function queryData(_ref7,_ref8){var payload,put,call,select,state,content,tablesRes,newContent;return regenerator_default().wrap(function queryData$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:payload=_ref7.payload;put=_ref8.put,call=_ref8.call,select=_ref8.select;_context4.next=4;return select(function(state){return state.dataSourceModel;});case 4:state=_context4.sent;_context4.next=7;return put({type:"setState",payload:{isQueryDataLoading:true}});case 7:content=parseContent(payload.content||state.content,{fields:state.fields});// console.log('----queryData', content)
_context4.next=10;return service_queryData({content:JSON.stringify(content||{})});case 10:tablesRes=_context4.sent;if(!(tablesRes.data&&tablesRes.result==='success')){_context4.next=17;break;}newContent=pushResponseEnumValue(content,tablesRes.data);_context4.next=15;return put({type:"setState",payload:{resData:tablesRes.data||[],beforeSumData:tablesRes.beforeSumData||tablesRes.data||[],isQueryDataLoading:false,content:model_objectSpread(model_objectSpread({},newContent),{},{responseBody:tablesRes})}});case 15:_context4.next=19;break;case 17:_context4.next=19;return put({type:"setState",payload:{isQueryDataLoading:false}});case 19:return _context4.abrupt("return",tablesRes);case 20:case"end":return _context4.stop();}}},queryData);})},reducers:{setState:function setState(state,_ref9){var payload=_ref9.payload;var responseConfig=payload.content&&payload.content.responseConfig&&payload.content.responseConfig||[];var requestConfig=payload.content&&payload.content.requestConfig&&payload.content.requestConfig||[];var historyResponseItems=JSON.parse(JSON.stringify(state.historyResponseItems));var historyRequestItems=JSON.parse(JSON.stringify(state.historyRequestItems));var prevRequestKeyItems={};//const prevResponseItems = {};
var prevResponseKeyNames={};var prevRequestKeyNames={};var prevDimensionItems={};responseConfig.forEach(function(item){//prevResponseItems[`${item.databaseName}${item.tableName}`] = prevResponseItems[`${item.databaseName}${item.tableName}`] || {};
//prevResponseItems[`${item.databaseName}${item.tableName}`][item.fieldName] = item;
prevResponseKeyNames[item.keyName]=item.fieldName;historyResponseItems["".concat(item.databaseName).concat(item.tableName).concat(item.fieldName)]=item;if(item.dimensionConfig&&Object.keys(item.dimensionConfig).length){prevDimensionItems[item.keyName]=item;}});requestConfig.forEach(function(item){prevRequestKeyNames[item.keyName]=item.fieldName||item.key;if(item.key){prevRequestKeyItems[item.key]=item;}else{historyRequestItems["".concat(item.databaseName).concat(item.tableName)]=historyRequestItems["".concat(item.databaseName).concat(item.tableName)]||{};historyRequestItems["".concat(item.databaseName).concat(item.tableName)][item.fieldName]=item;}});return model_objectSpread(model_objectSpread(model_objectSpread({},state),payload),{},{historyResponseItems:historyResponseItems,historyRequestItems:historyRequestItems},payload.content?{prevResponseKeyNames:prevResponseKeyNames,prevRequestKeyNames:prevRequestKeyNames,prevRequestKeyItems:prevRequestKeyItems,prevDimensionItems:prevDimensionItems}:{});}}// subscriptions: {
//   setup({ history, dispatch }) {
//     return history.listen(({ pathname }) => {
//       if (pathname === '/dataSource') {
//         dispatch({ type: 'getTables' });
//       }
//     });
//   },
// },
});
// EXTERNAL MODULE: consume shared module (default) react@^16.9.0 (singleton) (fallback: ../my-cli/node_modules/react/index.js)
var index_js_ = __webpack_require__(22557);
var index_js_default = /*#__PURE__*/__webpack_require__.n(index_js_);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/tabs/style/index.js + 1 modules
var style = __webpack_require__(45783);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/tabs/index.js + 22 modules
var tabs = __webpack_require__(89274);
;// CONCATENATED MODULE: ../data-source/src/index.module.less
// extracted by mini-css-extract-plugin
/* harmony default export */ const index_module = ({"box":"_-data-source-src-index-module__box","sideBar":"_-data-source-src-index-module__sideBar","content":"_-data-source-src-index-module__content","dataList":"_-data-source-src-index-module__dataList","active":"_-data-source-src-index-module__active"});
// EXTERNAL MODULE: ../data-source/node_modules/@icode-run/icon-font/src/index.jsx
var src = __webpack_require__(39066);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/spin/style/index.js + 1 modules
var spin_style = __webpack_require__(37615);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/spin/index.js
var spin = __webpack_require__(1584);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/table/style/index.js + 3 modules
var table_style = __webpack_require__(13686);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/table/index.js + 77 modules
var table = __webpack_require__(53026);
// EXTERNAL MODULE: ../data-source/node_modules/react-resizable/index.js
var react_resizable = __webpack_require__(30426);
;// CONCATENATED MODULE: ../data-source/src/components/TableResize/index.module.less
// extracted by mini-css-extract-plugin
/* harmony default export */ const TableResize_index_module = ({"tableBox":"_-data-source-src-components-TableResize-index-module__tableBox","text":"_-data-source-src-components-TableResize-index-module__text","titleKeyName":"_-data-source-src-components-TableResize-index-module__titleKeyName","titleName":"_-data-source-src-components-TableResize-index-module__titleName","headerTh":"_-data-source-src-components-TableResize-index-module__headerTh","bottomTools":"_-data-source-src-components-TableResize-index-module__bottomTools","active":"_-data-source-src-components-TableResize-index-module__active"});
;// CONCATENATED MODULE: ../data-source/src/components/TableResize/index.jsx
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function TableResize_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function TableResize_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){TableResize_ownKeys(Object(source),true).forEach(function(key){TableResize_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{TableResize_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function TableResize_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key];}}return target;}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key];}return target;}var ResizeableTitle=function ResizeableTitle(props){var onResize=props.onResize,width=props.width,restProps=_objectWithoutProperties(props,["onResize","width"]);if(!width){return/*#__PURE__*/index_js_default().createElement("th",restProps);}return/*#__PURE__*/index_js_default().createElement(react_resizable.Resizable,{width:width,height:0,onResize:onResize,draggableOpts:{enableUserSelectHack:false}},/*#__PURE__*/index_js_default().createElement("th",restProps));};var Demo=/*#__PURE__*/function(_React$Component){_inherits(Demo,_React$Component);var _super=_createSuper(Demo);function Demo(){var _this;_classCallCheck(this,Demo);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={columns:[]};_this.components={header:{cell:ResizeableTitle}};_this.handleResize=function(index){return function(e,_ref){var size=_ref.size;_this.setState(function(_ref2){var columns=_ref2.columns;var nextColumns=_toConsumableArray(columns);nextColumns[index]=TableResize_objectSpread(TableResize_objectSpread({},nextColumns[index]),{},{width:size.width});return{columns:nextColumns};});};};_this.headerColors=['#62a5c6','#62c681','#c69a62','#b262c6','#3e6ebd','#bd3e3e','#429e76','#9e9942','#429e87','#2a6598'];_this.scrollX=0;_this.prevResDataKeys='';_this.getColumns=function(){var _this$props=_this.props,dispatchModel=_this$props.dispatchModel,model=_this$props.model;var resData=model.resData||[];var content=model.content||{};var responseConfig=content.responseConfig||[];var resDataKeys=JSON.stringify(Object.keys(resData[0]||{}))+JSON.stringify(responseConfig);if(!Object.keys(resData[0]||{}).length||resDataKeys===_this.prevResDataKeys){return;}_this.prevResDataKeys=resDataKeys;var fields=model.getResponseFields({content:model.content})||[];_this.scrollX=30;var tables=[];var columns=(fields||[]).map(function(item,index){var width=100;var colorIndex=tables.indexOf("".concat(item.databaseName).concat(item.tableName));if(colorIndex===-1){tables.push("".concat(item.databaseName).concat(item.tableName));colorIndex=tables.indexOf("".concat(item.databaseName).concat(item.tableName));}var borderColor=_this.headerColors[colorIndex%10]||'#62a5c6';_this.scrollX+=width;return{title:/*#__PURE__*/index_js_default().createElement("div",{className:TableResize_index_module.headerTh,style:{borderTop:'3px solid '+borderColor}},item.title?/*#__PURE__*/index_js_default().createElement((index_js_default()).Fragment,null,/*#__PURE__*/index_js_default().createElement("h3",null,item.title),/*#__PURE__*/index_js_default().createElement("p",null,item.keyName)):item.keyName),dataIndex:item.keyName,width:width,onHeaderCell:function onHeaderCell(column){return{width:column.width||width,onResize:_this.handleResize(index+1)};},render:function render(text,record,currIndex){return/*#__PURE__*/index_js_default().createElement("div",{className:TableResize_index_module.text},text);}};});columns.unshift({title:' ',dataIndex:'aaaaa',key:'aaaaa',width:30,onHeaderCell:function onHeaderCell(column){return{width:column.width||30,onResize:_this.handleResize(0)};},fixed:'left',render:function render(text,record,index){return/*#__PURE__*/index_js_default().createElement("div",{className:TableResize_index_module.text,style:{textAlign:'center'}},index+1);}});_this.setState({columns:columns});};return _this;}_createClass(Demo,[{key:"componentDidMount",value:function componentDidMount(){this.getColumns();}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.getColumns();}},{key:"render",value:function render(){var _this2=this;var _this$props2=this.props,getHeight=_this$props2.getHeight,model=_this$props2.model;var _this$state=this.state,columns=_this$state.columns,isShowBeforeSumData=_this$state.isShowBeforeSumData;var isQueryDataLoading=model.isQueryDataLoading;var resData=isShowBeforeSumData?model.beforeSumData:model.resData;var prevDimensionItems=model.prevDimensionItems||{};var height=getHeight&&typeof getHeight==='function'?getHeight()-73:200;return/*#__PURE__*/index_js_default().createElement("div",{className:TableResize_index_module.tableBox},/*#__PURE__*/index_js_default().createElement(spin/* default */.Z,{tip:"Loading...",spinning:isQueryDataLoading,delay:500},/*#__PURE__*/index_js_default().createElement(table/* default */.Z,{rowKey:function rowKey(record,index){return"table_".concat(index);},scroll:resData&&resData.length?{x:this.scrollX,y:height}:null,bordered:true,components:this.components,columns:columns,dataSource:resData||[],pagination:false}),resData&&resData.length?/*#__PURE__*/index_js_default().createElement("ul",{className:TableResize_index_module.bottomTools},/*#__PURE__*/index_js_default().createElement("li",{className:!isShowBeforeSumData?TableResize_index_module.active:'',onClick:function onClick(){_this2.setState({isShowBeforeSumData:false});}},"\u5F53\u524D\u914D\u7F6E\u8FD4\u56DE\u7684\u6570\u636E"),Object.keys(prevDimensionItems).length?/*#__PURE__*/index_js_default().createElement("li",{className:isShowBeforeSumData?TableResize_index_module.active:'',onClick:function onClick(){_this2.setState({isShowBeforeSumData:true});}},"\u672A\u6C47\u603B\u524D\u7684\u6570\u636E"):null):null));}}]);return Demo;}((index_js_default()).Component);/* harmony default export */ const TableResize = (Demo);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/modal/style/index.js + 1 modules
var modal_style = __webpack_require__(84389);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/modal/index.js + 16 modules
var modal = __webpack_require__(88217);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/input/style/index.js + 1 modules
var input_style = __webpack_require__(60418);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/input/index.js + 29 modules
var input = __webpack_require__(40704);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/button/style/index.js + 1 modules
var button_style = __webpack_require__(85793);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/button/index.js
var es_button = __webpack_require__(31481);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/radio/style/index.js + 1 modules
var radio_style = __webpack_require__(9651);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/radio/index.js + 5 modules
var es_radio = __webpack_require__(54770);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/message/style/index.js + 1 modules
var message_style = __webpack_require__(35735);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/message/index.js + 3 modules
var message = __webpack_require__(96213);
;// CONCATENATED MODULE: ../data-source/src/components/ToolsBar/index.module.less
// extracted by mini-css-extract-plugin
/* harmony default export */ const ToolsBar_index_module = ({"pageTop":"_-data-source-src-components-ToolsBar-index-module__pageTop","border":"_-data-source-src-components-ToolsBar-index-module__border"});
// EXTERNAL MODULE: ../my-cli/node_modules/@ant-design/icons/es/icons/SaveOutlined.js + 1 modules
var SaveOutlined = __webpack_require__(27024);
// EXTERNAL MODULE: ../my-cli/node_modules/import-remote-module/index.js
var import_remote_module = __webpack_require__(89056);
;// CONCATENATED MODULE: ../data-source/src/components/ToolsBar/index.jsx
function ToolsBar_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){ToolsBar_typeof=function _typeof(obj){return typeof obj;};}else{ToolsBar_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return ToolsBar_typeof(obj);}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value);}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err);}_next(undefined);});};}function ToolsBar_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function ToolsBar_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function ToolsBar_createClass(Constructor,protoProps,staticProps){if(protoProps)ToolsBar_defineProperties(Constructor.prototype,protoProps);if(staticProps)ToolsBar_defineProperties(Constructor,staticProps);return Constructor;}function ToolsBar_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)ToolsBar_setPrototypeOf(subClass,superClass);}function ToolsBar_setPrototypeOf(o,p){ToolsBar_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return ToolsBar_setPrototypeOf(o,p);}function ToolsBar_createSuper(Derived){var hasNativeReflectConstruct=ToolsBar_isNativeReflectConstruct();return function _createSuperInternal(){var Super=ToolsBar_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=ToolsBar_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return ToolsBar_possibleConstructorReturn(this,result);};}function ToolsBar_possibleConstructorReturn(self,call){if(call&&(ToolsBar_typeof(call)==="object"||typeof call==="function")){return call;}return ToolsBar_assertThisInitialized(self);}function ToolsBar_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function ToolsBar_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function ToolsBar_getPrototypeOf(o){ToolsBar_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return ToolsBar_getPrototypeOf(o);}var PageBar=/*#__PURE__*/function(_Component){ToolsBar_inherits(PageBar,_Component);var _super=ToolsBar_createSuper(PageBar);function PageBar(){var _this;ToolsBar_classCallCheck(this,PageBar);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={};_this.save=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(_ref){var name,moduleName,_this$props,dispatchModel,onCancel,res;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:name=_ref.name,moduleName=_ref.moduleName;_this$props=_this.props,dispatchModel=_this$props.dispatchModel,onCancel=_this$props.onCancel;if(!(!name&&moduleName)){_context.next=5;break;}message/* default.error */.ZP.error('请完善数据信息');return _context.abrupt("return");case 5:_context.next=7;return dispatchModel('saveDataModel');case 7:res=_context.sent;if(res.result==='success'){if(onCancel&&typeof onCancel==='function'){onCancel(res);}}case 9:case"end":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}();return _this;}ToolsBar_createClass(PageBar,[{key:"render",value:function render(){var _this2=this;var _this$props2=this.props,_this$props2$model=_this$props2.model,model=_this$props2$model===void 0?{}:_this$props2$model,onCancel=_this$props2.onCancel,dispatchModel=_this$props2.dispatchModel;var title=model.title||'';var type=model.type;return/*#__PURE__*/index_js_default().createElement((index_js_default()).Fragment,null,/*#__PURE__*/index_js_default().createElement("div",{className:"".concat(ToolsBar_index_module.pageTop)},/*#__PURE__*/index_js_default().createElement("div",{style:{padding:'0 20px'}},/*#__PURE__*/index_js_default().createElement(src/* default */.Z,{type:"iconshuju"}),/*#__PURE__*/index_js_default().createElement("span",{style:{paddingLeft:'10px'}},title?"\u4FEE\u6539MySql\u6570\u636E\u63A5\u53E3: ".concat(title||''):'添加MySql数据接口')),/*#__PURE__*/index_js_default().createElement("div",{style:{flex:'auto'}},/*#__PURE__*/index_js_default().createElement(es_radio/* default.Group */.ZP.Group,{onChange:function onChange(){},value:type||''},/*#__PURE__*/index_js_default().createElement(es_radio/* default */.ZP,{disabled:title?true:false,value:'query'},"\u67E5\u8BE2\u6570\u636E"),/*#__PURE__*/index_js_default().createElement(es_radio/* default */.ZP,{disabled:true,value:'update'},"\u4FEE\u6539\u6570\u636E"))),/*#__PURE__*/index_js_default().createElement("div",{style:{marginRight:'15px'}},/*#__PURE__*/index_js_default().createElement(es_button/* default */.Z,{size:"small",onClick:function onClick(){if(onCancel&&typeof onCancel==='function'){onCancel();}}},"\u53D6\u6D88"),/*#__PURE__*/index_js_default().createElement(es_button/* default */.Z,{size:"small",type:'primary',style:{width:'120px',marginLeft:'15px'},onClick:function onClick(){_this2.setState({isSaveModalVisible:true});}},/*#__PURE__*/index_js_default().createElement(SaveOutlined/* default */.Z,null),"\u4FDD \u5B58"))),/*#__PURE__*/index_js_default().createElement(modal/* default */.Z,{title:"\u4FDD\u5B58\u6570\u636E\u6A21\u578B",visible:this.state.isSaveModalVisible,onOk:function onOk(){_this2.save({name:_this2.state.name||'',moduleName:_this2.state.moduleName||''});},onCancel:function onCancel(){_this2.setState({isSaveModalVisible:false});}},/*#__PURE__*/index_js_default().createElement("p",null,"\u6570\u636E\u540D\u79F0"),/*#__PURE__*/index_js_default().createElement("p",null,/*#__PURE__*/index_js_default().createElement(input/* default */.Z,{value:model.title||'',onChange:function onChange(e){var value=e.target.value;dispatchModel('setState',{title:value||''});}})),/*#__PURE__*/index_js_default().createElement("p",null,"\u5F52\u5C5E\u6A21\u5757"),/*#__PURE__*/index_js_default().createElement("p",null,/*#__PURE__*/index_js_default().createElement(input/* default */.Z,{value:model.moduleName||'',onChange:function onChange(e){var value=e.target.value;dispatchModel('setState',{moduleName:value||''});}}))));}}]);return PageBar;}(index_js_.Component);/* harmony default export */ const ToolsBar = (PageBar);
;// CONCATENATED MODULE: ../data-source/src/components/NewDataSource/index.module.less
// extracted by mini-css-extract-plugin
/* harmony default export */ const NewDataSource_index_module = ({"box":"_-data-source-src-components-NewDataSource-index-module__box","contentTop":"_-data-source-src-components-NewDataSource-index-module__contentTop","contentBottom":"_-data-source-src-components-NewDataSource-index-module__contentBottom","listItems":"_-data-source-src-components-NewDataSource-index-module__listItems","listItem":"_-data-source-src-components-NewDataSource-index-module__listItem","listItemIcon":"_-data-source-src-components-NewDataSource-index-module__listItemIcon"});
// EXTERNAL MODULE: ../data-source/node_modules/container-resize/libs/ContainerResize.js
var ContainerResize = __webpack_require__(98599);
var ContainerResize_default = /*#__PURE__*/__webpack_require__.n(ContainerResize);
;// CONCATENATED MODULE: ../data-source/src/components/View/index.module.less
// extracted by mini-css-extract-plugin
/* harmony default export */ const View_index_module = ({"view":"_-data-source-src-components-View-index-module__view","viewActive":"_-data-source-src-components-View-index-module__viewActive","dataItem":"_-data-source-src-components-View-index-module__dataItem"});
// EXTERNAL MODULE: ../my-cli/node_modules/@ant-design/icons/es/icons/CloseOutlined.js + 1 modules
var CloseOutlined = __webpack_require__(18642);
;// CONCATENATED MODULE: ../data-source/src/components/View/index.jsx
function View_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){View_typeof=function _typeof(obj){return typeof obj;};}else{View_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return View_typeof(obj);}function View_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function View_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function View_createClass(Constructor,protoProps,staticProps){if(protoProps)View_defineProperties(Constructor.prototype,protoProps);if(staticProps)View_defineProperties(Constructor,staticProps);return Constructor;}function View_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)View_setPrototypeOf(subClass,superClass);}function View_setPrototypeOf(o,p){View_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return View_setPrototypeOf(o,p);}function View_createSuper(Derived){var hasNativeReflectConstruct=View_isNativeReflectConstruct();return function _createSuperInternal(){var Super=View_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=View_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return View_possibleConstructorReturn(this,result);};}function View_possibleConstructorReturn(self,call){if(call&&(View_typeof(call)==="object"||typeof call==="function")){return call;}return View_assertThisInitialized(self);}function View_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function View_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function View_getPrototypeOf(o){View_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return View_getPrototypeOf(o);}var View=/*#__PURE__*/function(_Component){View_inherits(View,_Component);var _super=View_createSuper(View);function View(){var _this;View_classCallCheck(this,View);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={dragPosition:'',data:[]};_this.targetElements=[];_this.onDragOver=function(event){event.preventDefault();var dragPosition=_this.state.dragPosition;var currentDragDataSource=_this.props.currentDragDataSource;// console.log('onDragOver', currentDragDataSource);
if(dragPosition!=='in'&&currentDragDataSource&&currentDragDataSource.type){_this.setState({dragPosition:'in'});}};_this.onDrop=function(event){var dragPosition=_this.state.dragPosition;if(!dragPosition){return;}event.preventDefault();//this.updatePropsOptions(this.getDimensions());
var _this$props=_this.props,currentDragDataSource=_this$props.currentDragDataSource,setModelState=_this$props.setModelState;var data=_this.state.data||[];data.push(currentDragDataSource);_this.setState({data:data});setModelState({currentDataSource:currentDragDataSource});if(dragPosition!==''){_this.setState({dragPosition:''});}};return _this;}View_createClass(View,[{key:"render",value:function render(){var _this$state=this.state,dragPosition=_this$state.dragPosition,data=_this$state.data;return/*#__PURE__*/index_js_default().createElement("div",{className:"".concat(View_index_module.view," ").concat(dragPosition?View_index_module.viewActive:''),onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop},data.map(function(item,index){return/*#__PURE__*/index_js_default().createElement("div",{key:"listB".concat(index),className:View_index_module.dataItem},item.name,/*#__PURE__*/index_js_default().createElement(CloseOutlined/* default */.Z,null));}));}}]);return View;}(index_js_.Component);/* harmony default export */ const components_View = ((/* unused pure expression or super */ null && (View)));
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/dropdown/style/index.js + 1 modules
var dropdown_style = __webpack_require__(66294);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/dropdown/index.js + 2 modules
var dropdown = __webpack_require__(79525);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/tag/style/index.js + 1 modules
var tag_style = __webpack_require__(18431);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/tag/index.js + 1 modules
var tag = __webpack_require__(55207);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/menu/style/index.js + 1 modules
var menu_style = __webpack_require__(64126);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/menu/index.js + 5 modules
var es_menu = __webpack_require__(24413);
;// CONCATENATED MODULE: ../data-source/src/components/ParamItem/index.module.less
// extracted by mini-css-extract-plugin
/* harmony default export */ const ParamItem_index_module = ({"text":"_-data-source-src-components-ParamItem-index-module__text","item":"_-data-source-src-components-ParamItem-index-module__item"});
;// CONCATENATED MODULE: ../data-source/src/components/ParamItem/index.jsx
function ParamItem_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){ParamItem_typeof=function _typeof(obj){return typeof obj;};}else{ParamItem_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return ParamItem_typeof(obj);}function ParamItem_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function ParamItem_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function ParamItem_createClass(Constructor,protoProps,staticProps){if(protoProps)ParamItem_defineProperties(Constructor.prototype,protoProps);if(staticProps)ParamItem_defineProperties(Constructor,staticProps);return Constructor;}function ParamItem_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)ParamItem_setPrototypeOf(subClass,superClass);}function ParamItem_setPrototypeOf(o,p){ParamItem_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return ParamItem_setPrototypeOf(o,p);}function ParamItem_createSuper(Derived){var hasNativeReflectConstruct=ParamItem_isNativeReflectConstruct();return function _createSuperInternal(){var Super=ParamItem_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=ParamItem_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return ParamItem_possibleConstructorReturn(this,result);};}function ParamItem_possibleConstructorReturn(self,call){if(call&&(ParamItem_typeof(call)==="object"||typeof call==="function")){return call;}return ParamItem_assertThisInitialized(self);}function ParamItem_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function ParamItem_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function ParamItem_getPrototypeOf(o){ParamItem_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return ParamItem_getPrototypeOf(o);}var ParamItem=/*#__PURE__*/function(_Component){ParamItem_inherits(ParamItem,_Component);var _super=ParamItem_createSuper(ParamItem);function ParamItem(){var _this;ParamItem_classCallCheck(this,ParamItem);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={menu:null};_this.editCallBack=function(){var editCallBack=_this.props.editCallBack;if(editCallBack&&typeof editCallBack==='function'){editCallBack();}};_this.removeCallBack=function(){var removeCallBack=_this.props.removeCallBack;if(removeCallBack&&typeof removeCallBack==='function'){removeCallBack();}};return _this;}ParamItem_createClass(ParamItem,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;var menu=/*#__PURE__*/index_js_default().createElement(es_menu/* default */.Z,null,/*#__PURE__*/index_js_default().createElement(es_menu/* default.Item */.Z.Item,null,/*#__PURE__*/index_js_default().createElement("a",{onClick:function onClick(event){_this2.editCallBack();}},"\u7F16\u8F91")),/*#__PURE__*/index_js_default().createElement(es_menu/* default.Item */.Z.Item,{onClick:function onClick(event){_this2.removeCallBack();}},/*#__PURE__*/index_js_default().createElement("a",null,"\u79FB\u9664")));this.setState({menu:menu});}},{key:"render",value:function render(){var menu=this.state.menu;var _this$props$item=this.props.item,item=_this$props$item===void 0?{}:_this$props$item;return!menu?null:/*#__PURE__*/index_js_default().createElement(dropdown/* default */.Z,{overlay:menu,trigger:['click'],placement:'bottomRight'},/*#__PURE__*/index_js_default().createElement(tag/* default */.Z,{color:'geekblue',className:ParamItem_index_module.item},/*#__PURE__*/index_js_default().createElement("div",{className:ParamItem_index_module.text},/*#__PURE__*/index_js_default().createElement("div",null,item.keyName),/*#__PURE__*/index_js_default().createElement("div",null,item.title)),/*#__PURE__*/index_js_default().createElement(src/* default */.Z,{type:"iconmore"})));}}]);return ParamItem;}(index_js_.Component);/* harmony default export */ const components_ParamItem = ((/* unused pure expression or super */ null && (ParamItem)));
// EXTERNAL MODULE: ../data-source/node_modules/@icode-run/container/src/index.jsx + 2 modules
var container_src = __webpack_require__(2444);
;// CONCATENATED MODULE: ../data-source/src/components/DataTable/index.module.less
// extracted by mini-css-extract-plugin
/* harmony default export */ const DataTable_index_module = ({"dataToolBtn":"_-data-source-src-components-DataTable-index-module__dataToolBtn","dataToolBtnActive":"_-data-source-src-components-DataTable-index-module__dataToolBtnActive","dataToolsBox":"_-data-source-src-components-DataTable-index-module__dataToolsBox","tableBox":"_-data-source-src-components-DataTable-index-module__tableBox"});
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/input-number/style/index.js + 1 modules
var input_number_style = __webpack_require__(75271);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/input-number/index.js + 19 modules
var input_number = __webpack_require__(67494);
;// CONCATENATED MODULE: ../data-source/src/components/MeasureEdit/index.module.less
// extracted by mini-css-extract-plugin
/* harmony default export */ const MeasureEdit_index_module = ({"tableBox":"_-data-source-src-components-MeasureEdit-index-module__tableBox","checkedLi":"_-data-source-src-components-MeasureEdit-index-module__checkedLi","buttons":"_-data-source-src-components-MeasureEdit-index-module__buttons"});
;// CONCATENATED MODULE: ../data-source/src/components/MeasureEdit/index.jsx
function MeasureEdit_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){MeasureEdit_typeof=function _typeof(obj){return typeof obj;};}else{MeasureEdit_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return MeasureEdit_typeof(obj);}function MeasureEdit_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function MeasureEdit_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){MeasureEdit_ownKeys(Object(source),true).forEach(function(key){MeasureEdit_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{MeasureEdit_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function MeasureEdit_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function MeasureEdit_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function MeasureEdit_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function MeasureEdit_createClass(Constructor,protoProps,staticProps){if(protoProps)MeasureEdit_defineProperties(Constructor.prototype,protoProps);if(staticProps)MeasureEdit_defineProperties(Constructor,staticProps);return Constructor;}function MeasureEdit_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)MeasureEdit_setPrototypeOf(subClass,superClass);}function MeasureEdit_setPrototypeOf(o,p){MeasureEdit_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return MeasureEdit_setPrototypeOf(o,p);}function MeasureEdit_createSuper(Derived){var hasNativeReflectConstruct=MeasureEdit_isNativeReflectConstruct();return function _createSuperInternal(){var Super=MeasureEdit_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=MeasureEdit_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return MeasureEdit_possibleConstructorReturn(this,result);};}function MeasureEdit_possibleConstructorReturn(self,call){if(call&&(MeasureEdit_typeof(call)==="object"||typeof call==="function")){return call;}return MeasureEdit_assertThisInitialized(self);}function MeasureEdit_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function MeasureEdit_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function MeasureEdit_getPrototypeOf(o){MeasureEdit_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return MeasureEdit_getPrototypeOf(o);}/**
 * MeasureEdit
 * @author tianyanrong
 * @date 2021/6/24 下午5:42:23
 */var MeasureEdit=/*#__PURE__*/function(_Component){MeasureEdit_inherits(MeasureEdit,_Component);var _super=MeasureEdit_createSuper(MeasureEdit);function MeasureEdit(){var _this;MeasureEdit_classCallCheck(this,MeasureEdit);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={active:''};_this.handleOk=function(){var onOk=_this.props.onOk;var data=_this.state.data;onOk(data);};_this.handleCancel=function(){var onCancel=_this.props.onCancel;onCancel();};return _this;}MeasureEdit_createClass(MeasureEdit,[{key:"componentDidMount",value:function componentDidMount(){//
}},{key:"render",value:function render(){var _this2=this;var title=this.props.title;var _this$state=this.state,visible=_this$state.visible,active=_this$state.active,_this$state$data=_this$state.data,data=_this$state$data===void 0?{}:_this$state$data;return/*#__PURE__*/index_js_default().createElement(modal/* default */.Z,{title:title||'编辑',visible:visible,cancelText:'取消',okText:'保存',onOk:this.handleOk,onCancel:this.handleCancel},/*#__PURE__*/index_js_default().createElement(container_src/* default */.Z,{direction:"row",style:{paddingBottom:'10px'}},/*#__PURE__*/index_js_default().createElement("div",{style:{flex:1}},"\u522B\u540D\uFF1A",/*#__PURE__*/index_js_default().createElement(input/* default */.Z,{style:{width:'100px'},size:"small",value:data.title||'',placeholder:"",onChange:function onChange(e){var inputValue=e.target.value;_this2.setState({data:MeasureEdit_objectSpread(MeasureEdit_objectSpread({},data),{},{title:inputValue})});}})),/*#__PURE__*/index_js_default().createElement("div",{style:{flex:1}})),/*#__PURE__*/index_js_default().createElement(container_src/* default */.Z,{direction:"row",style:{paddingBottom:'10px'}},/*#__PURE__*/index_js_default().createElement("div",{style:{flex:1}},"\u5355\u4F4D\uFF1A",/*#__PURE__*/index_js_default().createElement(input/* default */.Z,{style:{width:'100px'},size:"small",value:data.unit||'',placeholder:"",onChange:function onChange(e){var inputValue=e.target.value;_this2.setState({data:MeasureEdit_objectSpread(MeasureEdit_objectSpread({},data),{},{unit:inputValue})});}})),/*#__PURE__*/index_js_default().createElement("div",{style:{flex:1}},"\u4FDD\u7559\u5C0F\u6570\u70B9\uFF1A",/*#__PURE__*/index_js_default().createElement(input_number/* default */.Z,{style:{width:'80px'},size:"small",min:0,max:2,value:data.tofixed||2,placeholder:"",onChange:function onChange(value){_this2.setState({data:MeasureEdit_objectSpread(MeasureEdit_objectSpread({},data),{},{tofixed:value})});}}))),/*#__PURE__*/index_js_default().createElement("div",{style:{paddingBottom:'5px'}},"\u8BA1\u7B97\uFF1A"),/*#__PURE__*/index_js_default().createElement(input/* default.TextArea */.Z.TextArea,{rows:4,value:data.math||"[".concat(data.keyName,"]"),onChange:function onChange(e){var inputValue=e.target.value;_this2.setState({data:MeasureEdit_objectSpread(MeasureEdit_objectSpread({},data),{},{math:inputValue})});}}));}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,prevState){var dataString=JSON.stringify(nextProps.data||{});if(dataString!==prevState.propsDataString){return{visible:nextProps.visible||false,data:nextProps.data||{},propsDataString:dataString};}return{visible:nextProps.visible||false};}}]);return MeasureEdit;}(index_js_.Component);/* harmony default export */ const components_MeasureEdit = (MeasureEdit);
;// CONCATENATED MODULE: ../data-source/src/components/DimensionEdit/index.module.less
// extracted by mini-css-extract-plugin
/* harmony default export */ const DimensionEdit_index_module = ({"tableBox":"_-data-source-src-components-DimensionEdit-index-module__tableBox","checkedLi":"_-data-source-src-components-DimensionEdit-index-module__checkedLi","name":"_-data-source-src-components-DimensionEdit-index-module__name","buttons":"_-data-source-src-components-DimensionEdit-index-module__buttons"});
;// CONCATENATED MODULE: ../data-source/src/components/DimensionEdit/index.jsx
function DimensionEdit_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){DimensionEdit_typeof=function _typeof(obj){return typeof obj;};}else{DimensionEdit_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return DimensionEdit_typeof(obj);}function DimensionEdit_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function DimensionEdit_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){DimensionEdit_ownKeys(Object(source),true).forEach(function(key){DimensionEdit_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{DimensionEdit_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function DimensionEdit_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function DimensionEdit_extends(){DimensionEdit_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return DimensionEdit_extends.apply(this,arguments);}function DimensionEdit_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function DimensionEdit_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function DimensionEdit_createClass(Constructor,protoProps,staticProps){if(protoProps)DimensionEdit_defineProperties(Constructor.prototype,protoProps);if(staticProps)DimensionEdit_defineProperties(Constructor,staticProps);return Constructor;}function DimensionEdit_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)DimensionEdit_setPrototypeOf(subClass,superClass);}function DimensionEdit_setPrototypeOf(o,p){DimensionEdit_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return DimensionEdit_setPrototypeOf(o,p);}function DimensionEdit_createSuper(Derived){var hasNativeReflectConstruct=DimensionEdit_isNativeReflectConstruct();return function _createSuperInternal(){var Super=DimensionEdit_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=DimensionEdit_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return DimensionEdit_possibleConstructorReturn(this,result);};}function DimensionEdit_possibleConstructorReturn(self,call){if(call&&(DimensionEdit_typeof(call)==="object"||typeof call==="function")){return call;}return DimensionEdit_assertThisInitialized(self);}function DimensionEdit_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function DimensionEdit_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function DimensionEdit_getPrototypeOf(o){DimensionEdit_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return DimensionEdit_getPrototypeOf(o);}/**
 * DimensionEdit
 * @author tianyanrong
 * @date 2021/6/18 下午2:47:00
 */var DimensionEdit=/*#__PURE__*/function(_Component){DimensionEdit_inherits(DimensionEdit,_Component);var _super=DimensionEdit_createSuper(DimensionEdit);function DimensionEdit(){var _this;DimensionEdit_classCallCheck(this,DimensionEdit);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={active:''};_this.handleOk=function(){var onOk=_this.props.onOk;var data=_this.state.data;onOk(data);};_this.handleCancel=function(){var onCancel=_this.props.onCancel;onCancel();};_this.pushHandleOk=function(){var isModal=_this.props.isModal;if(isModal===false){_this.handleOk();}};_this.addOptions=function(){var _this$state=_this.state,active=_this$state.active,data=_this$state.data;var newData=DimensionEdit_extends([],data);newData.push({label:'',value:'',isNew:true});_this.setState({active:'',data:newData});};_this.removeOptions=function(){var _this$state2=_this.state,active=_this$state2.active,data=_this$state2.data;var newData=DimensionEdit_extends([],data);var currentIndex;data.forEach(function(item,index){if(item.value===active){currentIndex=index;}});newData.splice(currentIndex,1);_this.setState({active:null,data:newData},function(){_this.pushHandleOk();});};_this.updateIndexOptions=function(){var _this$state3=_this.state,active=_this$state3.active,_this$state3$data=_this$state3.data,data=_this$state3$data===void 0?[]:_this$state3$data;var newData=DimensionEdit_extends([],data);var currentIndex,currentItem;data.forEach(function(item,index){if(item.value===active){currentIndex=index;currentItem=item;}});newData.splice(currentIndex,1);newData.splice(currentIndex-1,0,currentItem);_this.setState({data:newData},function(){_this.pushHandleOk();});};_this.updateOptions=function(value,key){var _this$state4=_this.state,active=_this$state4.active,data=_this$state4.data;var newData=[];var activeState=key==='value'?{active:value}:{};data.forEach(function(item,index){if(item.value===active){newData.push(DimensionEdit_objectSpread(DimensionEdit_objectSpread({},item),{},DimensionEdit_defineProperty({},key,value)));}else{newData.push(item);}});_this.setState(DimensionEdit_objectSpread({data:newData},activeState),function(){_this.pushHandleOk();});};_this.getContent=function(){var _this$state5=_this.state,active=_this$state5.active,data=_this$state5.data;var titles=_this.props.titles;return/*#__PURE__*/index_js_default().createElement((index_js_default()).Fragment,null,/*#__PURE__*/index_js_default().createElement("div",{className:DimensionEdit_index_module.tableBox},/*#__PURE__*/index_js_default().createElement("ul",null,/*#__PURE__*/index_js_default().createElement("li",{className:DimensionEdit_index_module.name},/*#__PURE__*/index_js_default().createElement("p",null,titles&&titles[0]||'成员'),/*#__PURE__*/index_js_default().createElement("p",null,titles&&titles[1]||'(转化成)显示别名')),data&&data.map(function(item,index){return/*#__PURE__*/index_js_default().createElement("li",{key:index,className:active===item.value?DimensionEdit_index_module.checkedLi:'',onClick:function onClick(){_this.setState({active:item.value});}},/*#__PURE__*/index_js_default().createElement("p",null,item.isNew&&active===item.value?/*#__PURE__*/index_js_default().createElement(input/* default */.Z,{size:"small",value:item.value,onChange:function onChange(event){_this.updateOptions(event.target.value,'value');}}):item.value),/*#__PURE__*/index_js_default().createElement("p",null,active===item.value?/*#__PURE__*/index_js_default().createElement(input/* default */.Z,{size:"small",value:item.label,onChange:function onChange(event){_this.updateOptions(event.target.value,'label');}}):item.label));}))),/*#__PURE__*/index_js_default().createElement("div",{className:DimensionEdit_index_module.buttons},/*#__PURE__*/index_js_default().createElement(es_button/* default */.Z,{size:"small",onClick:function onClick(){_this.addOptions();}},"\u6DFB\u52A0"),/*#__PURE__*/index_js_default().createElement(es_button/* default */.Z,{size:"small",onClick:function onClick(){_this.removeOptions();}},"\u5220\u9664"),/*#__PURE__*/index_js_default().createElement(es_button/* default */.Z,{size:"small",onClick:function onClick(){_this.updateIndexOptions();}},"\u4E0A\u79FB")));};return _this;}DimensionEdit_createClass(DimensionEdit,[{key:"componentDidMount",value:function componentDidMount(){}},{key:"render",value:function render(){var _this$props=this.props,title=_this$props.title,isModal=_this$props.isModal;var visible=this.state.visible;return isModal==false?this.getContent():/*#__PURE__*/index_js_default().createElement(modal/* default */.Z,{title:title||'编辑',visible:visible,cancelText:'取消',okText:'保存',onOk:this.handleOk,onCancel:this.handleCancel},this.getContent());}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,prevState){var dataString=JSON.stringify(nextProps.data||[]);if(dataString!==prevState.propsDataString){return{visible:nextProps.visible||false,data:nextProps.data,propsDataString:dataString};}return{visible:nextProps.visible||false};}}]);return DimensionEdit;}(index_js_.Component);/* harmony default export */ const components_DimensionEdit = (DimensionEdit);
// EXTERNAL MODULE: ../my-cli/node_modules/@ant-design/icons/es/icons/CaretDownOutlined.js + 1 modules
var CaretDownOutlined = __webpack_require__(66429);
;// CONCATENATED MODULE: ../data-source/src/components/TableResize/TableHeader.jsx
function TableHeader_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){TableHeader_typeof=function _typeof(obj){return typeof obj;};}else{TableHeader_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return TableHeader_typeof(obj);}function TableHeader_extends(){TableHeader_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return TableHeader_extends.apply(this,arguments);}function TableHeader_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function TableHeader_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function TableHeader_createClass(Constructor,protoProps,staticProps){if(protoProps)TableHeader_defineProperties(Constructor.prototype,protoProps);if(staticProps)TableHeader_defineProperties(Constructor,staticProps);return Constructor;}function TableHeader_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)TableHeader_setPrototypeOf(subClass,superClass);}function TableHeader_setPrototypeOf(o,p){TableHeader_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return TableHeader_setPrototypeOf(o,p);}function TableHeader_createSuper(Derived){var hasNativeReflectConstruct=TableHeader_isNativeReflectConstruct();return function _createSuperInternal(){var Super=TableHeader_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=TableHeader_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return TableHeader_possibleConstructorReturn(this,result);};}function TableHeader_possibleConstructorReturn(self,call){if(call&&(TableHeader_typeof(call)==="object"||typeof call==="function")){return call;}return TableHeader_assertThisInitialized(self);}function TableHeader_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function TableHeader_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function TableHeader_getPrototypeOf(o){TableHeader_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return TableHeader_getPrototypeOf(o);}var typeIcons={'string':{icon:'iconAbc',style:{color:'#4996b2'}},'date':{icon:'icondate',style:{color:'#4996b2'}},'number':{icon:'iconnumber',style:{color:'#00b180'}}};var TableHeader=/*#__PURE__*/function(_Component){TableHeader_inherits(TableHeader,_Component);var _super=TableHeader_createSuper(TableHeader);function TableHeader(){var _this;TableHeader_classCallCheck(this,TableHeader);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={isEidtName:false,data:{},prePropsData:{}};_this.editCallBack=function(){var editCallBack=_this.props.editCallBack;if(editCallBack&&typeof editCallBack==='function'){editCallBack();}};_this.editNameCallBack=function(){var editNameCallBack=_this.props.editNameCallBack;if(editNameCallBack&&typeof editNameCallBack==='function'){editNameCallBack();}};_this.addKeyCallBack=function(){var addKeyCallBack=_this.props.addKeyCallBack;if(addKeyCallBack&&typeof addKeyCallBack==='function'){addKeyCallBack();}};_this.addParamCallBack=function(){var addParamCallBack=_this.props.addParamCallBack;if(addParamCallBack&&typeof addParamCallBack==='function'){addParamCallBack();}};return _this;}TableHeader_createClass(TableHeader,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;this.setState({menu:/*#__PURE__*/index_js_default().createElement(es_menu/* default */.Z,null,/*#__PURE__*/index_js_default().createElement(es_menu/* default.Item */.Z.Item,null,/*#__PURE__*/index_js_default().createElement("a",{onClick:function onClick(){_this2.setState({isEidtName:true});}},"\u7F16\u8F91\u5B57\u6BB5\u522B\u540D")),/*#__PURE__*/index_js_default().createElement(es_menu/* default.Item */.Z.Item,null,/*#__PURE__*/index_js_default().createElement("a",null,"\u9690\u85CF\u5B57\u6BB5")),/*#__PURE__*/index_js_default().createElement("div",{style:{height:'1px',background:'#eee'}}),/*#__PURE__*/index_js_default().createElement(es_menu/* default.Item */.Z.Item,null,/*#__PURE__*/index_js_default().createElement("a",{onClick:function onClick(){_this2.editNameCallBack();}},"\u6570\u636E\u522B\u540D...")),/*#__PURE__*/index_js_default().createElement(es_menu/* default.Item */.Z.Item,null,/*#__PURE__*/index_js_default().createElement("a",{onClick:function onClick(){_this2.editCallBack();}},"\u6570\u636E\u7F16\u8F91...")),/*#__PURE__*/index_js_default().createElement("div",{style:{height:'1px',background:'#eee'}}),/*#__PURE__*/index_js_default().createElement(es_menu/* default.Item */.Z.Item,null,/*#__PURE__*/index_js_default().createElement("a",{onClick:function onClick(){_this2.addKeyCallBack();}},"\u521B\u5EFA\u8BA1\u7B97\u5B57\u6BB5...")),/*#__PURE__*/index_js_default().createElement(es_menu/* default.Item */.Z.Item,null,/*#__PURE__*/index_js_default().createElement("a",{onClick:function onClick(){_this2.addParamCallBack();}},"\u521B\u5EFA\u7B5B\u9009...")))});}},{key:"render",value:function render(){var _this3=this;var _this$state=this.state,menu=_this$state.menu,isEidtName=_this$state.isEidtName;var _this$props$data=this.props.data,data=_this$props$data===void 0?{}:_this$props$data;return/*#__PURE__*/index_js_default().createElement("div",{className:TableResize_index_module.title},/*#__PURE__*/index_js_default().createElement(container_src/* default */.Z,{direction:"row"},/*#__PURE__*/index_js_default().createElement("div",{style:{width:'calc(100% - 20px)',whiteSpace:'nowrap'}},/*#__PURE__*/index_js_default().createElement(src/* default */.Z,{type:typeIcons['number'].icon,style:typeIcons['number'].style}),/*#__PURE__*/index_js_default().createElement("span",{className:TableResize_index_module.titleKeyName},data.keyName)),/*#__PURE__*/index_js_default().createElement("div",{style:{width:'20px',color:'#666'}},/*#__PURE__*/index_js_default().createElement(dropdown/* default */.Z,{overlay:menu,trigger:['click'],placement:'bottomRight'},/*#__PURE__*/index_js_default().createElement(CaretDownOutlined/* default */.Z,null)))),isEidtName?/*#__PURE__*/index_js_default().createElement("div",null,/*#__PURE__*/index_js_default().createElement(input/* default */.Z,{size:"small",placeholder:"",value:data.name||'',onChange:function onChange(event){_this3.setState({data:TableHeader_extends({},data,{name:event.currentTarget.value})});},onBlur:function onBlur(){_this3.setState({isEidtName:false});}})):/*#__PURE__*/index_js_default().createElement("div",{className:TableResize_index_module.titleName},data.name));}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,prevState){var data=nextProps.data;var prePropsData=prevState.prePropsData;if(JSON.stringify(prePropsData||{})!==JSON.stringify(data||{})){return{data:data||{},prePropsData:data||{}};}return null;}}]);return TableHeader;}(index_js_.Component);/* harmony default export */ const TableResize_TableHeader = ((/* unused pure expression or super */ null && (TableHeader)));
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/checkbox/style/index.js + 1 modules
var checkbox_style = __webpack_require__(75529);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/checkbox/index.js + 2 modules
var es_checkbox = __webpack_require__(20149);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/select/style/index.js + 1 modules
var select_style = __webpack_require__(94289);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/select/index.js
var es_select = __webpack_require__(4213);
;// CONCATENATED MODULE: ../data-source/src/components/ParamAddModal/index.module.less
// extracted by mini-css-extract-plugin
/* harmony default export */ const ParamAddModal_index_module = ({"box":"_-data-source-src-components-ParamAddModal-index-module__box","valueBox":"_-data-source-src-components-ParamAddModal-index-module__valueBox","valueBoxActive":"_-data-source-src-components-ParamAddModal-index-module__valueBoxActive","containerRow":"_-data-source-src-components-ParamAddModal-index-module__containerRow","containerBox":"_-data-source-src-components-ParamAddModal-index-module__containerBox","containerBoxTitle":"_-data-source-src-components-ParamAddModal-index-module__containerBoxTitle","containerBoxBody":"_-data-source-src-components-ParamAddModal-index-module__containerBoxBody"});
// EXTERNAL MODULE: ../my-cli/node_modules/@ant-design/icons/es/icons/DownOutlined.js + 1 modules
var DownOutlined = __webpack_require__(12039);
// EXTERNAL MODULE: ../icode-component/packages/utils/es/globalOptions.js
var globalOptions = __webpack_require__(4769);
// EXTERNAL MODULE: ../icode-component/packages/utils/es/dynamicOptions.js
var dynamicOptions = __webpack_require__(40880);
// EXTERNAL MODULE: ../icode-component/packages/utils/es/dateFormatOptions.js
var dateFormatOptions = __webpack_require__(97652);
;// CONCATENATED MODULE: ../data-source/src/components/ParamAddModal/index.js
function ParamAddModal_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){ParamAddModal_typeof=function _typeof(obj){return typeof obj;};}else{ParamAddModal_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return ParamAddModal_typeof(obj);}function ParamAddModal_extends(){ParamAddModal_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return ParamAddModal_extends.apply(this,arguments);}function ParamAddModal_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function ParamAddModal_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ParamAddModal_ownKeys(Object(source),true).forEach(function(key){ParamAddModal_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ParamAddModal_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function ParamAddModal_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function ParamAddModal_objectWithoutProperties(source,excluded){if(source==null)return{};var target=ParamAddModal_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key];}}return target;}function ParamAddModal_objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key];}return target;}function ParamAddModal_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function ParamAddModal_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function ParamAddModal_createClass(Constructor,protoProps,staticProps){if(protoProps)ParamAddModal_defineProperties(Constructor.prototype,protoProps);if(staticProps)ParamAddModal_defineProperties(Constructor,staticProps);return Constructor;}function ParamAddModal_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)ParamAddModal_setPrototypeOf(subClass,superClass);}function ParamAddModal_setPrototypeOf(o,p){ParamAddModal_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return ParamAddModal_setPrototypeOf(o,p);}function ParamAddModal_createSuper(Derived){var hasNativeReflectConstruct=ParamAddModal_isNativeReflectConstruct();return function _createSuperInternal(){var Super=ParamAddModal_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=ParamAddModal_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return ParamAddModal_possibleConstructorReturn(this,result);};}function ParamAddModal_possibleConstructorReturn(self,call){if(call&&(ParamAddModal_typeof(call)==="object"||typeof call==="function")){return call;}return ParamAddModal_assertThisInitialized(self);}function ParamAddModal_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function ParamAddModal_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function ParamAddModal_getPrototypeOf(o){ParamAddModal_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return ParamAddModal_getPrototypeOf(o);}//import importRemote from 'import-remote-module';
var ParamAddModal=/*#__PURE__*/function(_Component){ParamAddModal_inherits(ParamAddModal,_Component);var _super=ParamAddModal_createSuper(ParamAddModal);function ParamAddModal(){var _this;ParamAddModal_classCallCheck(this,ParamAddModal);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={};_this.onOk=function(){var onOk=_this.props.onOk;var _this$state=_this.state,visible=_this$state.visible,data=ParamAddModal_objectWithoutProperties(_this$state,["visible"]);var newFormatConfig={},key,isHadFormatConfig=false;var formatConfig=data.formatConfig;for(key in formatConfig){var isHadValue=false;if(key==='alias'&&formatConfig[key]&&formatConfig[key].length){isHadValue=true;}else if(key==='toFixed'&&formatConfig[key]&&formatConfig[key].count){isHadValue=true;}else if((key==='date'||key==='logic'||key==='separator')&&formatConfig[key]){isHadValue=true;}if(isHadValue){isHadFormatConfig=true;newFormatConfig[key]=formatConfig[key];}}data.formatConfig=newFormatConfig;if(onOk&&typeof onOk==='function'){// console.log('---------------',data);
onOk(data);}};_this.onCancel=function(){var onCancel=_this.props.onCancel;if(onCancel&&typeof onCancel==='function'){onCancel();}};return _this;}ParamAddModal_createClass(ParamAddModal,[{key:"render",value:function render(){var _this2=this;var _this$props=this.props,title=_this$props.title,isOnlyEditData=_this$props.isOnlyEditData,isShowDefaultValue=_this$props.isShowDefaultValue,isShowFormatValue=_this$props.isShowFormatValue;var _this$state2=this.state,visible=_this$state2.visible,paramsStructures=_this$state2.paramsStructures,data=ParamAddModal_objectWithoutProperties(_this$state2,["visible","paramsStructures"]);var defaultValueConfig=data.defaultValueConfig||{};var formatConfig=data.formatConfig||{};return/*#__PURE__*/index_js_default().createElement(modal/* default */.Z,{title:title,visible:visible,onOk:function onOk(){_this2.onOk();},onCancel:function onCancel(){_this2.onCancel();}},/*#__PURE__*/index_js_default().createElement("div",{className:ParamAddModal_index_module.box},/*#__PURE__*/index_js_default().createElement("div",{className:ParamAddModal_index_module.containerBox},/*#__PURE__*/index_js_default().createElement("div",{className:ParamAddModal_index_module.containerBoxTitle},"\u5B57\u6BB5\u57FA\u672C\u4FE1\u606F"),/*#__PURE__*/index_js_default().createElement("div",{className:"".concat(ParamAddModal_index_module.containerBoxBody)},/*#__PURE__*/index_js_default().createElement("div",{className:ParamAddModal_index_module.containerRow},/*#__PURE__*/index_js_default().createElement("div",{style:{flex:1}},"\u5B57\u6BB5\u540D\u79F0\uFF1A",/*#__PURE__*/index_js_default().createElement(input/* default */.Z,{style:{width:'100px'},size:"small",value:data.keyName,disabled:isOnlyEditData,placeholder:"",onChange:function onChange(e){var value=e.target.value;_this2.setState({keyName:value});}})),/*#__PURE__*/index_js_default().createElement("div",{style:{flex:1}},"\u5B57\u6BB5\u522B\u540D\uFF1A",/*#__PURE__*/index_js_default().createElement(input/* default */.Z,{style:{width:'100px'},size:"small",disabled:isOnlyEditData,value:data.title,placeholder:"",onChange:function onChange(e){var value=e.target.value;_this2.setState({title:value});}}))),/*#__PURE__*/index_js_default().createElement("div",{className:ParamAddModal_index_module.containerRow,style:{marginTop:'10px'}},/*#__PURE__*/index_js_default().createElement("div",{style:{flex:1}},"\u5B57\u6BB5\u7C7B\u578B\uFF1A",/*#__PURE__*/index_js_default().createElement(es_select/* default */.Z,{style:{width:'100px'},disabled:isOnlyEditData,size:"small",value:data.type,placeholder:"",onChange:function onChange(value){_this2.setState({type:value});}},/*#__PURE__*/index_js_default().createElement(es_select/* default.Option */.Z.Option,{value:"string"},"string"),/*#__PURE__*/index_js_default().createElement(es_select/* default.Option */.Z.Option,{value:"number"},"number"),/*#__PURE__*/index_js_default().createElement(es_select/* default.Option */.Z.Option,{value:"date"},"date")))))),isShowDefaultValue?/*#__PURE__*/index_js_default().createElement("div",{className:ParamAddModal_index_module.containerBox},/*#__PURE__*/index_js_default().createElement("div",{className:ParamAddModal_index_module.containerBoxTitle},"\u9ED8\u8BA4\u503C\u8BBE\u503C"),/*#__PURE__*/index_js_default().createElement("div",{className:"".concat(ParamAddModal_index_module.containerBoxBody)},/*#__PURE__*/index_js_default().createElement("div",{className:ParamAddModal_index_module.containerRow},/*#__PURE__*/index_js_default().createElement("div",{style:{flex:1}},/*#__PURE__*/index_js_default().createElement(es_select/* default */.Z,{style:{width:'90%'},size:"small",value:defaultValueConfig.ruleType||'',placeholder:"",onChange:function onChange(value){_this2.setState({defaultValueConfig:ParamAddModal_objectSpread(ParamAddModal_objectSpread({},defaultValueConfig),{},{ruleType:value,ruleValue:''})});}},/*#__PURE__*/index_js_default().createElement(es_select/* default.Option */.Z.Option,{value:''},"--\u4E0D\u8BBE\u7F6E--"),/*#__PURE__*/index_js_default().createElement(es_select/* default.Option */.Z.Option,{value:'static'},"\u9759\u6001\u503C"),data.type==='date'?/*#__PURE__*/index_js_default().createElement(es_select/* default.Option */.Z.Option,{value:'dynamic'},"\u52A8\u6001\u503C"):null)),/*#__PURE__*/index_js_default().createElement("div",{style:{flex:2}},defaultValueConfig.ruleType==='static'?/*#__PURE__*/index_js_default().createElement(input/* default */.Z,{size:"small",value:defaultValueConfig.ruleValue||'',addonAfter:/*#__PURE__*/index_js_default().createElement(dropdown/* default */.Z,{placement:"bottomRight",overlay:/*#__PURE__*/index_js_default().createElement(es_menu/* default */.Z,{onClick:function onClick(e){var value=e&&e.item&&e.item.props&&e.item.props.value||'';_this2.setState({defaultValueConfig:ParamAddModal_objectSpread(ParamAddModal_objectSpread({},defaultValueConfig),{},{ruleValue:value})});}},/*#__PURE__*/index_js_default().createElement(es_menu/* default.SubMenu */.Z.SubMenu,{title:"\u6392\u5E8F"},/*#__PURE__*/index_js_default().createElement(es_menu/* default.Item */.Z.Item,{value:"ASC"},"\u6B63\u5E8F"),/*#__PURE__*/index_js_default().createElement(es_menu/* default.Item */.Z.Item,{value:"DESC"},"\u5012\u5E8F")),/*#__PURE__*/index_js_default().createElement(es_menu/* default.SubMenu */.Z.SubMenu,{title:"\u63A5\u53E3\u53C2\u6570\u5B57\u6BB5 "},(paramsStructures||[]).map(function(item){return/*#__PURE__*/index_js_default().createElement(es_menu/* default.Item */.Z.Item,{value:item.keyName},item.title);})))},/*#__PURE__*/index_js_default().createElement("a",{className:"ant-dropdown-link",onClick:function onClick(e){return e.preventDefault();}},"\u5E38\u7528\u9759\u6001\u503C ",/*#__PURE__*/index_js_default().createElement(DownOutlined/* default */.Z,null)))// <Select style={{ width: 150 }} onChange={(value) => {
//   this.setState({
//     defaultValueConfig: {
//       ...defaultValueConfig,
//       ruleValue: value
//     }
//   });
// }}>
//   <Select.OptGroup label="接口参数字段">
//     {(paramsStructures || []).map(item => {
//       return <Select.Option value={item.keyName}>{item.title}</Select.Option>
//     })}
//   </Select.OptGroup>
//   <Select.OptGroup label="排序方式">
//     <Select.Option value="DESC">倒序</Select.Option>
//     <Select.Option value="ASC">正序</Select.Option>
//   </Select.OptGroup>
// </Select>
,onChange:function onChange(e){var value=e.target.value;_this2.setState({defaultValueConfig:ParamAddModal_objectSpread(ParamAddModal_objectSpread({},defaultValueConfig),{},{ruleValue:value})});}}):null,defaultValueConfig.ruleType==='cookie'?/*#__PURE__*/index_js_default().createElement(input/* default */.Z,{size:"small",value:defaultValueConfig.ruleValue||'',onChange:function onChange(e){var value=e.target.value;_this2.setState({defaultValueConfig:ParamAddModal_objectSpread(ParamAddModal_objectSpread({},defaultValueConfig),{},{ruleValue:value})});}}):null,defaultValueConfig.ruleType==='global'?/*#__PURE__*/index_js_default().createElement(es_select/* default */.Z,{style:{width:'100%'},size:"small",value:defaultValueConfig.ruleValue||'',placeholder:"",onChange:function onChange(value){_this2.setState({defaultValueConfig:ParamAddModal_objectSpread(ParamAddModal_objectSpread({},defaultValueConfig),{},{ruleValue:value})});}},globalOptions/* default.map */.Z.map(function(item,index){return/*#__PURE__*/index_js_default().createElement(es_select/* default.Option */.Z.Option,{key:"globalParams".concat(index),value:item.keyName},item.title);})):null,defaultValueConfig.ruleType==='dynamic'?/*#__PURE__*/index_js_default().createElement(es_select/* default */.Z,{style:{width:'100%'},size:"small",value:defaultValueConfig.ruleValue||'',placeholder:"",onChange:function onChange(value){_this2.setState({defaultValueConfig:ParamAddModal_objectSpread(ParamAddModal_objectSpread({},defaultValueConfig),{},{ruleValue:value})});}},dynamicOptions/* default.map */.Z.map(function(item,index){return/*#__PURE__*/index_js_default().createElement(es_select/* default.Option */.Z.Option,{key:"dynamicOptions".concat(index),value:item.value},item.title);})):null)))):null,isShowFormatValue?/*#__PURE__*/index_js_default().createElement("div",{className:ParamAddModal_index_module.containerBox},/*#__PURE__*/index_js_default().createElement("div",{className:ParamAddModal_index_module.containerBoxTitle},"\u6570\u636E\u683C\u5F0F\u5316"),/*#__PURE__*/index_js_default().createElement("div",{className:"".concat(ParamAddModal_index_module.containerBoxBody)},['number'].indexOf(data.type)>=0?/*#__PURE__*/index_js_default().createElement("div",{className:ParamAddModal_index_module.containerRow},/*#__PURE__*/index_js_default().createElement("div",{style:{width:'7em'}},"\u4FDD\u7559\u5C0F\u6570\u4F4D\u6570\uFF1A"),/*#__PURE__*/index_js_default().createElement("div",{style:{flex:'auto'}},/*#__PURE__*/index_js_default().createElement(input_number/* default */.Z,{size:"small",style:{width:'60px',marginRight:'15px'},value:formatConfig.toFixed&&formatConfig.toFixed.count||'',onChange:function onChange(value){var newToFixed=ParamAddModal_extends({},formatConfig.toFixed,{count:value});_this2.setState({formatConfig:ParamAddModal_objectSpread(ParamAddModal_objectSpread({},formatConfig),{},{toFixed:newToFixed})});}}),/*#__PURE__*/index_js_default().createElement(es_checkbox/* default */.Z,{checked:formatConfig.toFixed&&formatConfig.toFixed.isRounding,onChange:function onChange(e){var checked=e.target.checked;var newToFixed=ParamAddModal_extends({},formatConfig.toFixed,{isRounding:checked});_this2.setState({formatConfig:ParamAddModal_objectSpread(ParamAddModal_objectSpread({},formatConfig),{},{toFixed:newToFixed})});}},"\u56DB\u820D\u4E94\u5165"),/*#__PURE__*/index_js_default().createElement(es_checkbox/* default */.Z,{checked:formatConfig.toFixed&&formatConfig.toFixed.isCovering,onChange:function onChange(e){var checked=e.target.checked;var newToFixed=ParamAddModal_extends({},formatConfig.toFixed,{isCovering:checked});_this2.setState({formatConfig:ParamAddModal_objectSpread(ParamAddModal_objectSpread({},formatConfig),{},{toFixed:newToFixed})});}},"\u8865\u4F4D"))):null,['number'].indexOf(data.type)>=0?/*#__PURE__*/index_js_default().createElement("div",{className:ParamAddModal_index_module.containerRow,style:{marginTop:'15px'}},/*#__PURE__*/index_js_default().createElement("div",{style:{width:'7em'}},"\u5206\u9694\u7B26\uFF1A"),/*#__PURE__*/index_js_default().createElement("div",{style:{flex:'auto'}},/*#__PURE__*/index_js_default().createElement(es_checkbox/* default */.Z,{checked:formatConfig.separator,onChange:function onChange(e){var checked=e.target.checked;_this2.setState({formatConfig:ParamAddModal_objectSpread(ParamAddModal_objectSpread({},formatConfig),{},{separator:checked})});}},"\u5343\u4F4D\u5206\u9694\u7B26"))):null,['date'].indexOf(data.type)>=0?/*#__PURE__*/index_js_default().createElement("div",{className:ParamAddModal_index_module.containerRow,style:{marginTop:'15px'}},/*#__PURE__*/index_js_default().createElement("div",{style:{width:'7em'}},"\u65E5\u671F\u683C\u5F0F\uFF1A"),/*#__PURE__*/index_js_default().createElement("div",{style:{flex:'auto'}},/*#__PURE__*/index_js_default().createElement(es_select/* default */.Z,{style:{width:'100%'},size:"small",value:formatConfig.date||'',placeholder:"",mode:"tags",onChange:function onChange(value){var newValue=value&&value.length&&value[value.length-1]||'';_this2.setState({formatConfig:ParamAddModal_objectSpread(ParamAddModal_objectSpread({},formatConfig),{},{date:newValue})});}},/*#__PURE__*/index_js_default().createElement(es_select/* default.Option */.Z.Option,{key:"dateFormataaa",value:''},"--\u4E0D\u8BBE\u7F6E--"),dateFormatOptions/* default.map */.Z.map(function(item,index){return/*#__PURE__*/index_js_default().createElement(es_select/* default.Option */.Z.Option,{key:"dateFormat".concat(index),value:item.value},item.title);})))):null,['number'].indexOf(data.type)>=0?/*#__PURE__*/index_js_default().createElement("div",{className:ParamAddModal_index_module.containerRow,style:{marginTop:'15px'}},/*#__PURE__*/index_js_default().createElement("div",{style:{width:'7em'}},"\u8BA1\u7B97/\u62FC\u5408\uFF1A"),/*#__PURE__*/index_js_default().createElement("div",{style:{flex:'auto'}},/*#__PURE__*/index_js_default().createElement(input/* default */.Z,{size:"small",value:formatConfig.logic||"[".concat(data.keyName,"]"),onChange:function onChange(e){var value=e.target.value;if(value==="[".concat(data.keyName,"]")){value='';}_this2.setState({formatConfig:ParamAddModal_objectSpread(ParamAddModal_objectSpread({},formatConfig),{},{logic:value})});}}))):null,['number','string'].indexOf(data.type)>=0?/*#__PURE__*/index_js_default().createElement("div",{className:ParamAddModal_index_module.containerRow,style:{marginTop:'15px'}},/*#__PURE__*/index_js_default().createElement("div",{style:{width:'7em'}},"\u6570\u636E\u522B\u540D\uFF1A"),/*#__PURE__*/index_js_default().createElement("div",{style:{flex:'auto'}},/*#__PURE__*/index_js_default().createElement(components_DimensionEdit,{isModal:false,data:formatConfig.alias||[],onOk:function onOk(data){_this2.setState({formatConfig:ParamAddModal_objectSpread(ParamAddModal_objectSpread({},formatConfig),{},{alias:data})});}}))):null)):null));}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,prevState){if(nextProps.visible!==prevState.visible&&nextProps.visible){var data=nextProps.data||{};return{keyName:data.keyName,type:data.type,title:data.title,nodeId:data.nodeId,defaultValueConfig:data.defaultValueConfig,formatConfig:data.formatConfig,visible:nextProps.visible,paramsStructures:data.paramsStructures};}return{visible:nextProps.visible};}}]);return ParamAddModal;}(index_js_.Component);/* harmony default export */ const components_ParamAddModal = (ParamAddModal);
;// CONCATENATED MODULE: ../data-source/src/components/DataTable/index.js
function DataTable_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){DataTable_typeof=function _typeof(obj){return typeof obj;};}else{DataTable_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return DataTable_typeof(obj);}function DataTable_extends(){DataTable_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return DataTable_extends.apply(this,arguments);}function DataTable_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function DataTable_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function DataTable_createClass(Constructor,protoProps,staticProps){if(protoProps)DataTable_defineProperties(Constructor.prototype,protoProps);if(staticProps)DataTable_defineProperties(Constructor,staticProps);return Constructor;}function DataTable_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)DataTable_setPrototypeOf(subClass,superClass);}function DataTable_setPrototypeOf(o,p){DataTable_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return DataTable_setPrototypeOf(o,p);}function DataTable_createSuper(Derived){var hasNativeReflectConstruct=DataTable_isNativeReflectConstruct();return function _createSuperInternal(){var Super=DataTable_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=DataTable_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return DataTable_possibleConstructorReturn(this,result);};}function DataTable_possibleConstructorReturn(self,call){if(call&&(DataTable_typeof(call)==="object"||typeof call==="function")){return call;}return DataTable_assertThisInitialized(self);}function DataTable_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function DataTable_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function DataTable_getPrototypeOf(o){DataTable_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return DataTable_getPrototypeOf(o);}var DataTable=/*#__PURE__*/function(_Component){DataTable_inherits(DataTable,_Component);var _super=DataTable_createSuper(DataTable);function DataTable(){var _this;DataTable_classCallCheck(this,DataTable);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={editModalVisible:false,// "数据编辑"弹出框显示控制
editNameModalVisible:false,// "数据别名"弹出框显示控制
addKeyModalVisible:false,// "创建计算字段"弹出框显示控制
paramAddModalVisible:false// "创建筛先字段"弹出框显示控制
};return _this;}DataTable_createClass(DataTable,[{key:"componentDidMount",value:function componentDidMount(){}},{key:"render",value:function render(){var _this2=this;var _this$state=this.state,editModalVisible=_this$state.editModalVisible,editNameModalVisible=_this$state.editNameModalVisible,addKeyModalVisible=_this$state.addKeyModalVisible,paramAddModalVisible=_this$state.paramAddModalVisible;var getHeight=this.props.getHeight;return/*#__PURE__*/index_js_default().createElement((index_js_default()).Fragment,null,/*#__PURE__*/index_js_default().createElement("div",{className:DataTable_index_module.tableBox},/*#__PURE__*/index_js_default().createElement(TableResize,DataTable_extends({},this.props,{getHeight:getHeight// getHeader={(item) => {
//   return <TableHeader 
//   data={item}
//   editCallBack={() => {
//     this.setState({
//       editModalVisible: true,
//     })
//   }} 
//   editNameCallBack={() => {
//     this.setState({
//       editNameModalVisible: true,
//     })
//   }}
//   addKeyCallBack={() => {
//     this.setState({
//       addKeyModalVisible: true,
//     })
//   }}
//   addParamCallBack={() => {
//     this.setState({
//       paramAddModalVisible: true,
//     })
//   }}
//   />
// }}
}))),/*#__PURE__*/index_js_default().createElement(components_MeasureEdit,{visible:editModalVisible,onCancel:function onCancel(){_this2.setState({editModalVisible:false});},title:"\u6570\u636E\u7F16\u8F91",data:[],onOk:function onOk(data){// this.updatePropsOptions(this.getDimensions(currentKeyName, data));
_this2.setState({editModalVisible:false});}}),/*#__PURE__*/index_js_default().createElement(components_MeasureEdit,{visible:addKeyModalVisible,onCancel:function onCancel(){_this2.setState({addKeyModalVisible:false});},title:"\u521B\u5EFA\u8BA1\u7B97\u5B57\u6BB5",data:[],onOk:function onOk(data){// this.updatePropsOptions(this.getDimensions(currentKeyName, data));
_this2.setState({addKeyModalVisible:false});}}),/*#__PURE__*/index_js_default().createElement(components_DimensionEdit,{visible:editNameModalVisible,onCancel:function onCancel(){_this2.setState({editNameModalVisible:false});},title:"\u6570\u636E\u522B\u540D\u7F16\u8F91",data:[],onOk:function onOk(data){_this2.setState({editNameModalVisible:false});}}),/*#__PURE__*/index_js_default().createElement(components_ParamAddModal,{visible:paramAddModalVisible,onCancel:function onCancel(){_this2.setState({paramAddModalVisible:false});},title:"\u521B\u5EFA\u7B5B\u9009\u5B57\u6BB5",data:[],onOk:function onOk(data){_this2.setState({paramAddModalVisible:false});}}));}}]);return DataTable;}(index_js_.Component);/* harmony default export */ const components_DataTable = (DataTable);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/form/style/index.js + 3 modules
var form_style = __webpack_require__(44036);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/form/index.js + 19 modules
var es_form = __webpack_require__(16575);
;// CONCATENATED MODULE: ../data-source/src/components/DataSourceList/index.module.less
// extracted by mini-css-extract-plugin
/* harmony default export */ const DataSourceList_index_module = ({"box":"_-data-source-src-components-DataSourceList-index-module__box","title":"_-data-source-src-components-DataSourceList-index-module__title","addMySqlBtn":"_-data-source-src-components-DataSourceList-index-module__addMySqlBtn","content":"_-data-source-src-components-DataSourceList-index-module__content","tableList":"_-data-source-src-components-DataSourceList-index-module__tableList","li":"_-data-source-src-components-DataSourceList-index-module__li","key":"_-data-source-src-components-DataSourceList-index-module__key","myConnectTitle":"_-data-source-src-components-DataSourceList-index-module__myConnectTitle","tabBarExtraContent":"_-data-source-src-components-DataSourceList-index-module__tabBarExtraContent","menuDrop":"_-data-source-src-components-DataSourceList-index-module__menuDrop"});
// EXTERNAL MODULE: ../my-cli/node_modules/@ant-design/icons/es/icons/PaperClipOutlined.js + 1 modules
var PaperClipOutlined = __webpack_require__(62386);
// EXTERNAL MODULE: ../my-designer/src/components/MenuDrop/index.jsx + 1 modules
var MenuDrop = __webpack_require__(48482);
;// CONCATENATED MODULE: ../data-source/src/components/DataSourceList/index.jsx
function DataSourceList_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){DataSourceList_typeof=function _typeof(obj){return typeof obj;};}else{DataSourceList_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return DataSourceList_typeof(obj);}function DataSourceList_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function DataSourceList_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){DataSourceList_ownKeys(Object(source),true).forEach(function(key){DataSourceList_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{DataSourceList_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function DataSourceList_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function DataSourceList_extends(){DataSourceList_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return DataSourceList_extends.apply(this,arguments);}function DataSourceList_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function DataSourceList_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){DataSourceList_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value);}function _throw(err){DataSourceList_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err);}_next(undefined);});};}function DataSourceList_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function DataSourceList_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function DataSourceList_createClass(Constructor,protoProps,staticProps){if(protoProps)DataSourceList_defineProperties(Constructor.prototype,protoProps);if(staticProps)DataSourceList_defineProperties(Constructor,staticProps);return Constructor;}function DataSourceList_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)DataSourceList_setPrototypeOf(subClass,superClass);}function DataSourceList_setPrototypeOf(o,p){DataSourceList_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return DataSourceList_setPrototypeOf(o,p);}function DataSourceList_createSuper(Derived){var hasNativeReflectConstruct=DataSourceList_isNativeReflectConstruct();return function _createSuperInternal(){var Super=DataSourceList_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=DataSourceList_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return DataSourceList_possibleConstructorReturn(this,result);};}function DataSourceList_possibleConstructorReturn(self,call){if(call&&(DataSourceList_typeof(call)==="object"||typeof call==="function")){return call;}return DataSourceList_assertThisInitialized(self);}function DataSourceList_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function DataSourceList_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function DataSourceList_getPrototypeOf(o){DataSourceList_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return DataSourceList_getPrototypeOf(o);}// const [form] = Form.useForm();
var DataSourceList=/*#__PURE__*/function(_Component){DataSourceList_inherits(DataSourceList,_Component);var _super=DataSourceList_createSuper(DataSourceList);function DataSourceList(){var _this;DataSourceList_classCallCheck(this,DataSourceList);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.formRef=/*#__PURE__*/index_js_default().createRef();_this.state={list:[]};_this.saveMySqlAccount=/*#__PURE__*/function(){var _ref=DataSourceList_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(data){var dispatchModel,res;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatchModel=_this.props.dispatchModel;_context.next=3;return dispatchModel('saveMysqlAccount',data);case 3:res=_context.sent;if(res.result==='error'){message/* default.error */.ZP.error('数据库连接失败！');}else{_this.setState({visible:false});}case 5:case"end":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.getTools=function(){var fields=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var table=arguments.length>1?arguments[1]:undefined;var currDatabase=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var menu=[{label:"主表(列出所有记录)",isChecked:currDatabase.joinType==='left',callback:function callback(){var isChecked=currDatabase.joinType==='left';_this.updateDatabase('update',DataSourceList_extends({},currDatabase,{joinType:isChecked?'':'left',databaseName:table.databaseName,tableName:table.tableName}));}}];var menuFields=[];if(fields.length){menuFields={label:"关键字段设置",children:[]};fields.forEach(function(item){menuFields.children.push({label:item.fieldName,isChecked:currDatabase.relationFieldName===item.fieldName,callback:function callback(){_this.updateDatabase('update',DataSourceList_extends({},currDatabase,{relationFieldName:item.fieldName,databaseName:item.databaseName,tableName:item.tableName}));}});});menuFields=[menuFields];}return[].concat(menu,menuFields);};_this.updateDatabase=function(type,_ref2){var tableName=_ref2.tableName,databaseName=_ref2.databaseName,relationFieldName=_ref2.relationFieldName,joinType=_ref2.joinType;var newItem={tableName:tableName,databaseName:databaseName,relationFieldName:relationFieldName,joinType:joinType};var _this$props=_this.props,model=_this$props.model,dispatchModel=_this$props.dispatchModel;var content=model.content||{};var fields=model.fields||{};var primaryKeys=model.primaryKeys||{};var historyResponseItems=model.historyResponseItems||{};var historyRequestItems=model.historyRequestItems||{};// const prevResponseConfig = {};
// (content.responseConfig || []).forEach(item => {
//   prevResponseConfig[`${item.databaseName}${item.tableName}${item.fieldName}`] = item;
// })
var database=JSON.parse(JSON.stringify(content.database||[]));var targetIndex=-1;database.forEach(function(item,index){if(joinType){item.joinType='';}if(item.databaseName===databaseName&&item.tableName===tableName){targetIndex=index;newItem=DataSourceList_extends({},item,{tableName:tableName,databaseName:databaseName,relationFieldName:relationFieldName,joinType:joinType});}});if((type==='update'||type==='add')&&targetIndex===-1){database.push(newItem);}else if(type==='update'&&targetIndex>=0){if(joinType==='left'){database.splice(targetIndex,1);database.splice(0,0,newItem);}else{database[targetIndex]=newItem;}}else if(type==='remove'&&targetIndex>=0){database.splice(targetIndex,1);}var fieldKeyNames={};var responseConfig=[];var prevRequestConfig=[];database.forEach(function(item,index){var targetFields=fields["".concat(item.databaseName).concat(item.tableName)]||[];prevRequestConfig=[].concat(Object.values(historyRequestItems["".concat(item.databaseName).concat(item.tableName)]||{}));// 新增一个连表数据表时，添加默认的返回字段,默认所有字段都返回
targetFields.forEach(function(field){var name="".concat(field.databaseName).concat(field.tableName).concat(field.fieldName);var prevItem=historyResponseItems[name]||{};if(field.databaseName===databaseName&&field.tableName===tableName&&type==='add'||prevItem.fieldName){var historyItem=historyResponseItems[name]||{};var newField=DataSourceList_objectSpread(DataSourceList_objectSpread(DataSourceList_objectSpread({},field),historyItem),prevItem);if(fieldKeyNames[field.keyName]){var newTableName=field.tableName.slice(0,1).toUpperCase()+field.tableName.slice(1);var newKeyName="".concat(field.fieldName).concat(newTableName);//field.tableName.slice(0,1).toUpperCase() + field.tableName.slice(1)
newField.keyName=newKeyName;}fieldKeyNames[newField.keyName]=true;responseConfig.push(newField);}fieldKeyNames[field.keyName]=true;});});var requestConfig=[];var prevRequestKeyItems=model.prevRequestKeyItems||{};// 新增一个连表数据表时，添加默认的查寻条件
if(!prevRequestKeyItems['limit']){// primaryKey = ;
requestConfig.push({key:'limit',type:'number',title:'读取数据条数',isChecked:false,effect:'query',inputType:'equal',isHadDefaultValue:true,defaultValueConfig:{ruleType:'static',ruleValue:20}});}if(!prevRequestKeyItems['offset']){requestConfig.push({key:'offset',type:'number',title:'读取数据开始位置',isChecked:false,effect:'query',inputType:'equal',isHadDefaultValue:true,defaultValueConfig:{ruleType:'static',ruleValue:0}});}if(!prevRequestKeyItems['order']){requestConfig.push({key:'order',type:'order',title:'排序',isChecked:false,inputType:'order',effect:'query',defaultValueConfig:{ruleType:'static'}});}requestConfig=[].concat(requestConfig,Object.values(prevRequestKeyItems),prevRequestConfig);dispatchModel('setState',{content:DataSourceList_objectSpread(DataSourceList_objectSpread({},content),{},{database:database,responseConfig:responseConfig,requestConfig:requestConfig})});dispatchModel('queryData',{content:DataSourceList_objectSpread(DataSourceList_objectSpread({},content),{},{database:database,responseConfig:responseConfig,requestConfig:requestConfig})});};return _this;}DataSourceList_createClass(DataSourceList,[{key:"componentDidMount",value:function componentDidMount(){}},{key:"render",value:function render(){var _this2=this;var _this$state=this.state,list=_this$state.list,visible=_this$state.visible;var model=this.props.model;var sqlAccounts=model.sqlAccounts||[];var content=model.content||{};var database=content.database||[];var isFetchedSqlAccounts=model.isFetchedSqlAccounts;this.checkedTables={};database.forEach(function(item){_this2.checkedTables["".concat(item.databaseName).concat(item.tableName)]=item;});return/*#__PURE__*/index_js_default().createElement((index_js_default()).Fragment,null,/*#__PURE__*/index_js_default().createElement("div",{className:DataSourceList_index_module.box},/*#__PURE__*/index_js_default().createElement("div",{className:DataSourceList_index_module.title},/*#__PURE__*/index_js_default().createElement("span",null,"MYSQl\u6570\u636E\u8868"),/*#__PURE__*/index_js_default().createElement("span",{className:DataSourceList_index_module.addMySqlBtn,onClick:function onClick(){_this2.setState({visible:true});}},/*#__PURE__*/index_js_default().createElement(src/* default */.Z,{type:"icontable-add"}))),/*#__PURE__*/index_js_default().createElement("div",{className:DataSourceList_index_module.content},sqlAccounts.map(function(item){var tables=item.tables||{};var tableList=Object.keys(item.tables);return/*#__PURE__*/index_js_default().createElement((index_js_default()).Fragment,null,/*#__PURE__*/index_js_default().createElement("div",{className:DataSourceList_index_module.myConnectTitle},/*#__PURE__*/index_js_default().createElement(DownOutlined/* default */.Z,null)," ",item.database,"@",item.host),/*#__PURE__*/index_js_default().createElement("ul",{className:DataSourceList_index_module.tableList},tableList.map(function(tableName){var checkedItem=_this2.checkedTables["".concat(item.name).concat(tableName)];var isJoinTypeChecked=checkedItem&&checkedItem.joinType==='left';return/*#__PURE__*/index_js_default().createElement("li",{className:DataSourceList_index_module.active},/*#__PURE__*/index_js_default().createElement("div",{className:DataSourceList_index_module.li},/*#__PURE__*/index_js_default().createElement(es_checkbox/* default */.Z,{checked:checkedItem,onChange:function onChange(e){var checked=e.target.checked;_this2.updateDatabase(checked?'add':'remove',{tableName:tableName,databaseName:item.name});}},tableName)),/*#__PURE__*/index_js_default().createElement("div",{className:DataSourceList_index_module.key,style:{paddingRight:'5px',paddingTop:'2px'}},isJoinTypeChecked?/*#__PURE__*/index_js_default().createElement(tag/* default */.Z,{color:"red"},"\u4E3B\u8868"):null,checkedItem&&checkedItem.relationFieldName?/*#__PURE__*/index_js_default().createElement(tag/* default */.Z,{color:"green"},/*#__PURE__*/index_js_default().createElement(PaperClipOutlined/* default */.Z,{style:{marginRight:'2px'}}),checkedItem.relationFieldName):null,checkedItem?/*#__PURE__*/index_js_default().createElement(MenuDrop/* default */.Z,{style:{width:"200px"},className:DataSourceList_index_module.menuDrop,type:"iconmore",menus:_this2.getTools(tables[tableName],{databaseName:item.name,tableName:tableName},checkedItem||{}),value:''}):null));})));}))),/*#__PURE__*/index_js_default().createElement(modal/* default */.Z,{title:'创建数据库连接',visible:!(sqlAccounts&&sqlAccounts.length)&&isFetchedSqlAccounts&&visible!==false?true:visible,onOk:function onOk(){if(_this2.formRef&&_this2.formRef.current){_this2.formRef.current.validateFields();}_this2.saveMySqlAccount(_this2.formRef.current.getFieldsValue());},onCancel:function onCancel(){_this2.setState({visible:false});}},/*#__PURE__*/index_js_default().createElement(es_form/* default */.Z,{ref:this.formRef,name:"basic",labelCol:{span:5},wrapperCol:{span:19},initialValues:{remember:true},onFinish:function onFinish(){},autoComplete:"off"},/*#__PURE__*/index_js_default().createElement(es_form/* default.Item */.Z.Item,{label:"host",name:"host",rules:[{required:true,message:'请输入host!'}]},/*#__PURE__*/index_js_default().createElement(input/* default */.Z,null)),/*#__PURE__*/index_js_default().createElement(es_form/* default.Item */.Z.Item,{label:"port",name:"port",rules:[{required:true,message:'请输入port!'}]},/*#__PURE__*/index_js_default().createElement(input/* default */.Z,null)),/*#__PURE__*/index_js_default().createElement(es_form/* default.Item */.Z.Item,{label:"user",name:"user",rules:[{required:true,message:'请输入user!'}]},/*#__PURE__*/index_js_default().createElement(input/* default */.Z,null)),/*#__PURE__*/index_js_default().createElement(es_form/* default.Item */.Z.Item,{label:"password",name:"password",rules:[{required:true,message:'请输入password!'}]},/*#__PURE__*/index_js_default().createElement(input/* default */.Z,null)),/*#__PURE__*/index_js_default().createElement(es_form/* default.Item */.Z.Item,{label:"database",name:"database",rules:[{required:true,message:'请输入database!'}]},/*#__PURE__*/index_js_default().createElement(input/* default */.Z,null)))));}}]);return DataSourceList;}(index_js_.Component);/* harmony default export */ const components_DataSourceList = (DataSourceList);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/tooltip/style/index.js + 1 modules
var tooltip_style = __webpack_require__(90921);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/tooltip/index.js + 3 modules
var tooltip = __webpack_require__(16606);
;// CONCATENATED MODULE: ../data-source/src/components/ResponseList/index.module.less
// extracted by mini-css-extract-plugin
/* harmony default export */ const ResponseList_index_module = ({"box":"_-data-source-src-components-ResponseList-index-module__box","title":"_-data-source-src-components-ResponseList-index-module__title","addMySqlBtn":"_-data-source-src-components-ResponseList-index-module__addMySqlBtn","content":"_-data-source-src-components-ResponseList-index-module__content","tableList":"_-data-source-src-components-ResponseList-index-module__tableList","li":"_-data-source-src-components-ResponseList-index-module__li","key":"_-data-source-src-components-ResponseList-index-module__key","myConnectTitle":"_-data-source-src-components-ResponseList-index-module__myConnectTitle","tabBarExtraContent":"_-data-source-src-components-ResponseList-index-module__tabBarExtraContent","typeIcon":"_-data-source-src-components-ResponseList-index-module__typeIcon"});
// EXTERNAL MODULE: ../my-designer/src/components/ParamEditModal/index.js + 5 modules
var ParamEditModal = __webpack_require__(61382);
// EXTERNAL MODULE: consume shared module (default) react@^16.14.0 (singleton) (fallback: ../my-cli/node_modules/react/index.js)
var react_index_js_ = __webpack_require__(93121);
var react_index_js_default = /*#__PURE__*/__webpack_require__.n(react_index_js_);
// EXTERNAL MODULE: ../my-designer/src/components/DimensionEdit/index.module.less
var components_DimensionEdit_index_module = __webpack_require__(77966);
// EXTERNAL MODULE: ../my-designer/src/components/DimensionEdit/index.jsx
var src_components_DimensionEdit = __webpack_require__(74242);
;// CONCATENATED MODULE: ../my-designer/src/components/DimensionEdit/NumberRangeView.jsx
function NumberRangeView_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){NumberRangeView_typeof=function _typeof(obj){return typeof obj;};}else{NumberRangeView_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return NumberRangeView_typeof(obj);}function NumberRangeView_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function NumberRangeView_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){NumberRangeView_ownKeys(Object(source),true).forEach(function(key){NumberRangeView_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{NumberRangeView_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function NumberRangeView_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function NumberRangeView_extends(){NumberRangeView_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return NumberRangeView_extends.apply(this,arguments);}function NumberRangeView_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function NumberRangeView_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function NumberRangeView_createClass(Constructor,protoProps,staticProps){if(protoProps)NumberRangeView_defineProperties(Constructor.prototype,protoProps);if(staticProps)NumberRangeView_defineProperties(Constructor,staticProps);return Constructor;}function NumberRangeView_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)NumberRangeView_setPrototypeOf(subClass,superClass);}function NumberRangeView_setPrototypeOf(o,p){NumberRangeView_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return NumberRangeView_setPrototypeOf(o,p);}function NumberRangeView_createSuper(Derived){var hasNativeReflectConstruct=NumberRangeView_isNativeReflectConstruct();return function _createSuperInternal(){var Super=NumberRangeView_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=NumberRangeView_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return NumberRangeView_possibleConstructorReturn(this,result);};}function NumberRangeView_possibleConstructorReturn(self,call){if(call&&(NumberRangeView_typeof(call)==="object"||typeof call==="function")){return call;}return NumberRangeView_assertThisInitialized(self);}function NumberRangeView_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function NumberRangeView_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function NumberRangeView_getPrototypeOf(o){NumberRangeView_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return NumberRangeView_getPrototypeOf(o);}/**
 * DimensionEdit
 * @author tianyanrong
 * @date 2021/6/18 下午2:47:00
 */var NumberRangeView_DimensionEdit=/*#__PURE__*/function(_Component){NumberRangeView_inherits(DimensionEdit,_Component);var _super=NumberRangeView_createSuper(DimensionEdit);function DimensionEdit(){var _this;NumberRangeView_classCallCheck(this,DimensionEdit);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={active:''};_this.handleOk=function(){var onOk=_this.props.onOk;var data=_this.state.data;onOk(data);};_this.handleCancel=function(){var onCancel=_this.props.onCancel;onCancel();};_this.pushHandleOk=function(){var isModal=_this.props.isModal;if(isModal===false){_this.handleOk();}};_this.addOptions=function(){var _this$state=_this.state,active=_this$state.active,data=_this$state.data;var newData=[].concat(data);var isCanAdd=true;newData.forEach(function(item){if(!(item.value&&item.value.min&&item.value.max)||!item.label){isCanAdd=false;}});if(!isCanAdd){return;}newData.push({label:'',value:'',isNew:true});_this.setState({active:'',data:newData,currValue:''});};_this.removeOptions=function(){var _this$state2=_this.state,active=_this$state2.active,data=_this$state2.data;var newData=NumberRangeView_extends([],data);var currentIndex;data.forEach(function(item,index){if(item.value===active){currentIndex=index;}});newData.splice(currentIndex,1);_this.setState({active:null,data:newData,currValue:''},function(){_this.pushHandleOk();});};_this.updateIndexOptions=function(){var _this$state3=_this.state,active=_this$state3.active,_this$state3$data=_this$state3.data,data=_this$state3$data===void 0?[]:_this$state3$data;var newData=NumberRangeView_extends([],data);var currentIndex,currentItem;data.forEach(function(item,index){if(item.value===active){currentIndex=index;currentItem=item;}});newData.splice(currentIndex,1);newData.splice(currentIndex-1,0,currentItem);_this.setState({data:newData},function(){_this.pushHandleOk();});};_this.updateOptions=function(value,key){var _this$state4=_this.state,active=_this$state4.active,data=_this$state4.data;var newData=[];var activeState={};var dataKeysObj={};var numberValue=parseFloat(Object.values(value||{})[0]);var isValid=key==='value'&&!(numberValue||numberValue===0)?false:true;data.forEach(function(item,index){var oldValue=Object.values(item.value||{}).join('___');dataKeysObj[oldValue]=true;if(oldValue===active){if(key==='value'){var newValue=NumberRangeView_objectSpread(NumberRangeView_objectSpread({},item.value||{}),value);newData.push(NumberRangeView_objectSpread(NumberRangeView_objectSpread({},item),{},{value:newValue}));activeState.active=Object.values(newValue).join('___');var min=parseFloat(newValue.min);var max=parseFloat(newValue.max);var isValue=max||max===0;var preMax=index>0&&data[index-1]&&data[index-1].value?parseFloat(data[index-1].value.max):null;if(isValue&&min>max||(preMax||preMax===0)&&preMax>=min){isValid=false;}}else{newData.push(NumberRangeView_objectSpread(NumberRangeView_objectSpread({},item),{},{label:value}));}}else{newData.push(item);}});if(key==='value'&&!isValid){return;}_this.setState(NumberRangeView_objectSpread({data:newData},activeState),function(){_this.pushHandleOk();});};return _this;}NumberRangeView_createClass(DimensionEdit,[{key:"componentDidMount",value:function componentDidMount(){}},{key:"render",value:function render(){var _this2=this;var _this$state5=this.state,active=_this$state5.active,data=_this$state5.data;var _this$props=this.props,titles=_this$props.titles,isOnlyRead=_this$props.isOnlyRead;return/*#__PURE__*/react_index_js_default().createElement((react_index_js_default()).Fragment,null,/*#__PURE__*/react_index_js_default().createElement("div",{className:components_DimensionEdit_index_module/* default.tableBox */.Z.tableBox},/*#__PURE__*/react_index_js_default().createElement("ul",null,/*#__PURE__*/react_index_js_default().createElement("li",{className:components_DimensionEdit_index_module/* default.name */.Z.name},/*#__PURE__*/react_index_js_default().createElement("p",null,titles&&titles[0]?"".concat(titles[0]," min"):'成员 min'),/*#__PURE__*/react_index_js_default().createElement("p",null,titles&&titles[0]?"".concat(titles[0]," max"):'成员 max'),/*#__PURE__*/react_index_js_default().createElement("p",null,titles&&titles[1]||'(转化成)显示别名')),data&&data.map(function(item,index){var valueString=Object.values(item.value||{}).join('___');var isActive=active===valueString;return/*#__PURE__*/react_index_js_default().createElement("li",{key:index,className:isActive?components_DimensionEdit_index_module/* default.checkedLi */.Z.checkedLi:'',onClick:function onClick(){if(isOnlyRead){return;}_this2.setState({active:valueString,currValue:item.value});}},/*#__PURE__*/react_index_js_default().createElement("p",null,isActive?/*#__PURE__*/react_index_js_default().createElement(input/* default */.Z,{size:"small",value:_this2.state.currValue&&_this2.state.currValue.min||'',onBlur:function onBlur(event){_this2.updateOptions({min:event.target.value},'value');},onChange:function onChange(event){_this2.setState({currValue:NumberRangeView_objectSpread(NumberRangeView_objectSpread({},_this2.state.currValue),{},{min:event.target.value})});}}):item.value&&item.value.min),/*#__PURE__*/react_index_js_default().createElement("p",null,isActive?/*#__PURE__*/react_index_js_default().createElement(input/* default */.Z,{size:"small",value:_this2.state.currValue&&_this2.state.currValue.max||'',onBlur:function onBlur(event){_this2.updateOptions({max:event.target.value},'value');},onChange:function onChange(event){_this2.setState({currValue:NumberRangeView_objectSpread(NumberRangeView_objectSpread({},_this2.state.currValue),{},{max:event.target.value})});}}):item.value&&item.value.max),/*#__PURE__*/react_index_js_default().createElement("p",null,isActive?/*#__PURE__*/react_index_js_default().createElement(input/* default */.Z,{size:"small",value:item.label,onChange:function onChange(event){_this2.updateOptions(event.target.value,'label');}}):item.label));}))),isOnlyRead?null:/*#__PURE__*/react_index_js_default().createElement("div",{className:components_DimensionEdit_index_module/* default.buttons */.Z.buttons},/*#__PURE__*/react_index_js_default().createElement("div",null,/*#__PURE__*/react_index_js_default().createElement(es_button/* default */.Z,{size:"small",onClick:function onClick(){_this2.addOptions();}},"\u6DFB\u52A0"),/*#__PURE__*/react_index_js_default().createElement(es_button/* default */.Z,{size:"small",onClick:function onClick(){_this2.removeOptions();}},"\u5220\u9664"),/*#__PURE__*/react_index_js_default().createElement(es_button/* default */.Z,{size:"small",onClick:function onClick(){_this2.updateIndexOptions();}},"\u4E0A\u79FB"))));}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,prevState){var dataString=JSON.stringify(nextProps.data||[]);if(dataString!==prevState.propsDataString){return{data:nextProps.data,propsDataString:dataString};}return null;}}]);return DimensionEdit;}(react_index_js_.Component);/* harmony default export */ const NumberRangeView = (NumberRangeView_DimensionEdit);
;// CONCATENATED MODULE: ../icode-component/packages/utils/es/dimension.js
function dimension_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function dimension_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){dimension_ownKeys(Object(source),true).forEach(function(key){dimension_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{dimension_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function dimension_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}var sumOptions={total:{label:'总和',value:'total',types:['number']},average:{label:'平均',value:'average',types:['number']},count:{label:'计数',value:'count',types:['number','date','string']},countDifferent:{label:'计数(不同)',value:'countDifferent',types:['number','date','string']},max:{label:'取最大值',value:'max',types:['number']},min:{label:'取最小值',value:'min',types:['number']}};var getDataDimesion=function getDataDimesion(keyName){var data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var aliasObj=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var dimesionObj={};data.forEach(function(item){if(item[keyName]){dimesionObj[item[keyName]]={label:aliasObj[item[keyName]]||item[keyName],value:item[keyName]};}});return Object.values(dimesionObj);};var getDimensionConfig=function getDimensionConfig(){var responseConfig=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var dimensionConfig={};var measureConfig={};responseConfig.forEach(function(item){var currDimensionConfig=item.dimensionConfig||{};if(Object.keys(currDimensionConfig).length){var dimensionsLabels={};var dimensions=currDimensionConfig.dimensions||[];if(!currDimensionConfig.isUseNumberRange){dimensions.forEach(function(dimensionItem){dimensionsLabels[dimensionItem.value]=dimensionItem.label;});}dimensionConfig[item.keyName]={keyName:item.keyName,type:item.type,autoDimensions:currDimensionConfig.autoDimensions,isUseNumberRange:currDimensionConfig.isUseNumberRange,dimensions:dimensions,dimensionsLabels:dimensionsLabels};}else{measureConfig[item.keyName]={keyName:item.keyName,type:item.type,sumType:item.sumType};}});return{dimensionConfig:dimensionConfig,measureConfig:measureConfig};};var sumData=function sumData(_ref){var _ref$data=_ref.data,data=_ref$data===void 0?[]:_ref$data,_ref$dimensionConfig=_ref.dimensionConfig,dimensionConfig=_ref$dimensionConfig===void 0?{}:_ref$dimensionConfig,_ref$measureConfig=_ref.measureConfig,measureConfig=_ref$measureConfig===void 0?{}:_ref$measureConfig;var newDimensionData={};var dimensionConfigValues=Object.values(dimensionConfig);var dimensionConfigKeys=Object.keys(dimensionConfig);data.forEach(function(dataItem){var newDataItem=dimension_objectSpread({},dataItem);var dimensionName=[];dimensionConfigValues.forEach(function(dimensionItem){var dataValue=dataItem[dimensionItem.keyName];if(dimensionItem.autoDimensions){var currValue=dimensionItem.dimensionsLabels[dataValue];if(!(currValue||currValue===0)){currValue=dataValue;}newDataItem[dimensionItem.keyName]=currValue;dimensionName.push(currValue);}else{var dimensions=dimensionItem.dimensions;if(dimensionItem.isUseNumberRange){(dimensions||[]).forEach(function(staticDimensionItem){var staticValue=staticDimensionItem.value;var currValue=staticDimensionItem.label;if(staticValue&&(staticValue.min||staticValue.min===0)&&(staticValue.max||staticValue.max===0)){var dataValueNumber=parseFloat(dataValue);var min=parseFloat(staticValue.min);var max=parseFloat(staticValue.max);if(dataValueNumber>=min&&dataValueNumber<=max){newDataItem[dimensionItem.keyName]=currValue;dimensionName.push(currValue);}}});}else if(dimensions.length){var _currValue=dimensionItem.dimensionsLabels[dataValue];if(_currValue||_currValue===0){newDataItem[dimensionItem.keyName]=_currValue;dimensionName.push(_currValue);}else if(dimensionItem.dimensionsLabels['%eles%']){_currValue=dimensionItem.dimensionsLabels['%eles%'];newDataItem[dimensionItem.keyName]=_currValue;dimensionName.push(_currValue);}}}});if(dimensionName&&dimensionName.length){newDimensionData[dimensionName.join('_')]=newDimensionData[dimensionName.join('_')]||[];newDimensionData[dimensionName.join('_')].push(dimension_objectSpread({},newDataItem));}});var newDate=[];Object.values(newDimensionData).forEach(function(dataItems){var newItem={};var countDiffData={};var averages={};var dotNum=10000;(dataItems||[]).forEach(function(dataItem){var keyName;for(keyName in dataItem){var isDimension=dimensionConfigKeys.indexOf(keyName)>=0;var measureConfigItem=measureConfig[keyName]||{};var currSumType=measureConfigItem.sumType||'count';var type=measureConfigItem.type;var dataValue=dataItem[keyName];var dataValueNumber=parseFloat(dataValue,10)||0;if(isDimension){newItem[keyName]=dataValue;}else if(currSumType==='count'){newItem[keyName]=newItem[keyName]||0;newItem[keyName]=newItem[keyName]+1;}else if(currSumType==='countDifferent'){countDiffData[keyName]=countDiffData[keyName]||{};countDiffData[keyName][dataValue]=countDiffData[keyName][dataValue]||0;countDiffData[keyName][dataValue]=countDiffData[keyName][dataValue]+1;newItem[keyName]=Object.keys(countDiffData[keyName]).length;}else if(currSumType==='total'){newItem[keyName]=newItem[keyName]||0;newItem[keyName]=newItem[keyName]*dotNum+dataValueNumber*dotNum;newItem[keyName]=newItem[keyName]/dotNum;}else if(currSumType==='average'){averages[keyName]=averages[keyName]||{};averages[keyName].total=averages[keyName].total||0;averages[keyName].total=averages[keyName].total*dotNum+dataValueNumber*dotNum;averages[keyName].total=averages[keyName].total/dotNum;averages[keyName].count=averages[keyName].count||0;averages[keyName].count=averages[keyName].count+1;}else if(currSumType==='max'){newItem[keyName]=newItem[keyName]||dataValueNumber;newItem[keyName]=dataValueNumber>newItem[keyName]?dataValueNumber:newItem[keyName];}else if(currSumType==='min'){newItem[keyName]=newItem[keyName]||dataValueNumber;newItem[keyName]=dataValueNumber<newItem[keyName]?dataValueNumber:newItem[keyName];}}});var keyName;for(keyName in averages){var total=averages[keyName].total||0;var count=averages[keyName].count||0;newItem[keyName]=total*dotNum/(count*dotNum);}newDate.push(newItem);});return newDate;};
;// CONCATENATED MODULE: ../my-designer/src/components/DimensionEdit/Modal.jsx
function Modal_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){Modal_typeof=function _typeof(obj){return typeof obj;};}else{Modal_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return Modal_typeof(obj);}function Modal_extends(){Modal_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return Modal_extends.apply(this,arguments);}function Modal_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function Modal_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){Modal_ownKeys(Object(source),true).forEach(function(key){Modal_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{Modal_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function Modal_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function Modal_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function Modal_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function Modal_createClass(Constructor,protoProps,staticProps){if(protoProps)Modal_defineProperties(Constructor.prototype,protoProps);if(staticProps)Modal_defineProperties(Constructor,staticProps);return Constructor;}function Modal_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)Modal_setPrototypeOf(subClass,superClass);}function Modal_setPrototypeOf(o,p){Modal_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return Modal_setPrototypeOf(o,p);}function Modal_createSuper(Derived){var hasNativeReflectConstruct=Modal_isNativeReflectConstruct();return function _createSuperInternal(){var Super=Modal_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=Modal_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return Modal_possibleConstructorReturn(this,result);};}function Modal_possibleConstructorReturn(self,call){if(call&&(Modal_typeof(call)==="object"||typeof call==="function")){return call;}return Modal_assertThisInitialized(self);}function Modal_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function Modal_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function Modal_getPrototypeOf(o){Modal_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return Modal_getPrototypeOf(o);}var Modal_DimensionEdit=/*#__PURE__*/function(_Component){Modal_inherits(DimensionEdit,_Component);var _super=Modal_createSuper(DimensionEdit);function DimensionEdit(){var _this;Modal_classCallCheck(this,DimensionEdit);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={data:{}};_this.handleOk=function(_ref){var _ref$dimensions=_ref.dimensions,dimensions=_ref$dimensions===void 0?[]:_ref$dimensions,isUseNumberRange=_ref.isUseNumberRange,keyName=_ref.keyName,autoDimensions=_ref.autoDimensions;var onOk=_this.props.onOk;if(!(onOk&&typeof onOk==='function')){return;}var error='';dimensions.map(function(item){if(isUseNumberRange){if(!(item.label&&item.value&&item.value.min&&item.value.max)){error='格式错误，请完善维度信息';}}else if(!(item.label&&item.value)){error='格式错误，请完善维度信息';}});if(error){message/* default.error */.ZP.error(error);return;}onOk({keyName:keyName,autoDimensions:autoDimensions,dimensions:dimensions,isUseNumberRange:isUseNumberRange});};_this.handleCancel=function(){var onCancel=_this.props.onCancel;if(onCancel&&typeof onCancel==='function'){onCancel();}};return _this;}Modal_createClass(DimensionEdit,[{key:"render",value:function render(){var _this2=this;var _this$props=this.props,title=_this$props.title,visible=_this$props.visible;if(!visible){return null;}var _this$state=this.state,isOnlyRead=_this$state.isOnlyRead,_this$state$data=_this$state.data,data=_this$state$data===void 0?{}:_this$state$data,result=_this$state.result,isUserResult=_this$state.isUserResult;var dimensions=data.autoDimensions?null:data.dimensions;if(!dimensions&&(isUserResult||data.autoDimensions)&&!isUseNumberRange){dimensions=result;}var isUseNumberRange=this.state.isUseNumberRange;if(!isUseNumberRange&&data.isUseNumberRange){isUseNumberRange=true;}if(data.autoDimensions){isUseNumberRange=false;}this.dimensions=dimensions;return/*#__PURE__*/react_index_js_default().createElement(modal/* default */.Z,{title:title||'编辑维度',visible:visible,cancelText:'取消',okText:'保存',onOk:function onOk(){_this2.handleOk(Modal_objectSpread(Modal_objectSpread({},data),{},{dimensions:_this2.dimensions,isUseNumberRange:isUseNumberRange}));},onCancel:this.handleCancel},/*#__PURE__*/react_index_js_default().createElement("div",{style:{margin:'10px 0'}},/*#__PURE__*/react_index_js_default().createElement(es_radio/* default.Group */.ZP.Group,{onChange:function onChange(e){var value=e.target.value;var oldData=Modal_extends({},data,{autoDimensions:value==='auto'});_this2.setState({data:oldData,isOnlyRead:value==='auto'});},value:data.autoDimensions?'auto':'static'},/*#__PURE__*/react_index_js_default().createElement(es_radio/* default */.ZP,{value:'static'},"\u9759\u6001\u7EF4\u5EA6"),/*#__PURE__*/react_index_js_default().createElement(es_radio/* default */.ZP,{value:'auto'},"\u52A8\u6001\u7EF4\u5EA6(\u6839\u636E\u8FD4\u56DE\u6570\u636E\u81EA\u52A8\u8BA1\u7B97)"))),data.autoDimensions?null:/*#__PURE__*/react_index_js_default().createElement("div",{className:components_DimensionEdit_index_module/* default.rowDiv */.Z.rowDiv},data.type==='number'?/*#__PURE__*/react_index_js_default().createElement("div",null,/*#__PURE__*/react_index_js_default().createElement(es_checkbox/* default */.Z,{checked:isUseNumberRange||false,onChange:function onChange(e){var checked=e.target.checked;_this2.setState({isUseNumberRange:checked});}},"\u4F7F\u7528\u6570\u503C\u8303\u56F4")):null,data.dimensions&&data.dimensions.length||isUseNumberRange?null:/*#__PURE__*/react_index_js_default().createElement("div",null,/*#__PURE__*/react_index_js_default().createElement("a",{onClick:function onClick(){_this2.setState({isUserResult:true});}},"\u62C9\u53D6\u73B0\u6709\u6570\u636E\u7684\u7EF4\u5EA6"))),data.autoDimensions?/*#__PURE__*/react_index_js_default().createElement("div",{style:{color:'#999'}},"\u4E0B\u9762 \"\u7EF4\u5EA6\" \u662F\u73B0\u6709\u8FD4\u56DE\u6570\u636E\u81EA\u52A8\u8BA1\u7B97\u7684\u7ED3\u679C"):null,isUseNumberRange?/*#__PURE__*/react_index_js_default().createElement(NumberRangeView,{key:data.autoDimensions?'auto':'static',titles:['成员','(转化成)别名'],isModal:false,data:dimensions&&dimensions.length?dimensions.map(function(item,index){var value=item.value;return{label:item.label,value:value.min&&value.max?value:{min:index*100,max:index*100+99}};}):[],isOnlyRead:isOnlyRead,onOk:function onOk(newDimensions){_this2.dimensions=newDimensions;}}):/*#__PURE__*/react_index_js_default().createElement(src_components_DimensionEdit/* default */.Z,{key:data.autoDimensions?'auto':'static',titles:['成员','(转化成)别名'],isModal:false,data:dimensions||[],isOnlyRead:isOnlyRead,onOk:function onOk(newDimensions){_this2.dimensions=newDimensions;}}));}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,prevState){if(nextProps.visible&&nextProps.visible!==prevState.visible){var data=nextProps.data||{};// const aliasObj = {};
// if(nextProps.alias && nextProps.alias.length) {
//   aliasObj.forEach(item => {
//     aliasObj[item.value] = item.label;
//   })
// }
return{data:data,result:getDataDimesion(data.keyName,nextProps.result),visible:true,isUserResult:false,isOnlyRead:data.autoDimensions};}if(!nextProps.visible&&prevState.visible){return{data:{},result:[],visible:false};}return null;}}]);return DimensionEdit;}(react_index_js_.Component);/* harmony default export */ const Modal = (Modal_DimensionEdit);
;// CONCATENATED MODULE: ../data-source/src/components/ResponseList/index.jsx
function ResponseList_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){ResponseList_typeof=function _typeof(obj){return typeof obj;};}else{ResponseList_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return ResponseList_typeof(obj);}function ResponseList_extends(){ResponseList_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return ResponseList_extends.apply(this,arguments);}function ResponseList_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function ResponseList_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ResponseList_ownKeys(Object(source),true).forEach(function(key){ResponseList_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ResponseList_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function ResponseList_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function ResponseList_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function ResponseList_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function ResponseList_createClass(Constructor,protoProps,staticProps){if(protoProps)ResponseList_defineProperties(Constructor.prototype,protoProps);if(staticProps)ResponseList_defineProperties(Constructor,staticProps);return Constructor;}function ResponseList_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)ResponseList_setPrototypeOf(subClass,superClass);}function ResponseList_setPrototypeOf(o,p){ResponseList_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return ResponseList_setPrototypeOf(o,p);}function ResponseList_createSuper(Derived){var hasNativeReflectConstruct=ResponseList_isNativeReflectConstruct();return function _createSuperInternal(){var Super=ResponseList_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=ResponseList_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return ResponseList_possibleConstructorReturn(this,result);};}function ResponseList_possibleConstructorReturn(self,call){if(call&&(ResponseList_typeof(call)==="object"||typeof call==="function")){return call;}return ResponseList_assertThisInitialized(self);}function ResponseList_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function ResponseList_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function ResponseList_getPrototypeOf(o){ResponseList_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return ResponseList_getPrototypeOf(o);}var TabPane=tabs/* default.TabPane */.Z.TabPane;var ResponseList_DataSourceList=/*#__PURE__*/function(_Component){ResponseList_inherits(DataSourceList,_Component);var _super=ResponseList_createSuper(DataSourceList);function DataSourceList(){var _this;ResponseList_classCallCheck(this,DataSourceList);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={};_this.updateResponse=function(options){};_this.getTools=function(_ref){var fieldItem=_ref.fieldItem;var formatConfig=fieldItem.formatConfig||{};var menu=[{label:"编辑别名/数据...",callback:function callback(){_this.setState({paramEditModalData:ResponseList_objectSpread(ResponseList_objectSpread({text:"编辑别名/数据"},fieldItem),{},{type:fieldItem.fieldType,formatConfig:formatConfig,requiredValue:fieldItem.isNewCountKey?'':"".concat(fieldItem.databaseName).concat(fieldItem.tableName).concat(fieldItem.fieldName)}),isShowParamEditModal:true,isResponseEdit:true,isRequestEidt:false});}},{type:"line"}];var prevDimensionItems=_this.props.model&&_this.props.model.prevDimensionItems||{};if(prevDimensionItems[fieldItem.keyName]){menu.push({label:"编辑汇总维度...",callback:function callback(){_this.setState({dimensionEditTitle:'编辑汇总维度',dimensionEditVisible:true,dimensionEditData:ResponseList_objectSpread({},fieldItem)});}});menu.push({label:"移除汇总维度",callback:function callback(){_this.updateResponseConfig('removeDimension',fieldItem);}});}else{menu.push({label:"创建汇总维度...",callback:function callback(){_this.setState({dimensionEditTitle:'创建汇总维度',dimensionEditVisible:true,dimensionEditData:ResponseList_objectSpread({},fieldItem)});}});if(Object.keys(prevDimensionItems||{}).length){menu.push({label:"汇总度量计算方式",children:Object.values(sumOptions).map(function(item){if(item.types.indexOf(fieldItem.type)===-1){return null;}return{label:item.label,isDisabled:false,isChecked:(fieldItem.sumType||'count')===item.value,callback:function callback(){_this.updateResponseConfig('update',ResponseList_objectSpread(ResponseList_objectSpread({},fieldItem),{},{sumType:item.value}));}};})});}}menu.push({type:"line"});if(fieldItem.isNewCountKey){menu.push({label:"移除创建的字段",callback:function callback(){_this.updateResponseConfig('remove',fieldItem);}});}else{var prevRequestKeyNames=_this.props.model&&_this.props.model.prevRequestKeyNames||{};if(!prevRequestKeyNames[fieldItem.keyName]){menu.push({label:"创建查询条件...",callback:function callback(){var newData=JSON.parse(JSON.stringify(ResponseList_objectSpread(ResponseList_objectSpread({text:"创建查询条件"},fieldItem),{},{title:'',// keyName: fieldItem.fieldName,
type:fieldItem.fieldType,requiredValue:fieldItem.fieldName,effect:'query'})));if(newData.formatConfig){delete newData.formatConfig;}// clear fieldItem data
_this.setState({paramEditModalData:newData,isShowParamEditModal:true,isResponseEdit:false,isRequestEidt:true,isAddRequestItem:true});}});}if(fieldItem.fieldType==='number'){var newKeyName=fieldItem.keyName;newKeyName=newKeyName.slice(0,1).toUpperCase()+newKeyName.slice(1);menu.push({label:"创建计算字段...",callback:function callback(){_this.setState({paramEditModalData:ResponseList_objectSpread(ResponseList_objectSpread({text:"创建计算字段"},fieldItem),{},{title:'',keyName:"newCount".concat(newKeyName),type:fieldItem.fieldType,originFieldName:fieldItem.fieldName,formatConfig:{},requiredValue:"".concat(fieldItem.databaseName).concat(fieldItem.tableName).concat(fieldItem.fieldName)}),isNewCountKey:true,isShowParamEditModal:true,isResponseEdit:true,isRequestEidt:false});}});}}return menu;};_this.iconInfo={'string':{icon:'iconAbc',style:{color:'rgb(73, 150, 178)',marginRight:'5px'}},'number':{icon:'iconnumber',style:{color:'rgb(73, 150, 178)',marginRight:'5px'}},'date':{icon:'icondate',style:{color:'rgb(0, 177, 128)',marginRight:'5px'}}};_this.validFormatConfig=function(formatConfig){return formatConfig.alias&&formatConfig.alias.length||formatConfig.toFixed&&formatConfig.toFixed.count||Object.keys(formatConfig.encryption||{}).length||formatConfig.count&&formatConfig.count.length>=2||formatConfig.group&&formatConfig.group.length>=2||formatConfig.separator||formatConfig.date?true:false;};_this.updateResponseConfig=function(type){var data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var _this$props=_this.props,dispatchModel=_this$props.dispatchModel,model=_this$props.model;var content=model.content||{};var historyResponseItems=model.historyResponseItems||{};var responseConfig=JSON.parse(JSON.stringify(content.responseConfig||[]))||[];var targerIndex=-1;var prevItem={};responseConfig.forEach(function(item,index){if(item.databaseName===data.databaseName&&item.tableName===data.tableName&&item.fieldName===data.fieldName){targerIndex=index;prevItem=item;}});if(type==='remove'&&targerIndex>=0){responseConfig.splice(targerIndex,1);}if(type==='removeDimension'&&targerIndex>=0){responseConfig.splice(targerIndex,1,ResponseList_extends({},prevItem,{dimensionConfig:{}}));}else if(type==='add'&&data.isNewCountKey){responseConfig.push(ResponseList_extends({},data));}else if(type==='add'&&targerIndex===-1){var historyItem=historyResponseItems["".concat(data.databaseName).concat(data.tableName).concat(data.fieldName)]||{};responseConfig.push(ResponseList_extends({},historyItem,data));}else if(type==='update'&&targerIndex>=0){var formatConfig=data.formatConfig||{};var isHadFormatConfig=_this.validFormatConfig(formatConfig);var options=isHadFormatConfig?{formatConfig:formatConfig}:{formatConfig:{}};if(prevItem.fieldType==='number'){if(formatConfig.alias&&formatConfig.alias.length||formatConfig.toFixed&&formatConfig.toFixed.isCovering||formatConfig.separator||formatConfig.encryption||formatConfig.group){options.type='string';}}if(data.dimensionConfig){options.dimensionConfig=data.dimensionConfig;}if(data.sumType){options.sumType=data.sumType;}responseConfig.splice(targerIndex,1,ResponseList_extends({},prevItem,ResponseList_objectSpread(ResponseList_objectSpread({title:data.title},options),{},{keyName:data.keyName})));}dispatchModel('setState',{content:ResponseList_objectSpread(ResponseList_objectSpread({},content),{},{responseConfig:responseConfig})});dispatchModel('queryData',{content:ResponseList_objectSpread(ResponseList_objectSpread({},content),{},{responseConfig:responseConfig})});};_this.updateRequestConfig=function(type,data){var _this$props2=_this.props,dispatchModel=_this$props2.dispatchModel,model=_this$props2.model;var content=model.content;var requestConfig=JSON.parse(JSON.stringify(content.requestConfig||[]));var targetIndex=-1;requestConfig.forEach(function(item,index){if(item.databaseName===data.databaseName&&item.tableName===data.tableName&&item.fieldName&&item.fieldName===data.fieldName){targetIndex=index;}});if(type==='add'&&targetIndex>=0){message/* default.error */.ZP.error('已有此查询条件');return;}if(type==='add'&&targetIndex===-1){requestConfig.push(ResponseList_objectSpread(ResponseList_objectSpread({},data),{},{isChecked:false}));}dispatchModel('setState',{content:ResponseList_objectSpread(ResponseList_objectSpread({},content),{},{requestConfig:requestConfig})});dispatchModel('queryData',{content:ResponseList_objectSpread(ResponseList_objectSpread({},content),{},{requestConfig:requestConfig})});};return _this;}ResponseList_createClass(DataSourceList,[{key:"componentDidMount",value:function componentDidMount(){}},{key:"render",value:function render(){var _this2=this;var model=this.props.model;var _this$state=this.state,_this$state$paramEdit=_this$state.paramEditModalData,paramEditModalData=_this$state$paramEdit===void 0?{}:_this$state$paramEdit,_this$state$dimension=_this$state.dimensionEditData,dimensionEditData=_this$state$dimension===void 0?{}:_this$state$dimension;var content=model.content||{};var fields=model.fields||{};var database=content.database||[];var responseConfig=content.responseConfig||[];var data={},checkedFieldObj={};var newFields={};var keyNames={};var prevDimensionItems=model.prevDimensionItems||{};responseConfig.forEach(function(){var item=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(item.tableName){checkedFieldObj["".concat(item.databaseName).concat(item.tableName).concat(item.fieldName)]=item;}if(item.isNewCountKey){newFields["".concat(item.databaseName).concat(item.tableName)]=newFields["".concat(item.databaseName).concat(item.tableName)]||[];newFields["".concat(item.databaseName).concat(item.tableName)].push(item);}keyNames[item.keyName]=true;});var userFields=[];database.forEach(function(item){var name="".concat(item.databaseName).concat(item.tableName);userFields=[].concat(userFields,fields[name]);data[name]={databaseName:item.databaseName,tableName:item.tableName,fields:[].concat(fields[name]||[],newFields[name]||[])};});return/*#__PURE__*/index_js_default().createElement((index_js_default()).Fragment,null,/*#__PURE__*/index_js_default().createElement("div",{className:ResponseList_index_module.box},/*#__PURE__*/index_js_default().createElement("div",{className:ResponseList_index_module.title},/*#__PURE__*/index_js_default().createElement("span",null,"\u8FD4\u56DE\u5B57\u6BB5")),/*#__PURE__*/index_js_default().createElement("div",{className:ResponseList_index_module.content},Object.values(data).map(function(parentItem){var fields=parentItem.fields||[];var iconInfo=_this2.iconInfo;return/*#__PURE__*/index_js_default().createElement((index_js_default()).Fragment,null,/*#__PURE__*/index_js_default().createElement("div",{className:ResponseList_index_module.myConnectTitle},/*#__PURE__*/index_js_default().createElement("span",null,parentItem.tableName)),/*#__PURE__*/index_js_default().createElement("ul",{className:ResponseList_index_module.tableList},fields.map(function(item){if(!item){return null;}var checkedItem=checkedFieldObj["".concat(item.databaseName).concat(item.tableName).concat(item.fieldName)];if(item.isNewCountKey){checkedItem=item;}return/*#__PURE__*/index_js_default().createElement("li",{className:ResponseList_index_module.active},/*#__PURE__*/index_js_default().createElement("div",{className:ResponseList_index_module.li},/*#__PURE__*/index_js_default().createElement(es_checkbox/* default */.Z,{checked:checkedItem,disabled:item.isNewCountKey,onChange:function onChange(e){var checked=e.target.checked;_this2.updateResponseConfig(checked?'add':'remove',checkedItem||item);}},/*#__PURE__*/index_js_default().createElement("div",{className:ResponseList_index_module.typeIcon},/*#__PURE__*/index_js_default().createElement(tooltip/* default */.Z,{title:item.type},/*#__PURE__*/index_js_default().createElement("span",null,item.type))),checkedItem&&checkedItem.title?/*#__PURE__*/index_js_default().createElement((index_js_default()).Fragment,null,checkedItem.title):item.fieldName)),checkedItem?/*#__PURE__*/index_js_default().createElement("div",{className:ResponseList_index_module.key,style:{paddingRight:'5px'}},prevDimensionItems[checkedItem.keyName]?/*#__PURE__*/index_js_default().createElement(tag/* default */.Z,{color:"green"},"\u6C47\u603B-\u7EF4\u5EA6"):/*#__PURE__*/index_js_default().createElement((index_js_default()).Fragment,null,Object.keys(prevDimensionItems||{}).length?/*#__PURE__*/index_js_default().createElement(tag/* default */.Z,{color:"green"},"\u6C47\u603B-",sumOptions[checkedItem.sumType||'count']&&sumOptions[checkedItem.sumType||'count'].label):null),Object.keys(checkedItem.formatConfig||{}).length?/*#__PURE__*/index_js_default().createElement(tag/* default */.Z,{color:"magenta"},"\u683C\u5F0F\u5316"):null,/*#__PURE__*/index_js_default().createElement(MenuDrop/* default */.Z,{style:{width:"170px"},type:"iconmore",menus:_this2.getTools({fieldItem:checkedItem}),value:''})):null);})));}))),/*#__PURE__*/index_js_default().createElement(ParamEditModal/* default */.Z,{title:"".concat(paramEditModalData.text||""),aliasTitles:['成员','别名'],isShowFormatValue:true,visible:this.state.isShowParamEditModal,data:paramEditModalData// isShowDefaultValue={this.state.isRequestEidt}
// isResponseEdit={this.state.isResponseEdit}
,isNewCountKey:this.state.isNewCountKey,contentType:this.state.isResponseEdit?'response':'request',isInDataModelEdit:true,fields:(userFields||[]).map(function(item){var dataValue="".concat(paramEditModalData.databaseName).concat(paramEditModalData.tableName).concat(paramEditModalData.fieldName);var value="".concat(item.databaseName).concat(item.tableName).concat(item.fieldName);return ResponseList_objectSpread({label:"".concat(item.tableName,".").concat(item.fieldName),value:"".concat(item.databaseName).concat(item.tableName).concat(item.fieldName),type:item.fieldType},dataValue===value?{role:'currentItem'}:'');}),dataModels:{},relations:{},isOnlyEditData:false,isDisabledType:paramEditModalData&&paramEditModalData.fieldName,onCancel:function onCancel(){_this2.setState({isShowParamEditModal:false,isAddRequestItem:false,isNewCountKey:false});},onOk:function onOk(){var data=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var prevResponseKeyNames=_this2.props.model&&_this2.props.model.prevResponseKeyNames||{};var prevRequestKeyNames=_this2.props.model&&_this2.props.model.prevRequestKeyNames||{};// 创建查询条件
if(_this2.state.isAddRequestItem){if(prevRequestKeyNames[data.keyName]){message/* default.error */.ZP.error('此数据字段已创建查询条件');return;}_this2.updateRequestConfig('add',ResponseList_objectSpread({type:paramEditModalData.fieldType,tableName:paramEditModalData.tableName,databaseName:paramEditModalData.databaseName},data));_this2.setState({isShowParamEditModal:false,isAddRequestItem:false});return;}// 创建数据的计算字段
else if(_this2.state.isNewCountKey){if(prevResponseKeyNames[data.keyName]){message/* default.error */.ZP.error('字段名称已存在，请修改“字段名称”');return;}if(!(data.formatConfig&&data.formatConfig.count&&data.formatConfig.count.length>=2)){message/* default.error */.ZP.error('计算配置不能为空，请配置“计算”');return;}_this2.updateResponseConfig('add',ResponseList_objectSpread(ResponseList_objectSpread({fieldType:paramEditModalData.fieldType,tableName:paramEditModalData.tableName,databaseName:paramEditModalData.databaseName},data),{},{isNewCountKey:true,fieldName:data.keyName}));}// 编辑数据字段
else{if(data.keyName!==paramEditModalData.keyName&&prevResponseKeyNames[data.keyName]){message/* default.error */.ZP.error('字段名称已存在，请修改“字段名称”');return;}_this2.updateResponseConfig('update',ResponseList_objectSpread({fieldName:paramEditModalData.isNewCountKey?paramEditModalData.keyName:paramEditModalData.fieldName,fieldType:paramEditModalData.fieldType,tableName:paramEditModalData.tableName,databaseName:paramEditModalData.databaseName},data));}_this2.setState({isShowParamEditModal:false,isAddRequestItem:false,isNewCountKey:false});}}),/*#__PURE__*/index_js_default().createElement(Modal,{title:this.state.dimensionEditTitle,visible:this.state.dimensionEditVisible,data:ResponseList_objectSpread({keyName:dimensionEditData.keyName,type:dimensionEditData.type},dimensionEditData.dimensionConfig||{}),result:this.props.model&&this.props.model.beforeSumData,onOk:function onOk(data){var newFieldItem=ResponseList_objectSpread(ResponseList_objectSpread({},dimensionEditData),{},{dimensionConfig:{autoDimensions:data.autoDimensions,isUseNumberRange:data.isUseNumberRange,dimensions:data.dimensions||[]}});_this2.updateResponseConfig('update',newFieldItem);_this2.setState({dimensionEditVisible:false});},onCancel:function onCancel(){_this2.setState({dimensionEditVisible:false});}}));}}]);return DataSourceList;}(index_js_.Component);/* harmony default export */ const ResponseList = (ResponseList_DataSourceList);
;// CONCATENATED MODULE: ../data-source/src/components/RequestList/index.module.less
// extracted by mini-css-extract-plugin
/* harmony default export */ const RequestList_index_module = ({"box":"_-data-source-src-components-RequestList-index-module__box","title":"_-data-source-src-components-RequestList-index-module__title","addMySqlBtn":"_-data-source-src-components-RequestList-index-module__addMySqlBtn","content":"_-data-source-src-components-RequestList-index-module__content","tableList":"_-data-source-src-components-RequestList-index-module__tableList","li":"_-data-source-src-components-RequestList-index-module__li","key":"_-data-source-src-components-RequestList-index-module__key","myConnectTitle":"_-data-source-src-components-RequestList-index-module__myConnectTitle","tabBarExtraContent":"_-data-source-src-components-RequestList-index-module__tabBarExtraContent","typeIcon":"_-data-source-src-components-RequestList-index-module__typeIcon"});
// EXTERNAL MODULE: ../my-designer/src/language/index.js + 1 modules
var language = __webpack_require__(12530);
// EXTERNAL MODULE: ../icode-component/packages/utils/es/dataType.js
var dataType = __webpack_require__(52068);
;// CONCATENATED MODULE: ../data-source/src/components/RequestList/index.jsx
function RequestList_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){RequestList_typeof=function _typeof(obj){return typeof obj;};}else{RequestList_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return RequestList_typeof(obj);}function RequestList_extends(){RequestList_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return RequestList_extends.apply(this,arguments);}function RequestList_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function RequestList_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){RequestList_ownKeys(Object(source),true).forEach(function(key){RequestList_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{RequestList_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function RequestList_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function RequestList_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function RequestList_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function RequestList_createClass(Constructor,protoProps,staticProps){if(protoProps)RequestList_defineProperties(Constructor.prototype,protoProps);if(staticProps)RequestList_defineProperties(Constructor,staticProps);return Constructor;}function RequestList_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)RequestList_setPrototypeOf(subClass,superClass);}function RequestList_setPrototypeOf(o,p){RequestList_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return RequestList_setPrototypeOf(o,p);}function RequestList_createSuper(Derived){var hasNativeReflectConstruct=RequestList_isNativeReflectConstruct();return function _createSuperInternal(){var Super=RequestList_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=RequestList_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return RequestList_possibleConstructorReturn(this,result);};}function RequestList_possibleConstructorReturn(self,call){if(call&&(RequestList_typeof(call)==="object"||typeof call==="function")){return call;}return RequestList_assertThisInitialized(self);}function RequestList_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function RequestList_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function RequestList_getPrototypeOf(o){RequestList_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return RequestList_getPrototypeOf(o);}var RequestList_TabPane=tabs/* default.TabPane */.Z.TabPane;var sumTypes=language/* default.sumTypes */.Z.sumTypes;var RequestList_DataSourceList=/*#__PURE__*/function(_Component){RequestList_inherits(DataSourceList,_Component);var _super=RequestList_createSuper(DataSourceList);function DataSourceList(){var _this;RequestList_classCallCheck(this,DataSourceList);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={};_this.updateResponse=function(options){};_this.getTools=function(_ref){var item=_ref.item;var menu=[{label:"编辑...",callback:function callback(){_this.setState({paramEditModalData:RequestList_objectSpread({text:"编辑查询条件"},item),isShowParamEditModal:true});}},{type:"line"},{label:"移除",isDisabled:item.key?true:false,callback:function callback(){_this.updateRequestConfig('remove',item);}}];return menu;};_this.updateRequestConfig=function(type,data){var _this$props=_this.props,dispatchModel=_this$props.dispatchModel,model=_this$props.model;var content=model.content;var requestConfig=JSON.parse(JSON.stringify(content.requestConfig||[]));var targetIndex=-1;var prevItem;requestConfig.forEach(function(item,index){if(item.databaseName===data.databaseName&&item.tableName===data.tableName&&(item.key&&item.key===data.key||item.fieldName&&item.fieldName===data.fieldName)){targetIndex=index;prevItem=item;}});if(type==='update'){requestConfig.splice(targetIndex,1,RequestList_extends({},prevItem,data));}else if(type==='remove'){requestConfig.splice(targetIndex,1);}//defaultValueConfig defaultValueConfig
dispatchModel('setState',{content:RequestList_objectSpread(RequestList_objectSpread({},content),{},{requestConfig:requestConfig})});dispatchModel('queryData',{content:RequestList_objectSpread(RequestList_objectSpread({},content),{},{requestConfig:requestConfig})});};return _this;}RequestList_createClass(DataSourceList,[{key:"componentDidMount",value:function componentDidMount(){}},{key:"render",value:function render(){var _this2=this;var _this$state$paramEdit=this.state.paramEditModalData,paramEditModalData=_this$state$paramEdit===void 0?{}:_this$state$paramEdit;var model=this.props.model;var content=model.content||{};var requestConfig=content.requestConfig||[];var responseConfig=content.responseConfig||[];var database=content.database||[];var fields=model.fields||{};var userFields=responseConfig;return/*#__PURE__*/index_js_default().createElement((index_js_default()).Fragment,null,/*#__PURE__*/index_js_default().createElement("div",{className:RequestList_index_module.box},/*#__PURE__*/index_js_default().createElement("div",{className:RequestList_index_module.title},/*#__PURE__*/index_js_default().createElement("span",null,"\u67E5\u8BE2\u6761\u4EF6")),/*#__PURE__*/index_js_default().createElement("div",{className:RequestList_index_module.content},/*#__PURE__*/index_js_default().createElement("ul",{className:RequestList_index_module.tableList},requestConfig.map(function(item,index){var outputType=(0,dataType/* getRequestOutputType */.rT)(item.type,item.inputType);return/*#__PURE__*/index_js_default().createElement("li",null,/*#__PURE__*/index_js_default().createElement("div",{className:RequestList_index_module.li},/*#__PURE__*/index_js_default().createElement(tooltip/* default */.Z,{title:"\u662F\u5426\u6807\u4E3A\u63A5\u53E3\u53C2\u6570",color:'green'},/*#__PURE__*/index_js_default().createElement(es_checkbox/* default */.Z,{checked:item.isChecked,onChange:function onChange(e){var checked=e.target.checked;_this2.updateRequestConfig('update',RequestList_objectSpread(RequestList_objectSpread({},item),{},{isChecked:checked}));}},/*#__PURE__*/index_js_default().createElement("div",{className:RequestList_index_module.typeIcon},/*#__PURE__*/index_js_default().createElement(tooltip/* default */.Z,{title:outputType},/*#__PURE__*/index_js_default().createElement("span",null,outputType))),item.title||item.fieldName))),/*#__PURE__*/index_js_default().createElement("div",{className:RequestList_index_module.key,style:{paddingRight:'5px'}},item.isHadDefaultValue?/*#__PURE__*/index_js_default().createElement(tag/* default */.Z,{color:"green"},"\u9ED8\u8BA4\u503C"):null,item.formatConfig&&Object.keys(item.formatConfig).length?/*#__PURE__*/index_js_default().createElement(tag/* default */.Z,{color:"magenta"},"\u683C\u5F0F\u5316"):null,item.validateConfig&&item.validateConfig.length?/*#__PURE__*/index_js_default().createElement(tag/* default */.Z,{color:"red"},"\u9A8C\u8BC1"):null,/*#__PURE__*/index_js_default().createElement(MenuDrop/* default */.Z,{style:{width:"150px"},type:"iconmore",menus:_this2.getTools({item:item}),value:''})));})))),/*#__PURE__*/index_js_default().createElement(ParamEditModal/* default */.Z,{title:"".concat(paramEditModalData.text||""),isShowKeySelect:paramEditModalData.key,isDisabledKey:true,isShowFormatValue:true,isShowValidateConfig:true,visible:this.state.isShowParamEditModal,data:paramEditModalData//isShowDefaultValue={true}
,contentType:'request',isInDataModelEdit:true,orderFields:(userFields||[]).map(function(item){// const dataValue = `${paramEditModalData.databaseName}${paramEditModalData.tableName}${paramEditModalData.fieldName}`;
// const value = `${item.databaseName}${item.tableName}${item.fieldName}`;
return{label:"".concat(item.title||item.keyName),value:"".concat(item.keyName),fieldName:item.fieldName,databaseName:item.databaseName,tableName:item.tableName,type:item.fieldType// ...(dataValue === value ? {
//   role: 'currentItem'
// } : '')
};}),dataModels:{},relations:{},isOnlyEditData:false,isDisabledType:paramEditModalData.type,onCancel:function onCancel(){_this2.setState({isShowParamEditModal:false});},onOk:function onOk(data){_this2.updateRequestConfig('update',RequestList_objectSpread(RequestList_objectSpread({},paramEditModalData||{}),data));_this2.setState({isShowParamEditModal:false});}}));}}]);return DataSourceList;}(index_js_.Component);/* harmony default export */ const RequestList = (RequestList_DataSourceList);
// EXTERNAL MODULE: ../my-cli/node_modules/@ant-design/icons/es/icons/DoubleRightOutlined.js + 1 modules
var DoubleRightOutlined = __webpack_require__(53887);
;// CONCATENATED MODULE: ../data-source/src/components/NewDataSource/index.jsx
function NewDataSource_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){NewDataSource_typeof=function _typeof(obj){return typeof obj;};}else{NewDataSource_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return NewDataSource_typeof(obj);}function NewDataSource_extends(){NewDataSource_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return NewDataSource_extends.apply(this,arguments);}function NewDataSource_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function NewDataSource_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function NewDataSource_createClass(Constructor,protoProps,staticProps){if(protoProps)NewDataSource_defineProperties(Constructor.prototype,protoProps);if(staticProps)NewDataSource_defineProperties(Constructor,staticProps);return Constructor;}function NewDataSource_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)NewDataSource_setPrototypeOf(subClass,superClass);}function NewDataSource_setPrototypeOf(o,p){NewDataSource_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return NewDataSource_setPrototypeOf(o,p);}function NewDataSource_createSuper(Derived){var hasNativeReflectConstruct=NewDataSource_isNativeReflectConstruct();return function _createSuperInternal(){var Super=NewDataSource_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=NewDataSource_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return NewDataSource_possibleConstructorReturn(this,result);};}function NewDataSource_possibleConstructorReturn(self,call){if(call&&(NewDataSource_typeof(call)==="object"||typeof call==="function")){return call;}return NewDataSource_assertThisInitialized(self);}function NewDataSource_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function NewDataSource_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function NewDataSource_getPrototypeOf(o){NewDataSource_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return NewDataSource_getPrototypeOf(o);}// import img from '../buildByApi/assets/images/aaa_1.png';
//import {fetchApiData} from '../../service';
var NewDataSource_TabPane=tabs/* default.TabPane */.Z.TabPane;var Page=/*#__PURE__*/function(_Component){NewDataSource_inherits(Page,_Component);var _super=NewDataSource_createSuper(Page);function Page(){var _this;NewDataSource_classCallCheck(this,Page);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={paramAddModalVisible:false,// 筛选器编辑弹出框显示控制
currentDragDataSource:null,// 当前拖动的接口源（接口/表）
currenApiInfo:{}// 当前接口源详情（接口文档/表结构）
};_this.targetElements=[];return _this;}NewDataSource_createClass(Page,[{key:"render",value:// setModelState = (options) => {
//   this.setState(options);
//   if(options.currentDataSource) {
//     this.fetchApiInfo(options.currentDataSource);
//   }
// }
function render(){var _this2=this;var _this$state=this.state,currenApiInfo=_this$state.currenApiInfo,paramAddModalVisible=_this$state.paramAddModalVisible;return/*#__PURE__*/index_js_default().createElement((index_js_default()).Fragment,null,/*#__PURE__*/index_js_default().createElement("div",{className:NewDataSource_index_module.box},/*#__PURE__*/index_js_default().createElement("div",{className:NewDataSource_index_module.contentTop,ref:function ref(node){_this2.targetElements.push(node);}},/*#__PURE__*/index_js_default().createElement(ToolsBar,this.props),/*#__PURE__*/index_js_default().createElement("div",{className:NewDataSource_index_module.listItems},/*#__PURE__*/index_js_default().createElement("div",{className:NewDataSource_index_module.listItem},/*#__PURE__*/index_js_default().createElement(components_DataSourceList,this.props)),/*#__PURE__*/index_js_default().createElement("div",{className:NewDataSource_index_module.listItemIcon},/*#__PURE__*/index_js_default().createElement(DoubleRightOutlined/* default */.Z,null)),/*#__PURE__*/index_js_default().createElement("div",{className:NewDataSource_index_module.listItem},/*#__PURE__*/index_js_default().createElement(ResponseList,this.props)),/*#__PURE__*/index_js_default().createElement("div",{className:NewDataSource_index_module.listItemIcon},/*#__PURE__*/index_js_default().createElement(DoubleRightOutlined/* default */.Z,null)),/*#__PURE__*/index_js_default().createElement("div",{className:NewDataSource_index_module.listItem},/*#__PURE__*/index_js_default().createElement(RequestList,this.props)))),/*#__PURE__*/index_js_default().createElement((ContainerResize_default()),{minWidth:150,maxWidth:800,directions:['top'],className:NewDataSource_index_module.contentBottom,ref:function ref(node){return _this2.contentBottom=node;},targetElements:this.targetElements},/*#__PURE__*/index_js_default().createElement(components_DataTable,NewDataSource_extends({},this.props,{getHeight:function getHeight(){var height=_this2.contentBottom&&_this2.contentBottom.clientHeight||parseInt(document.body.clientHeight/100*40,10)-12;return height;}})))),/*#__PURE__*/index_js_default().createElement(components_ParamAddModal,{visible:paramAddModalVisible,onCancel:function onCancel(){_this2.setState({paramAddModalVisible:false});},title:"\u521B\u5EFA\u7B5B\u9009\u5B57\u6BB5",data:[],onOk:function onOk(data){var dispatchModel=_this2.props.dispatchModel;_this2.setState({paramAddModalVisible:false});dispatchModel('saveMysqlAccount',data);}}));}}]);return Page;}(index_js_.Component);/* harmony default export */ const NewDataSource = (Page);
;// CONCATENATED MODULE: ../data-source/src/DataSource.jsx
function DataSource_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){DataSource_typeof=function _typeof(obj){return typeof obj;};}else{DataSource_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return DataSource_typeof(obj);}function DataSource_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function DataSource_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function DataSource_createClass(Constructor,protoProps,staticProps){if(protoProps)DataSource_defineProperties(Constructor.prototype,protoProps);if(staticProps)DataSource_defineProperties(Constructor,staticProps);return Constructor;}function DataSource_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)DataSource_setPrototypeOf(subClass,superClass);}function DataSource_setPrototypeOf(o,p){DataSource_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return DataSource_setPrototypeOf(o,p);}function DataSource_createSuper(Derived){var hasNativeReflectConstruct=DataSource_isNativeReflectConstruct();return function _createSuperInternal(){var Super=DataSource_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=DataSource_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return DataSource_possibleConstructorReturn(this,result);};}function DataSource_possibleConstructorReturn(self,call){if(call&&(DataSource_typeof(call)==="object"||typeof call==="function")){return call;}return DataSource_assertThisInitialized(self);}function DataSource_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function DataSource_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function DataSource_getPrototypeOf(o){DataSource_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return DataSource_getPrototypeOf(o);}var DataSource_TabPane=tabs/* default.TabPane */.Z.TabPane;var DataSource_Page=/*#__PURE__*/function(_Component){DataSource_inherits(Page,_Component);var _super=DataSource_createSuper(Page);function Page(){var _this;DataSource_classCallCheck(this,Page);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={};return _this;}DataSource_createClass(Page,[{key:"render",value:function render(){// const { isInPage } = this.props;
return/*#__PURE__*/index_js_default().createElement("div",{className:index_module.box},/*#__PURE__*/index_js_default().createElement(NewDataSource,this.props));}}]);return Page;}(index_js_.Component);/* harmony default export */ const DataSource = (DataSource_Page);
;// CONCATENATED MODULE: ../data-source/src/index.jsx
function src_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){src_typeof=function _typeof(obj){return typeof obj;};}else{src_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return src_typeof(obj);}function src_extends(){src_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return src_extends.apply(this,arguments);}function src_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function src_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){src_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value);}function _throw(err){src_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err);}_next(undefined);});};}function src_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function src_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function src_createClass(Constructor,protoProps,staticProps){if(protoProps)src_defineProperties(Constructor.prototype,protoProps);if(staticProps)src_defineProperties(Constructor,staticProps);return Constructor;}function src_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)src_setPrototypeOf(subClass,superClass);}function src_setPrototypeOf(o,p){src_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return src_setPrototypeOf(o,p);}function src_createSuper(Derived){var hasNativeReflectConstruct=src_isNativeReflectConstruct();return function _createSuperInternal(){var Super=src_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=src_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return src_possibleConstructorReturn(this,result);};}function src_possibleConstructorReturn(self,call){if(call&&(src_typeof(call)==="object"||typeof call==="function")){return call;}return src_assertThisInitialized(self);}function src_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function src_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function src_getPrototypeOf(o){src_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return src_getPrototypeOf(o);}var src_Page=/*#__PURE__*/function(_Component){src_inherits(Page,_Component);var _super=src_createSuper(Page);function Page(){var _this;src_classCallCheck(this,Page);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.fetchData=/*#__PURE__*/src_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(){return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.dispatchModel('getTables',{name:_this.props.currName,isCopy:_this.props.isCopy});case 2:_context.next=4;return _this.dispatchModel('queryData');case 4:case"end":return _context.stop();}}},_callee);}));_this.dispatchModel=function(name){var payload=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var dispatch=_this.props.dispatch;return dispatch({type:"dataSourceModel/".concat(name),payload:payload});};return _this;}src_createClass(Page,[{key:"componentDidMount",value:function componentDidMount(){this.fetchData();}},{key:"render",value:function render(){return/*#__PURE__*/index_js_default().createElement("div",{className:index_module.page},/*#__PURE__*/index_js_default().createElement(DataSource,src_extends({},this.props,{dispatchModel:this.dispatchModel})));}}]);return Page;}(index_js_.Component);/* harmony default export */ const data_source_src = (src_Page);
// EXTERNAL MODULE: ../my-cli/node_modules/react-redux/es/index.js + 14 modules
var es = __webpack_require__(52440);
;// CONCATENATED MODULE: ../data-source/index.js
function data_source_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){data_source_typeof=function _typeof(obj){return typeof obj;};}else{data_source_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return data_source_typeof(obj);}function data_source_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function data_source_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function data_source_createClass(Constructor,protoProps,staticProps){if(protoProps)data_source_defineProperties(Constructor.prototype,protoProps);if(staticProps)data_source_defineProperties(Constructor,staticProps);return Constructor;}function data_source_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)data_source_setPrototypeOf(subClass,superClass);}function data_source_setPrototypeOf(o,p){data_source_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return data_source_setPrototypeOf(o,p);}function data_source_createSuper(Derived){var hasNativeReflectConstruct=data_source_isNativeReflectConstruct();return function _createSuperInternal(){var Super=data_source_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=data_source_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return data_source_possibleConstructorReturn(this,result);};}function data_source_possibleConstructorReturn(self,call){if(call&&(data_source_typeof(call)==="object"||typeof call==="function")){return call;}return data_source_assertThisInitialized(self);}function data_source_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function data_source_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function data_source_getPrototypeOf(o){data_source_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return data_source_getPrototypeOf(o);}var data_source_DataSource=/*#__PURE__*/function(_Component){data_source_inherits(DataSource,_Component);var _super=data_source_createSuper(DataSource);function DataSource(){var _this;data_source_classCallCheck(this,DataSource);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={};_this.models=[];return _this;}data_source_createClass(DataSource,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;var app=this.props.app;app.model(model);this.models.push(model);var myView=(0,es/* connect */.$j)(function(model,b){return{model:model.dataSourceModel,history:_this2.props.history,basename:_this2.props.basename,onCancel:_this2.props.onCancel,currName:_this2.props.currName,isCopy:_this2.props.isCopy};})(data_source_src);this.setState({myComponent:/*#__PURE__*/(0,index_js_.createElement)(myView,{style:this.props.style})});}},{key:"componentWillUnmount",value:function componentWillUnmount(){var app=this.props.app;if(this.models&&this.models.length){this.models.forEach(function(model){app.unmodel(model.namespace);});}}},{key:"render",value:function render(){var _ref=this.state||{},myComponent=_ref.myComponent;return myComponent?/*#__PURE__*/index_js_default().createElement((index_js_default()).Fragment,null,myComponent):null;}}]);return DataSource;}(index_js_.Component);/* harmony default export */ const data_source = (data_source_DataSource);

/***/ }),

/***/ 36236:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(93121);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}var Base=/*#__PURE__*/function(_Component){_inherits(Base,_Component);var _super=_createSuper(Base);function Base(){var _this;_classCallCheck(this,Base);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.getDimensionsData=function(_ref){var _ref$data=_ref.data,data=_ref$data===void 0?[]:_ref$data,_ref$dimensionConfig=_ref.dimensionConfig,dimensionConfig=_ref$dimensionConfig===void 0?[]:_ref$dimensionConfig;if(!dimensionConfig[0]){return[];}var dimension=dimensionConfig[0];if(!dimension.autoDimensions){return(dimension.dimensions||[]).map(function(item){return{label:item.label,value:item.value||item.value===0?item.value+'':''};});}else if(dimension.keyName){var keyName=dimension.keyName;return(data||[]).map(function(item){return{label:item[keyName],value:item[keyName]||item[keyName]===0?item[keyName]+'':''};});}return[];};_this.propsOptionsObj={};_this.getRestProps=function(_ref2){var _ref2$restProps=_ref2.restProps,restProps=_ref2$restProps===void 0?{}:_ref2$restProps,_ref2$propsOptions=_ref2.propsOptions,propsOptions=_ref2$propsOptions===void 0?[]:_ref2$propsOptions;var newRestProps={};if(!Object.keys(_this.propsOptionsObj).length){propsOptions.forEach(function(option){_this.propsOptionsObj[option.name]=true;});}Object.keys(restProps).forEach(function(propName){if(_this.propsOptionsObj[propName]){newRestProps[propName]=restProps[propName];}});return newRestProps;};return _this;}return Base;}(react__WEBPACK_IMPORTED_MODULE_0__.Component);/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Base);

/***/ }),

/***/ 72005:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "Z": () => (/* binding */ MyComponent)
});

// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/select/style/index.js + 1 modules
var style = __webpack_require__(94289);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/select/index.js
var es_select = __webpack_require__(4213);
// EXTERNAL MODULE: consume shared module (default) react@^16.14.0 (singleton) (fallback: ../my-cli/node_modules/react/index.js)
var index_js_ = __webpack_require__(93121);
var index_js_default = /*#__PURE__*/__webpack_require__.n(index_js_);
// EXTERNAL MODULE: ../icode-component/packages/component-layout/utils/Base.jsx
var Base = __webpack_require__(36236);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/input/style/index.js + 1 modules
var input_style = __webpack_require__(60418);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/input/index.js + 29 modules
var input = __webpack_require__(40704);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/empty/style/index.js + 1 modules
var empty_style = __webpack_require__(28193);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/empty/index.js + 2 modules
var empty = __webpack_require__(2947);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/checkbox/style/index.js + 1 modules
var checkbox_style = __webpack_require__(75529);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/checkbox/index.js + 2 modules
var es_checkbox = __webpack_require__(20149);
;// CONCATENATED MODULE: ../icode-component/packages/enum-input/src/index.module.less
// extracted by mini-css-extract-plugin
/* harmony default export */ const index_module = ({"enumInput":"_-icode-component-packages-enum-input-src-index-module__enumInput","enumOptions":"_-icode-component-packages-enum-input-src-index-module__enumOptions","enumItem":"_-icode-component-packages-enum-input-src-index-module__enumItem","checkBox":"_-icode-component-packages-enum-input-src-index-module__checkBox","body":"_-icode-component-packages-enum-input-src-index-module__body","enumItemTh":"_-icode-component-packages-enum-input-src-index-module__enumItemTh","enumItemFt":"_-icode-component-packages-enum-input-src-index-module__enumItemFt","small":"_-icode-component-packages-enum-input-src-index-module__small","middle":"_-icode-component-packages-enum-input-src-index-module__middle","large":"_-icode-component-packages-enum-input-src-index-module__large"});
// EXTERNAL MODULE: ../my-cli/node_modules/@ant-design/icons/es/icons/MinusCircleOutlined.js + 1 modules
var MinusCircleOutlined = __webpack_require__(99175);
// EXTERNAL MODULE: ../my-cli/node_modules/@ant-design/icons/es/icons/UpCircleOutlined.js + 1 modules
var UpCircleOutlined = __webpack_require__(62641);
// EXTERNAL MODULE: ../my-cli/node_modules/@ant-design/icons/es/icons/PlusCircleOutlined.js + 1 modules
var PlusCircleOutlined = __webpack_require__(57881);
;// CONCATENATED MODULE: ../icode-component/packages/enum-input/src/Enum.jsx
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}var MyInput=/*#__PURE__*/function(_Component){_inherits(MyInput,_Component);var _super=_createSuper(MyInput);function MyInput(){var _this;_classCallCheck(this,MyInput);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={enumOptions:[],activeItem:{},errors:{},currEnumOptionItem:{},selectValues:[]};_this.onSelect=function(activeItem){var _this$props=_this.props,onSelect=_this$props.onSelect,multiple=_this$props.multiple;var _this$state$selectVal=_this.state.selectValues,selectValues=_this$state$selectVal===void 0?[]:_this$state$selectVal;var selectItemsObj={};selectValues.forEach(function(value,index){selectItemsObj[value]=index;});if(selectItemsObj[activeItem.value]>=0){selectValues.splice(selectItemsObj[activeItem.value],1);}else{selectValues.push(activeItem.value);}var newSelectValues=[].concat(selectValues);if(!multiple&&newSelectValues.length>1){newSelectValues=[newSelectValues[newSelectValues.length-1]];}_this.setState({activeItem:activeItem,selectValues:newSelectValues});if(onSelect&&typeof onSelect==='function'){onSelect(newSelectValues);}};_this.onRemove=function(item,index){var _this$state=_this.state,_this$state$enumOptio=_this$state.enumOptions,enumOptions=_this$state$enumOptio===void 0?[]:_this$state$enumOptio,_this$state$selectVal2=_this$state.selectValues,selectValues=_this$state$selectVal2===void 0?[]:_this$state$selectVal2;var onSelect=_this.props.onSelect;var selectIndex=selectValues.indexOf(item.value);enumOptions.splice(index,1);if(selectIndex>=0){selectValues.splice(selectIndex,1);}// this.setState({
//   enumOptions,
// });
if(onSelect&&typeof onSelect==='function'){onSelect(selectValues);}_this.onChange(enumOptions);};_this.onMove=function(item,index){var _this$state$enumOptio2=_this.state.enumOptions,enumOptions=_this$state$enumOptio2===void 0?[]:_this$state$enumOptio2;var newOption=JSON.parse(JSON.stringify(enumOptions[index]));enumOptions.splice(index,1);enumOptions.splice(index-1,0,newOption);// this.setState({
//   enumOptions,
// });
_this.onChange(enumOptions);};_this.onChange=function(data){var onChange=_this.props.onChange;if(onChange&&typeof onChange==='function'){onChange(data);}};_this.onAdd=function(){var _this$state2=_this.state,_this$state2$currEnum=_this$state2.currEnumOptionItem,currEnumOptionItem=_this$state2$currEnum===void 0?{}:_this$state2$currEnum,_this$state2$enumOpti=_this$state2.enumOptions,enumOptions=_this$state2$enumOpti===void 0?[]:_this$state2$enumOpti;var enumOptionsObj={};enumOptions.map(function(item){enumOptionsObj[item.value]=item;});var newOption=currEnumOptionItem;var errors={};if(!newOption.label){errors.label='不能为空';}if(!newOption.value&&newOption.value!==0){errors.value='不能为空';}if(Object.values(errors).length){_this.setState({errors:errors});return;}enumOptionsObj[newOption.value]=newOption;var newEnumOptions=Object.values(enumOptionsObj);_this.setState({enumOptions:newEnumOptions,currEnumOptionItem:{}});_this.onChange(newEnumOptions);};return _this;}_createClass(MyInput,[{key:"componentDidMount",value:function componentDidMount(){}},{key:"render",value:function render(){var _this2=this;var _this$props2=this.props,ableRemove=_this$props2.ableRemove,ableMove=_this$props2.ableMove,ableAdd=_this$props2.ableAdd,_this$props2$outputTy=_this$props2.outputType,outputType=_this$props2$outputTy===void 0?'':_this$props2$outputTy,_this$props2$optionsE=_this$props2.optionsEmpty,optionsEmpty=_this$props2$optionsE===void 0?'':_this$props2$optionsE,size=_this$props2.size,ableChecked=_this$props2.ableChecked,onSelect=_this$props2.onSelect;var _this$state3=this.state,_this$state3$enumOpti=_this$state3.enumOptions,enumOptions=_this$state3$enumOpti===void 0?[]:_this$state3$enumOpti,_this$state3$activeIt=_this$state3.activeItem,activeItem=_this$state3$activeIt===void 0?{}:_this$state3$activeIt,errors=_this$state3.errors,currEnumOptionItem=_this$state3.currEnumOptionItem,_this$state3$selectVa=_this$state3.selectValues,selectValues=_this$state3$selectVa===void 0?[]:_this$state3$selectVa;var selectItemsObj={};selectValues.forEach(function(value){selectItemsObj[value]=true;});return/*#__PURE__*/index_js_default().createElement("div",{className:"icode-enum-options-box ".concat(index_module.enumOptions," ").concat(index_module[size])},enumOptions.length?/*#__PURE__*/index_js_default().createElement((index_js_default()).Fragment,null,/*#__PURE__*/index_js_default().createElement("div",{className:"icode-enum-options-head ".concat(index_module.enumItem," ").concat(index_module.enumItemTh)},ableChecked?/*#__PURE__*/index_js_default().createElement("p",{className:index_module.checkBox}):null,/*#__PURE__*/index_js_default().createElement("p",null,"\u522B\u540D"),/*#__PURE__*/index_js_default().createElement("p",null,"\u503C"),/*#__PURE__*/index_js_default().createElement("p",null)),/*#__PURE__*/index_js_default().createElement("div",{className:"icode-enum-options-body ".concat(index_module.body)},enumOptions.map(function(item,index){return/*#__PURE__*/index_js_default().createElement("div",{className:"\n            ".concat(index_module.enumItem," \n            ").concat(activeItem.value===item.value?index_module.activeItem:''),onClick:function onClick(){if(!ableChecked){return;}_this2.onSelect(item);},style:ableChecked?{cursor:'pointer'}:{}},ableChecked?/*#__PURE__*/index_js_default().createElement("p",{className:index_module.checkBox},/*#__PURE__*/index_js_default().createElement(es_checkbox/* default */.Z,{checked:selectItemsObj[item.value]})):null,/*#__PURE__*/index_js_default().createElement("p",null,item.label),/*#__PURE__*/index_js_default().createElement("p",null,item.value),/*#__PURE__*/index_js_default().createElement("p",null,ableRemove?/*#__PURE__*/index_js_default().createElement(MinusCircleOutlined/* default */.Z,{title:"\u5220\u9664\u9009\u9879",onClick:function onClick(e){e.preventDefault();e.stopPropagation();_this2.onRemove(item,index);}}):null,ableMove&&index>0?/*#__PURE__*/index_js_default().createElement(UpCircleOutlined/* default */.Z,{title:"\u5411\u4E0A\u79FB\u52A8",onClick:function onClick(e){e.preventDefault();e.stopPropagation();_this2.onMove(item,index);}}):null));}))):/*#__PURE__*/index_js_default().createElement(empty/* default */.Z,{image:empty/* default.PRESENTED_IMAGE_SIMPLE */.Z.PRESENTED_IMAGE_SIMPLE,description:optionsEmpty?optionsEmpty:'暂无选项!'}),ableAdd?/*#__PURE__*/index_js_default().createElement("div",{className:"icode-enum-options-foot ".concat(index_module.enumItem," ").concat(index_module.enumItemFt)},/*#__PURE__*/index_js_default().createElement("p",{style:ableChecked?{flex:2.4}:{}},/*#__PURE__*/index_js_default().createElement(input/* default */.Z,{size:size,style:{width:'100%'},placeholder:"\u9009\u9879\u522B\u540D...",value:currEnumOptionItem.label||'',onChange:function onChange(e){var oldOption=currEnumOptionItem;var value=e.target.value;var newOption=_objectSpread(_objectSpread({},oldOption),{},{label:value});_this2.setState({currEnumOptionItem:newOption});}})),/*#__PURE__*/index_js_default().createElement("p",{style:{paddingLeft:'0px'}},/*#__PURE__*/index_js_default().createElement(input/* default */.Z,{size:size,style:{width:'100%'},placeholder:"".concat(outputType.indexOf('number')>=0?'数字':'',"\u9009\u9879\u503C..."),value:currEnumOptionItem.value||currEnumOptionItem.value===0?currEnumOptionItem.value+'':'',onChange:function onChange(e){var oldOption=currEnumOptionItem;var value=e.target.value;//value = Number(value);
if(outputType.indexOf('number')>=0&&!value&&value!==0){_this2.setState({currEnumOptionItem:_objectSpread(_objectSpread({},oldOption),{},{value:''})});return;}_this2.setState({currEnumOptionItem:_objectSpread(_objectSpread({},oldOption),{},{value:value})});}})),/*#__PURE__*/index_js_default().createElement("p",null,/*#__PURE__*/index_js_default().createElement(PlusCircleOutlined/* default */.Z,{title:"\u65B0\u589E\u9009\u9879",onClick:this.onAdd}))):null);}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(_ref,prevState){var enumOptions=_ref.enumOptions,selectValues=_ref.selectValues;var options={};if(enumOptions){options.enumOptions=enumOptions.map(function(item){return{label:item.label,value:item.value+''};});}if(selectValues){options.selectValues=selectValues;}return options;}}]);return MyInput;}(index_js_.Component);;//<div>暂无选项! <br/> 如果为固定的几个值，请添加枚举选项！</div>
// EXTERNAL MODULE: ../icode-component/packages/utils/es/dataType.js
var dataType = __webpack_require__(52068);
;// CONCATENATED MODULE: ../icode-component/packages/enum-input/src/index.jsx
function src_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){src_typeof=function _typeof(obj){return typeof obj;};}else{src_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return src_typeof(obj);}function src_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function src_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function src_createClass(Constructor,protoProps,staticProps){if(protoProps)src_defineProperties(Constructor.prototype,protoProps);if(staticProps)src_defineProperties(Constructor,staticProps);return Constructor;}function src_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)src_setPrototypeOf(subClass,superClass);}function src_setPrototypeOf(o,p){src_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return src_setPrototypeOf(o,p);}function src_createSuper(Derived){var hasNativeReflectConstruct=src_isNativeReflectConstruct();return function _createSuperInternal(){var Super=src_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=src_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return src_possibleConstructorReturn(this,result);};}function src_possibleConstructorReturn(self,call){if(call&&(src_typeof(call)==="object"||typeof call==="function")){return call;}return src_assertThisInitialized(self);}function src_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function src_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function src_getPrototypeOf(o){src_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return src_getPrototypeOf(o);}var MyComponent=/*#__PURE__*/function(_Base){src_inherits(MyComponent,_Base);var _super=src_createSuper(MyComponent);function MyComponent(){var _this;src_classCallCheck(this,MyComponent);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={enumOptions:[]};_this.onSelect=function(values){var _this$props$selectedP=_this.props.selectedParma,selectedParma=_this$props$selectedP===void 0?{}:_this$props$selectedP;if(selectedParma.onChange&&typeof selectedParma.onChange==='function'){selectedParma.onChange(values&&values.length?values:'');}};_this.onChangeEnumOptions=function(options){var _this$props$enumOptio=_this.props.enumOptionsParam,enumOptionsParam=_this$props$enumOptio===void 0?{}:_this$props$enumOptio;if(enumOptionsParam.onChange&&typeof enumOptionsParam.onChange==='function'){enumOptionsParam.onChange(options);}};_this.getEnumCheckMultiple=function(){var selectedParma=_this.props.selectedParma;var outputType=selectedParma.outputType;var isMultiple=false;if(outputType==='[string]'||outputType==='[number]'){isMultiple=true;}return isMultiple;};return _this;}src_createClass(MyComponent,[{key:"componentDidMount",value:function componentDidMount(){}},{key:"render",value:function render(){var _this2=this;var _this$props=this.props,className=_this$props.className,style=_this$props.style,ableRemove=_this$props.ableRemove,ableMove=_this$props.ableMove,ableAdd=_this$props.ableAdd,_this$props$size=_this$props.size,size=_this$props$size===void 0?'middle':_this$props$size,optionsEmpty=_this$props.optionsEmpty,placeholder=_this$props.placeholder,onlyEnumOptions=_this$props.onlyEnumOptions,ableChecked=_this$props.ableChecked,bordered=_this$props.bordered;var _this$state=this.state,_this$state$enumOptio=_this$state.enumOptions,enumOptions=_this$state$enumOptio===void 0?[]:_this$state$enumOptio,_this$state$selectVal=_this$state.selectValues,selectValues=_this$state$selectVal===void 0?[]:_this$state$selectVal;return/*#__PURE__*/index_js_default().createElement("div",{className:className||'',style:style||{}},onlyEnumOptions?/*#__PURE__*/index_js_default().createElement(MyInput,{ableRemove:ableRemove,ableMove:ableMove,ableAdd:ableAdd,ableChecked:ableChecked,multiple:this.getEnumCheckMultiple(),size:size,enumOptions:enumOptions,optionsEmpty:optionsEmpty//outputType={'[{label, value}]'}
,selectValues:selectValues,onSelect:function onSelect(selectValues,selectItems){_this2.onSelect(selectValues);},onChange:function onChange(enumOptions){_this2.onChangeEnumOptions(enumOptions);}}):/*#__PURE__*/index_js_default().createElement(es_select/* default */.Z,{className:"".concat(index_module.enumInput," ").concat(index_module[size]),style:{width:"100%"},size:size,bordered:bordered,value:selectValues,mode:"multiple",dropdownRender:function dropdownRender(menu){return/*#__PURE__*/index_js_default().createElement(MyInput,{ableRemove:ableRemove,ableMove:ableMove,ableAdd:ableAdd,ableChecked:ableChecked,size:size,optionsEmpty:optionsEmpty,multiple:_this2.getEnumCheckMultiple()//outputType={'[{label, value}]'}
,selectValues:selectValues,onSelect:function onSelect(selectValues,selectItems){_this2.onSelect(selectValues);},enumOptions:enumOptions,onChange:function onChange(enumOptions){_this2.onChangeEnumOptions(enumOptions);}});},options:[].concat(enumOptions),placeholder:placeholder||'请先创建选项...',onChange:function onChange(selectValues){_this2.onSelect(selectValues);}}));}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(_ref,prevState){var selectedParma=_ref.selectedParma,enumOptionsParam=_ref.enumOptionsParam;var options={};if(selectedParma){options.selectValues=(0,dataType/* getOutputValue */.jG)({outputType:'[string]',value:selectedParma.value});}if(enumOptionsParam){options.enumOptions=enumOptionsParam.value||[];}return options;}}]);return MyComponent;}(Base/* default */.Z);;

/***/ }),

/***/ 52068:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "IO": () => (/* binding */ getOutputType),
/* harmony export */   "QF": () => (/* binding */ getDataTypes),
/* harmony export */   "Y4": () => (/* binding */ isSameType),
/* harmony export */   "_V": () => (/* binding */ isCanDataTypeTransform),
/* harmony export */   "jG": () => (/* binding */ getOutputValue),
/* harmony export */   "kx": () => (/* binding */ getTransformTypes),
/* harmony export */   "rT": () => (/* binding */ getRequestOutputType)
/* harmony export */ });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(98160);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(18231);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}var getDataTypes=function getDataTypes(){return['string','[string]','number','text','[number]','[min, max]','date','[startDate, endDate]','boolean','[[orderKey, orderType]]','[{label, value}]'];};/**
 * 根据数据库字段值规则，获取数据类型
 * @param {*} fieldType 数据库字段类型
 * @param {*} inputType 字段值规则类型
 * @returns 数据库类型
 */var getRequestOutputType=function getRequestOutputType(fieldType,inputType){var types={string:{equal:'string',in:'[string]',like:'[string]'},number:{equal:'number',in:'[number]',between:'[min, max]'},date:{rangeDateTime:'[startDate, endDate]',rangeDate:'[startDate, endDate]',rangeMonth:'[startDate, endDate]',rangeYear:'[startDate, endDate]',dynamic:'[startDate, endDate]',dateTime:'date',date:'date',month:'date',year:'date'},order:{order:'[[orderKey, orderType]]'},special:{enumOptions:'[{label, value}]'}};return types[fieldType]&&types[fieldType][inputType]||fieldType;};/**
 * 根据输出类型，获取最终值
 * @param {*} outputType 数据类型
 * @param {*} value 原始值
 * @returns 转化后的值 (如果原始值不能根据“数据类型”，转化值，为空'')
 */var getOutputValue=function getOutputValue(_ref){var outputType=_ref.outputType,value=_ref.value,valueSplit=_ref.valueSplit,_ref$targetIndex=_ref.targetIndex,targetIndex=_ref$targetIndex===void 0?0:_ref$targetIndex,orderKey=_ref.orderKey;if(outputType==='number'&&typeof value!=='number'){var newValue='';if(_typeof(value)==='object'&&value.length){newValue=parseFloat(value[0],10);}else if(typeof value==='string'||typeof value==='number'){newValue=parseFloat(value,10);}return (0,_utils__WEBPACK_IMPORTED_MODULE_1__/* .isValue */ .w)(newValue)?newValue:'';}else if(outputType==='[number]'&&value){var _newValue=[];if(_typeof(value)==='object'&&value.length){value.forEach(function(item){var newItem='';if(typeof item==='string'||typeof item==='number'){newItem=parseFloat(item,10);}if((0,_utils__WEBPACK_IMPORTED_MODULE_1__/* .isValue */ .w)(newItem)){_newValue.push(newItem);}});}else if(valueSplit&&typeof value==='string'&&value&&value.indexOf(valueSplit)>=0){var newValues=value.split(valueSplit);_newValue=[];newValues.forEach(function(item){var valueItem=parseFloat(item,10);if((0,_utils__WEBPACK_IMPORTED_MODULE_1__/* .isValue */ .w)(valueItem)){_newValue.push(valueItem);}});}else if((typeof value==='string'||typeof value==='number')&&(0,_utils__WEBPACK_IMPORTED_MODULE_1__/* .isValue */ .w)(parseFloat(value,10))){_newValue=[parseFloat(value,10)];}return _newValue;}else if(outputType==='string'&&typeof value!=='string'){var _newValue2='';if(_typeof(value)==='object'&&value.length){if(valueSplit){_newValue2=value.join(valueSplit);}else if(value&&value[0]&&value[0][1]&&['ASC','DESC'].indexOf(value[0][1])>=0){_newValue2=(0,_utils__WEBPACK_IMPORTED_MODULE_1__/* .isValue */ .w)(value[0][targetIndex])?value[0][targetIndex]:'';}else{_newValue2=(0,_utils__WEBPACK_IMPORTED_MODULE_1__/* .isValue */ .w)(value[targetIndex])&&['string','number'].indexOf(_typeof(value[targetIndex]))>=0?value[targetIndex]+'':'';}}else if(typeof value==='string'||typeof value==='number'){_newValue2=value+'';}return _newValue2;}else if(outputType==='[string]'&&value){var _newValue3=[];if(_typeof(value)==='object'&&value.length){value.map(function(item){if((typeof item==='string'||typeof item==='number')&&(0,_utils__WEBPACK_IMPORTED_MODULE_1__/* .isValue */ .w)(item)){_newValue3.push(item+'');}});}if(valueSplit&&typeof value==='string'&&value&&value.indexOf(valueSplit)>=0){var _newValues=value.split(valueSplit);_newValue3=[];_newValues.forEach(function(item){if((0,_utils__WEBPACK_IMPORTED_MODULE_1__/* .isValue */ .w)(item)){_newValue3.push(item);}});}else if((typeof value==='string'||typeof value==='number')&&(0,_utils__WEBPACK_IMPORTED_MODULE_1__/* .isValue */ .w)(value)){_newValue3=[value+''];}return _newValue3;}else if(outputType==='[{label, value}]'){var _newValue4=[];if(value&&value.length){value.forEach(function(item){if(item.label&&item.value){_newValue4.push(item);}});}return _newValue4;}else if(outputType==='[startDate, endDate]'&&typeof value==='string'&&value){var start=moment__WEBPACK_IMPORTED_MODULE_0___default()(value);var year=start.get('year');var month=start.get('month');var date=start.get('date');var hour=start.get('hour');var end="".concat(year,"-").concat(month===0&&date===1?12:month+1,"-").concat(date===1&&hour===0?start.daysInMonth():date," 23:59:59");return[start.format('YYYY-MM-DD HH:mm:ss'),moment__WEBPACK_IMPORTED_MODULE_0___default()(end).format('YYYY-MM-DD HH:mm:ss')];}else if(outputType==='[orderKey, orderType]'){if(value&&value[0]&&value[0].length>=2){var _newValue5=[];if(orderKey){value.forEach(function(valueItem){if(valueItem[0]&&valueItem[1]&&orderKey===valueItem[0]){_newValue5=[valueItem[0],valueItem[1]];}});}else if(_typeof(value[0])==='object'&&value[0][0]&&value[0][1]){_newValue5=[value[0][0],value[0][1]];}else if(['ASC','DESC'].indexOf(value[1])>=0){_newValue5=value;}return _newValue5;}}else if(outputType==='[[orderKey, orderType]]'){if(value&&value[0]&&value[1]&&typeof value[0]==='string'&&['ASC','DESC'].indexOf(value[1])>=0){return[value];}else if(value&&value[0]&&value[0][1]&&['ASC','DESC'].indexOf(value[0][1])>=0){return value;}else{return value;}}else if(outputType==='date'&&_typeof(value)==='object'&&value.length){return value[0];}return value;};var isSameType=function isSameType(fromType,topType){var isSameType=false;[['string','text','date'],['[string]','[startDate, endDate]','[orderKey, orderType]'],['[number]','[min, max]']].map(function(items){isSameType=isSameType||items.indexOf(fromType)>=0&&items.indexOf(topType)>=0;});return isSameType;};var isCanDataTypeTransform=function isCanDataTypeTransform(){var outputTypes=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var requireType=arguments.length>1?arguments[1]:undefined;if(!requireType){return true;}if(!outputTypes.length){return true;}var isHad=true;var commonTypes=['string','[string]','number','[number]','text'];outputTypes.map(function(type){if(commonTypes.indexOf(type)===-1){isHad=false;}});if(outputTypes.indexOf(requireType)>=0||isHad&&commonTypes.indexOf(requireType)>=0){return true;}if(requireType==='[startDate, endDate]'&&(outputTypes.indexOf('date')>=0||outputTypes.indexOf('[startDate, endDate]')>=0)){return true;}else if(requireType==='date'&&outputTypes.indexOf('date')>=0){return true;}else if(requireType==='string'&&outputTypes.indexOf('boolean')===-1){return true;}return false;};var getTransformTypes=function getTransformTypes(_ref2){var fromType=_ref2.fromType,toType=_ref2.toType;var options=[];var types=[];if(['[startDate, endDate]','[min, max]','[string]','[number]'].indexOf(fromType)>=0&&toType==='string'){options.push({label:'join(",")',value:{join:','}});types.push('join');}if(fromType==='[startDate, endDate]'&&['string','number','date'].indexOf(toType)>=0){options.push({label:'startDate',value:{index:0}});options.push({label:'endDate',value:{index:1}});types.push('index');}if(fromType==='[min, max]'&&['string','number'].indexOf(toType)>=0){options.push({label:'min',value:{index:0}});options.push({label:'max',value:{index:1}});types.push('index');}if((fromType==='[[orderKey, orderType]]'||fromType==='[orderKey, orderType]')&&['string'].indexOf(toType)>=0){options.push({label:'orderKey',value:{index:0}});options.push({label:'orderType',value:{index:1}});types.push('index');}return{typesOptions:options,types:types};};var getOutputType=function getOutputType(value){if(_typeof(value)==='object'&&value.constructor===Array&&value.length){var types='';value.forEach(function(itemValue,index){var currTypes=getOutputType(itemValue);if(index===0){types=currTypes;}else if(types==='number'&&currTypes==='string'){types='string';}});return"[".concat(types,"]");}else if(_typeof(value)==='object'&&value.constructor===Object){var keys=Object.keys(value);return"{".concat(keys.join(', '),"}");}else if(typeof value==='number'){return'number';}else if(typeof value==='boolean'){return'boolean';}return'string';};

/***/ }),

/***/ 97652:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "T": () => (/* binding */ getDateFormartValue),
/* harmony export */   "Z": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(18231);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
var getDateFormartValue=function getDateFormartValue(value,formart){var newValue='';try{newValue=moment__WEBPACK_IMPORTED_MODULE_0___default()(value).format(formart);}catch(e){//
}return newValue||'';};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ([{title:'时间戳',value:'timestamp',getValue:function getValue(value){return+new Date(value);}},{title:'YYYY-MM-DD HH:mm:ss',value:'YYYY-MM-DD HH:mm:ss',getValue:function getValue(value){return moment__WEBPACK_IMPORTED_MODULE_0___default()(value).format('YYYY-MM-DD HH:mm:ss');}},{title:'YYYY-MM-DD 00:00:00',value:'YYYY-MM-DD 00:00:00',getValue:function getValue(value){return moment__WEBPACK_IMPORTED_MODULE_0___default()(value).format('YYYY-MM-DD 00:00:00');}},{title:'YYYY-MM-DD 23:59:59',value:'YYYY-MM-DD 23:59:59',getValue:function getValue(value){return moment__WEBPACK_IMPORTED_MODULE_0___default()(value).format('YYYY-MM-DD 23:59:59');}},{title:'YYYY-MM-DD HH:mm',value:'YYYY-MM-DD HH:mm',getValue:function getValue(value){return moment__WEBPACK_IMPORTED_MODULE_0___default()(value).format('YYYY-MM-DD HH:mm');}},{title:'YYYY-MM-DD',value:'YYYY-MM-DD',getValue:function getValue(value){return moment__WEBPACK_IMPORTED_MODULE_0___default()(value).format('YYYY-MM-DD');}},{title:'YYYY-MM',value:'YYYY-MM',getValue:function getValue(value){return moment__WEBPACK_IMPORTED_MODULE_0___default()(value).format('YYYY-MM');}},{title:'YYYY',value:'YYYY',getValue:function getValue(value){return moment__WEBPACK_IMPORTED_MODULE_0___default()(value).format('YYYY');}}]);

/***/ }),

/***/ 4769:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ([{"keyName":"userId","title":"用户id"},{"keyName":"userName","title":"用户id"},{"keyName":"jobId","title":"用户工号"},{"keyName":"org","title":"用户所属组织"},{"keyName":"currOrg","title":"用户当前所在组织"}]);

/***/ }),

/***/ 94934:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "Cn": () => (/* binding */ getParamDefaultValue),
  "Cf": () => (/* binding */ getValueFormat),
  "Xe": () => (/* binding */ parseApiData),
  "zt": () => (/* binding */ parseApiParam)
});

// UNUSED EXPORTS: getDateDimension, getDefaultValue, getNumberRangeDimension, getStringDimension, getTextContent, refreshStaticData

// EXTERNAL MODULE: ../my-cli/node_modules/moment/moment.js
var moment_moment = __webpack_require__(18231);
// EXTERNAL MODULE: ../icode-component/packages/utils/es/dynamicOptions.js
var dynamicOptions = __webpack_require__(40880);
// EXTERNAL MODULE: ../icode-component/packages/utils/es/dateFormatOptions.js
var dateFormatOptions = __webpack_require__(97652);
;// CONCATENATED MODULE: ../icode-component/packages/utils/es/parseNumber.js
var parseNumber=function parseNumber(num,decimals,separator){if(!(decimals||separator)){return num;}var newNum=num||0;if(decimals&&decimals.count){var count=decimals.count,isRounding=decimals.isRounding,isCovering=decimals.isCovering;newNum=newNum+'';if(isRounding){newNum=Number(newNum).toFixed(2);if(!isCovering){newNum=parseFloat(newNum);}}else if(isCovering){if(newNum.indexOf('.')>0){newNum=(newNum+'000000000').substring(0,newNum.indexOf('.')+1+count);}else{newNum=(newNum+'.000000000').substring(0,newNum.length+1+count);}}else{newNum=newNum.indexOf('.')>=0?newNum.substring(0,newNum.indexOf('.')+1+count):newNum;newNum=parseFloat(newNum,10);}}if(separator){newNum=newNum+'';var numArr=['',''];if(newNum.indexOf('.')>=0){numArr=newNum.split('.');}else{numArr[0]=newNum;}var result=[],counter=0;numArr[0]=(numArr[0]||0).toString().split('');for(var i=numArr[0].length-1;i>=0;i--){counter++;result.unshift(numArr[0][i]);if(!(counter%3)&&i!==0){result.unshift(',');}}newNum=numArr[1]?[result.join(''),numArr[1]].join('.'):result.join('');}return newNum;};
;// CONCATENATED MODULE: ../icode-component/packages/utils/es/parseLogic.js
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}var parseLogic=function parseLogic(keyName,ruleValue,value,data,isCount){var result=value||'';try{var text='';if(_typeof(ruleValue)==='object'){var dataKeys=Object.keys(data);text=[];(ruleValue||[]).forEach(function(item){if(dataKeys.indexOf(item)>=0){text.push("[".concat(item,"]"));}else{text.push(item);}});text=text.join('');}else{text=ruleValue;}text=text.replace('['+keyName+']',value);text=text.replace(/\[([^(\[|\])]*)\]/g,function(value){var newValue=value;newValue=newValue.replace(/\[|\]/g,'');if(data[newValue]||data[newValue]===0){if(Number(data[newValue])===data[newValue]){return Number(data[newValue]);}else{return"".concat(data[newValue]);}}else{return"".concat(newValue);}});if(isCount){result=new Function("return ".concat(text))();}else{result=text;}}catch(e){//
}return result;};
// EXTERNAL MODULE: ../icode-component/packages/utils/es/utils.js
var utils = __webpack_require__(98160);
;// CONCATENATED MODULE: ../icode-component/packages/utils/es/index.js
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}function es_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){es_typeof=function _typeof(obj){return typeof obj;};}else{es_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return es_typeof(obj);}// export const parseDateRange = (value, format = 'YYYY-MM-DD HH:mm:ss') => {
//   const newValues = [];
//   if(value && typeof value === 'object' && value.length) {
//     value.forEach(valueItem => {
//       newValues.push(getDateFormartValue(valueItem, format));
//     })
//   }
//   else if(value && (typeof value === 'string' || typeof value === 'number')){
//     newValues.push(getDateFormartValue(value, 'YYYY-MM-DD 00:00:00'));
//     newValues.push(getDateFormartValue(value, 'YYYY-MM-DD 23:59:59'));
//   }
//   return newValues;
// };
// 格式化顺序
var formatSort=['count','date','toFixed','separator','encryption','alias','group'];/**
 * 计算字符串维度
 * @param {*} dimensionKey
 * @param {*} data
 * rollup index.js --format cjs --file ./cjs/index.js
 * @returns
 */var _getStringDimensionItem=function _getStringDimensionItem(value,hadDimensions){if(!hadDimensions[value]){hadDimensions[value]=true;return{label:value,value:value};}};var getStringDimension=function getStringDimension(dimensionKey,data){var dimensions=[];var hadDimensions={};data.forEach(function(item){var itemValue=_getStringDimensionItem(item[dimensionKey],hadDimensions);if(itemValue){dimensions.push(itemValue);}});return{data:dimensions,parseValue:null};};/**
 * 计算数字维度-范围
 * @param {*} dimensionKey 维度字段
 * @param {*} data 数据
 * @returns
 */var _getNumberRangeDimension=function _getNumberRangeDimension(dimensionKey,data){var dimensions=[];var min=10000000000000;var max=0;data.forEach(function(item){if(item[dimensionKey]){if(item[dimensionKey]<min){min=item[dimensionKey];}if(item[dimensionKey]>max){max=item[dimensionKey];}}});var count=parseInt((max-min)/2,10);dimensions.push({label:"".concat(min," - ").concat(min+count),value:{min:min,max:min+count}});dimensions.push({label:"".concat(min+count," - ").concat(max),value:{min:min+count,max:max}});return{data:dimensions,parseValue:null};};var getNumberRangeDimension=(/* unused pure expression or super */ null && (_getNumberRangeDimension));/**
 * 计算日期维度
 * @param {*} dimensionKey 维度字段
 * @param {*} data  数据
 * @param {*} dateType 日期类型： 年、季、月、周、日
 * @returns
 */ // const _getDateDimension = (value, dateType, hadDimensions) => {
//   let dimensionItemValue;
//   if(dateType === '年') {
//     dimensionItemValue = moment(value).format('YYYY');
//   }
//   else if(dateType === '月') {
//     dimensionItemValue = moment(value).format('YYYY-MM');
//   }
//   else if(dateType === '日') {
//     dimensionItemValue = moment(value).format('YYYY-MM-DD');
//   }
//   if(dateType === '季') {
//     dimensionItemValue = `${moment(value).format('YYYY')} Q${moment(value).format('Q')}`;
//   }
//   if(!hadDimensions[dimensionItemValue]) {
//     hadDimensions[dimensionItemValue] = true;
//     return {
//       label: dimensionItemValue,
//       value: dimensionItemValue
//     }
//   }
// }
var getDateDimension=function getDateDimension(dimensionKey,data,dateType){var dimensions=[];var hadDimensions={};var years=[];var months=[];var days=[];var type;data.forEach(function(item){if(item[dimensionKey]){var year=moment(item[dimensionKey]).format('YYYY');var day=moment(item[dimensionKey]).format('YYYY-MM-DD');var month=moment(item[dimensionKey]).format('YYYY-MM');if(!hadDimensions[year]){years.push({label:year,value:year});hadDimensions[year]=true;}if(!hadDimensions[month]){months.push({label:month,value:month});hadDimensions[month]=true;}if(!hadDimensions[day]){days.push({label:day,value:day});hadDimensions[day]=true;}}});if(years.length>5){dimensions=years;type='年';}else if(months.length>5){dimensions=months;type='月';}else{dimensions=days;type='日';}return{data:dimensions,dateType:type};};// const mathFn = {
//   'string': getStringDimension,
//   'number': getStringDimension,
//   'numberRange': getNumberRangeDimension,
//   'date': getDateDimension
// }
// export const parseDimensionAndData = (
//   { autoDimensions, structureKeyName, dimensions = [], dateType, structureType },
//   { measureKey, collectType, tofixed = 2, math = '' },
//   data = [],
// ) => {
//   let newData = [];
//   let dimensionValueObj = {},
//     key;
//   let dimensionValueCount = {};
//   let dimensionDiffValueCount = {};
//   let dimension = [];
//   const hadValue = {};
//   const newDimensionData = autoDimensions ? [] : dimensions;
//   const hadDimensionData = {};
//   let integer = 1000000;
//   data.forEach(item => {
//     if (item[structureKeyName] && (item[measureKey] || item[measureKey] === 0)) {
//       let dimensionValue = item[structureKeyName];
//       // 当"自动计算维度"为true时，遍利数据中的维度值，计数维度数据
//       if (autoDimensions) {
//         let dimensionItem;
//         if (structureType === 'date') {
//           dimensionItem = _getDateDimension(dimensionValue, dateType, hadDimensionData);
//         } else {
//           dimensionItem = _getStringDimensionItem(dimensionValue, hadDimensionData);
//         }
//         if (dimensionItem) {
//           newDimensionData.push(dimensionItem);
//           dimensionValue = dimensionItem.value;
//         }
//       }
//       // 通过维度统计度量的总和、计数、计数(不同)
//       dimensionValueObj[dimensionValue] =
//         (dimensionValueObj[dimensionValue] || 0) + (Number(item[measureKey]) * integer || 0);
//       if (item[measureKey] || item[measureKey] === 0) {
//         dimensionValueCount[dimensionValue] = (dimensionValueCount[dimensionValue] || 0) + 1;
//         if (!hadValue[`${dimensionValue}_${item[measureKey]}`]) {
//           dimensionDiffValueCount[dimensionValue] =
//             (dimensionDiffValueCount[dimensionValue] || 0) + 1;
//           hadValue[`${dimensionValue}_${item[measureKey]}`] = true;
//         }
//       }
//     }
//   });
//   // 求统计度量的平均
//   if (collectType === '平均值') {
//     for (key in dimensionValueObj) {
//       dimensionValueObj[key] = dimensionValueObj[key] / dimensionValueCount[key];
//     }
//   }
//   newDimensionData.map(item => {
//     dimension.push(item.label);
//     if (collectType === '计数') {
//       newData.push(dimensionValueCount[item.value]);
//     } else if (collectType === '计数(不同)') {
//       newData.push(dimensionDiffValueCount[item.value]);
//     } else if (dimensionValueObj[item.value] || dimensionValueObj[item.value] === 0) {
//       let resultValue = dimensionValueObj[item.value] / integer;
//       if (math) {
//         let newMath = math;
//         newMath = newMath.replace(/\[[A-Za-z0-9_]+\]/g, function(string) {
//           return resultValue;
//         });
//         try {
//           resultValue = new Function(`return ${newMath}`)();
//         } catch (e) {
//           //
//         }
//       }
//       newData.push(resultValue.toFixed(tofixed));
//     }
//   });
//   return {
//     data: newData || [],
//     dimension,
//   };
// };
// 获取默认值的值
var getDefaultValue=function getDefaultValue(ruleType,ruleValue){var value='';if(ruleType==='dynamic'){dynamicOptions/* default.forEach */.Z.forEach(function(item){if(ruleValue===item.value){value=item.getValue();}});}return value;};// 获取请求参数的值
var getParamDefaultValue=function getParamDefaultValue(){var defaultValueConfig=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var ruleType=defaultValueConfig.ruleType;var ruleValue=defaultValueConfig.ruleValue;var newValue=(0,utils/* isValue */.w)(ruleValue)?ruleValue:'';if(ruleType&&(0,utils/* isValue */.w)(ruleValue)){if(ruleType==="static"){newValue=ruleValue;}else if(ruleType==="cookie"){newValue=getDefaultValue("cookie",ruleValue);}else if(ruleType==="global"){newValue=getDefaultValue("global",ruleValue);}else if(ruleType==="dynamic"){newValue=getDefaultValue("dynamic",ruleValue);}else if(ruleType==="api"||ruleType==="event"){newValue=ruleValue;}}return newValue;};// 获取值的格式化的值
var dateFormatOptionsObj={};dateFormatOptions/* default.forEach */.Z.forEach(function(item){dateFormatOptionsObj[item.value]=item.getValue;});var _getValueFormat=function _getValueFormat(value,ruleType,ruleValue,keyName,data){var newValue=value;if(ruleType==='count'&&ruleValue&&ruleValue.length){newValue=parseLogic(keyName,ruleValue,newValue,data,true);}if(ruleType==='date'&&ruleValue&&newValue){var formatFn=dateFormatOptionsObj[ruleValue];if(es_typeof(newValue)==='object'&&newValue.length){var newValues=[];newValue.forEach(function(valueItem){if(formatFn&&typeof formatFn==='function'){newValues.push(formatFn(valueItem));}else{newValues.push((0,dateFormatOptions/* getDateFormartValue */.T)(valueItem,ruleValue));}});newValue=newValues;}else{if(formatFn&&typeof formatFn==='function'){newValue=formatFn(newValue);}else{newValue=(0,dateFormatOptions/* getDateFormartValue */.T)(newValue,ruleValue);}}}if(ruleType==='toFixed'&&ruleValue&&ruleValue.count&&(0,utils/* isValue */.w)(Number(newValue))){newValue=parseNumber(newValue,ruleValue,false);}if(ruleType==='separator'&&ruleValue&&Number(newValue)){newValue=parseNumber(newValue,null,true);}if(ruleType==='encryption'&&ruleValue&&Object.keys(ruleValue).length&&newValue){var start=parseInt(ruleValue.start,10);var end=parseInt(ruleValue.end,10);var backward=parseInt(ruleValue.backward,10);newValue=newValue+'';if((start||start===0)&&backward){end=newValue.length-1-backward;newValue=newValue.split('').map(function(item,index){if(index>=start&&index<=end){return'*';}return item;});newValue=newValue.join('');}else if(start||start===0){end=end||newValue.length;end=end-1;start=start<end?start:end;end=start<end?end:start;newValue=newValue.split('').map(function(item,index){if(index>=start&&index<=end){return'*';}return item;});newValue=newValue.join('');}}if(ruleType==='alias'&&ruleValue&&ruleValue.length){ruleValue.forEach(function(item){if(item.value===newValue.toString()){newValue=item.label||'';}});}if(ruleType==='group'&&ruleValue&&newValue&&ruleValue.length){newValue=parseLogic(keyName,ruleValue,newValue,data);}// if(ruleType === 'logic' && ruleValue && newValue) {
//   newValue = parseLogic(keyName, ruleValue, newValue, data);
// }
return newValue;};var getValueFormat=_getValueFormat;/**
 * 对接口返回数据进行：数据格式化、汇总
 * @param {*} data 接口返回数据
 * @param {*} configs relations中当前模块对返回数据的配置
 * @param {*} dimensionKeyName 围度
 * @param {*} measureConfig 度量配置
 * @returns 
 */var parseApiData=function parseApiData(data){var configs=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var dimensionKeyName=arguments.length>2?arguments[2]:undefined;var measureConfig=arguments.length>3&&arguments[3]!==undefined?arguments[3]:[];var newData;if(!data){return[];}else if(Object.prototype.toString.call(data)==='[object Object]'){newData=JSON.parse(JSON.stringify([data]||0));}else if(Object.prototype.toString.call(data)==='[object Array]'){newData=JSON.parse(JSON.stringify(data||[]));}else{return[];}var sumData={},coefficient=10000,countDifferent={};var isParseSumData=false,sumKey,sumSubKey;var measureKeyNames=[],staticSumTypeObj={};if(dimensionKeyName&&measureConfig&&measureConfig.length){isParseSumData=true;measureKeyNames=measureConfig.map(function(items){var sumType='total';if(items.structureType!=='number'){sumType='count';}staticSumTypeObj[items.keyName]=sumType;return items.keyName;});}newData=(newData||[]).map(function(items){if(items[dimensionKeyName]&&configs&&configs[dimensionKeyName]&&configs[dimensionKeyName].formatConfig&&configs[dimensionKeyName].formatConfig.date){items[dimensionKeyName]=_getValueFormat(items[dimensionKeyName],'date',configs[dimensionKeyName].formatConfig.date);}return items;});newData=(newData||[]).map(function(items){if(es_typeof(items)==='object'){for(var key in items){// 汇总统计
if(dimensionKeyName&&items[dimensionKeyName]&&measureKeyNames.indexOf(key)>=0){var sumType=configs[key]&&configs[key].sumType||staticSumTypeObj[key];sumData[items[dimensionKeyName]]=sumData[items[dimensionKeyName]]||{};var _value=sumData[items[dimensionKeyName]][key]||{};var countDifferentArray=_value.countDifferentArray||[];if(countDifferentArray.indexOf(items[key])<0){countDifferentArray.push(items[key]);}var total=(_value.total||0)+Number(items[key]);var count=(_value.count||0)+1;sumData[items[dimensionKeyName]][key]={total:total,average:total/count,count:count,countDifferent:countDifferentArray.length,countDifferentArray:countDifferentArray,sumType:sumType};}}}return items;});if(isParseSumData){newData=[];for(sumKey in sumData){var items={};items[dimensionKeyName]=sumKey;for(sumSubKey in sumData[sumKey]){var sumSubValue=sumData[sumKey][sumSubKey];items[sumSubKey]=sumSubValue[sumSubValue.sumType];}newData.push(items);}}(newData||[]).map(function(items){if(es_typeof(items)==='object'){var key,ruleType;for(key in items){if(configs[key]&&configs[key].formatConfig){for(ruleType in configs[key].formatConfig){var ruleValue=configs[key].formatConfig[ruleType];if(ruleValue&&ruleType!=='date'){items[key]=_getValueFormat(items[key],ruleType,ruleValue,key,items);}}}}}return items;});return newData;};/**
 * 获取属性Text的content
 * @param data: 数据
 * @param config: 数据配置信息(为type=text的propsOptions中的value值)
 * @param content: 文字内容(为type=text的propsOptions中的extendValues.content值)
 */var getTextContent=function getTextContent(){var data=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var config=arguments.length>1?arguments[1]:undefined;var content=arguments.length>2?arguments[2]:undefined;var newData=data[0]||{};var newContent='';config.forEach(function(keyName,index){var value=newData[keyName]||'';newContent=content.replaceAll("[".concat(index,"]"),value);});return newContent;};/**
 * randomValues 更新静态数据所用的变更值所对应的方法
 * refreshStaticData 更新静态数据菡数
 * data 静态数据
 * config 更新策略,如,[{keyName: '字段名称', type: 'random+1'}]
 */var randomValues={'random+1':function random1(value){var count=parseInt(Math.random()*10,10)||1;return(value*10000+count*10000)/10000;},'random+2':function random2(value){var count=parseInt(Math.random()*100,10)||10;return(value*10000+count*10000)/10000;},'random+3':function random3(value){var count=parseInt(Math.random()*1000,10)||1000;return(value*10000+count*10000)/10000;},'random-1':function random1(value){var count=parseInt(Math.random()*10,10)||1;return(value*10000-count*10000)/10000;},'random-2':function random2(value){var count=parseInt(Math.random()*100,10)||10;return(value*10000-count*10000)/10000;},'random-3':function random3(value){var count=parseInt(Math.random()*1000,10)||1000;return(value*10000-count*10000)/10000;},'random':function random(){var count=parseInt(Math.random()*10,10);return count%2?(value*10000+count*10000)/10000:(value*10000-count*10000)/10000;}};var refreshStaticData=function refreshStaticData(){var data=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var config=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var newData=JSON.parse(JSON.stringify(data));newData.forEach(function(dataItem,index){config.forEach(function(configItem){if(dataItem[configItem.keyName]&&parseFloat(dataItem[configItem.keyName])){newData[index][configItem.keyName]=randomValues[configItem.type](dataItem[configItem.keyName]);}});});return newData;};/**
 * 根据参数的格式化配置数据，返回格式化后的参数
 * @param {*} formatConfig 格式化配置数据
 * @param {*} params 参数
 * @returns 返回格式化后的参数
 */var parseApiParam=function parseApiParam(params,formatConfig){var newParams=_extends({},params);var keyName;var _loop=function _loop(){var currFormatConfig=formatConfig[keyName]||{};formatSort.forEach(function(formatRuleType){var formatRuleValue=currFormatConfig[formatRuleType];if(formatRuleValue){newParams[keyName]=_getValueFormat(newParams[keyName],formatRuleType,formatRuleValue,keyName,params);}});};for(keyName in formatConfig){_loop();}return newParams;};

/***/ }),

/***/ 98160:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "w": () => (/* binding */ isValue)
/* harmony export */ });
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}/**
 * 判断是否有值
 * @param {*} value 
 * @returns 
 */var isValue=function isValue(value){var isHadValue=false;if(_typeof(value)==='object'&&value&&value.length&&isValue(value[0])){isHadValue=true;}else if(_typeof(value)==='object'&&value&&Object.keys(value).length){isHadValue=true;}else if(_typeof(value)!=='object'&&(value||value===0)){isHadValue=true;}else if(typeof value==='boolean'&&value){isHadValue=true;}return isHadValue;};

/***/ }),

/***/ 74242:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var antd_es_modal_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(84389);
/* harmony import */ var antd_es_modal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(88217);
/* harmony import */ var antd_es_button_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(85793);
/* harmony import */ var antd_es_button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(31481);
/* harmony import */ var antd_es_input_style__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(60418);
/* harmony import */ var antd_es_input__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(40704);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(93121);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(77966);
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}/**
 * DimensionEdit
 * @author tianyanrong
 * @date 2021/6/18 下午2:47:00
 */var DimensionEdit=/*#__PURE__*/function(_Component){_inherits(DimensionEdit,_Component);var _super=_createSuper(DimensionEdit);function DimensionEdit(){var _this;_classCallCheck(this,DimensionEdit);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={active:''};_this.handleOk=function(){var onOk=_this.props.onOk;var data=_this.state.data;onOk(data);};_this.handleCancel=function(){var onCancel=_this.props.onCancel;onCancel();};_this.pushHandleOk=function(){var isModal=_this.props.isModal;if(isModal===false){_this.handleOk();}};_this.addOptions=function(){var _this$state=_this.state,active=_this$state.active,data=_this$state.data;var newData=[].concat(data);var isCanAdd=true;newData.forEach(function(item){if(!item.value||!item.label){isCanAdd=false;}});if(!isCanAdd){return;}newData.push({label:'',value:'',isNew:true});_this.setState({active:'',data:newData,currValue:''});};_this.removeOptions=function(){var _this$state2=_this.state,active=_this$state2.active,data=_this$state2.data;var newData=_extends([],data);var currentIndex;data.forEach(function(item,index){if(item.value===active){currentIndex=index;}});newData.splice(currentIndex,1);_this.setState({active:null,data:newData,currValue:''},function(){_this.pushHandleOk();});};_this.updateIndexOptions=function(){var _this$state3=_this.state,active=_this$state3.active,_this$state3$data=_this$state3.data,data=_this$state3$data===void 0?[]:_this$state3$data;var newData=_extends([],data);var currentIndex,currentItem;data.forEach(function(item,index){if(item.value===active){currentIndex=index;currentItem=item;}});newData.splice(currentIndex,1);newData.splice(currentIndex-1,0,currentItem);_this.setState({data:newData},function(){_this.pushHandleOk();});};_this.updateOptions=function(value,key){var _this$state4=_this.state,active=_this$state4.active,data=_this$state4.data;var newData=[];var activeState=key==='value'?{active:value}:{};var dataKeysObj={};data.forEach(function(item,index){dataKeysObj[item.value]=true;if(item.value===active){newData.push(_objectSpread(_objectSpread({},item),{},_defineProperty({},key,value)));}else{newData.push(item);}});if(key==='value'&&dataKeysObj[value]){return;}_this.setState(_objectSpread({data:newData},activeState),function(){_this.pushHandleOk();});};_this.getContent=function(){var _this$state5=_this.state,active=_this$state5.active,data=_this$state5.data;var _this$props=_this.props,titles=_this$props.titles,isOnlyRead=_this$props.isOnlyRead,autoHeight=_this$props.autoHeight;return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement((react__WEBPACK_IMPORTED_MODULE_3___default().Fragment),null,/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement("div",{className:"".concat(_index_module_less__WEBPACK_IMPORTED_MODULE_4__/* ["default"].tableBox */ .Z.tableBox," ").concat(autoHeight?_index_module_less__WEBPACK_IMPORTED_MODULE_4__/* ["default"].autoHeight */ .Z.autoHeight:'')},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement("ul",null,/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement("li",{className:_index_module_less__WEBPACK_IMPORTED_MODULE_4__/* ["default"].name */ .Z.name},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement("p",null,titles&&titles[0]||'成员'),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement("p",null,titles&&titles[1]||'(转化成)显示别名')),data&&data.map(function(item,index){return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement("li",{key:index,className:active===item.value?_index_module_less__WEBPACK_IMPORTED_MODULE_4__/* ["default"].checkedLi */ .Z.checkedLi:'',onClick:function onClick(){_this.setState({active:item.value,currValue:item.value});}},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement("p",null,!isOnlyRead&&active===item.value?/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(antd_es_input__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z,{size:"small",value:_this.state.currValue||'',onBlur:function onBlur(event){_this.updateOptions(event.target.value,'value');},onChange:function onChange(event){_this.setState({currValue:event.target.value});}}):item.value),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement("p",null,active===item.value?/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(antd_es_input__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z,{size:"small",value:item.label,onChange:function onChange(event){_this.updateOptions(event.target.value,'label');}}):item.label));}))),isOnlyRead?null:/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement("div",{className:_index_module_less__WEBPACK_IMPORTED_MODULE_4__/* ["default"].buttons */ .Z.buttons},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement("div",null,/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(antd_es_button__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z,{size:"small",onClick:function onClick(){_this.addOptions();}},"\u6DFB\u52A0"),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(antd_es_button__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z,{size:"small",onClick:function onClick(){_this.removeOptions();}},"\u5220\u9664"),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(antd_es_button__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z,{size:"small",onClick:function onClick(){_this.updateIndexOptions();}},"\u4E0A\u79FB"))));};return _this;}_createClass(DimensionEdit,[{key:"componentDidMount",value:function componentDidMount(){}},{key:"render",value:function render(){var _this$props2=this.props,title=_this$props2.title,isModal=_this$props2.isModal;var visible=this.state.visible;return isModal==false?this.getContent():/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(antd_es_modal__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z,{title:title||'编辑',visible:visible,cancelText:'取消',okText:'保存',onOk:this.handleOk,onCancel:this.handleCancel},this.getContent());}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,prevState){var dataString=JSON.stringify(nextProps.data||[]);if(dataString!==prevState.propsDataString){return{visible:nextProps.visible||false,data:nextProps.data,propsDataString:dataString};}return{visible:nextProps.visible||false};}}]);return DimensionEdit;}(react__WEBPACK_IMPORTED_MODULE_3__.Component);/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DimensionEdit);

/***/ }),

/***/ 48482:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "Z": () => (/* binding */ components_MenuDrop)
});

// EXTERNAL MODULE: consume shared module (default) react@^16.14.0 (singleton) (fallback: ../my-cli/node_modules/react/index.js)
var index_js_ = __webpack_require__(93121);
var index_js_default = /*#__PURE__*/__webpack_require__.n(index_js_);
;// CONCATENATED MODULE: ../my-designer/src/components/MenuDrop/index.module.less
// extracted by mini-css-extract-plugin
/* harmony default export */ const index_module = ({"menuDropBox":"_-my-designer-src-components-MenuDrop-index-module__menuDropBox","line":"_-my-designer-src-components-MenuDrop-index-module__line","childrenBox":"_-my-designer-src-components-MenuDrop-index-module__childrenBox","liDisabled":"_-my-designer-src-components-MenuDrop-index-module__liDisabled","noChecked":"_-my-designer-src-components-MenuDrop-index-module__noChecked"});
// EXTERNAL MODULE: ../my-cli/node_modules/@ant-design/icons/es/icons/CheckOutlined.js + 1 modules
var CheckOutlined = __webpack_require__(31451);
// EXTERNAL MODULE: consume shared module (default) react-dom@^16.14.0 (singleton) (fallback: ../my-cli/node_modules/react-dom/index.js)
var react_dom_index_js_ = __webpack_require__(17281);
var react_dom_index_js_default = /*#__PURE__*/__webpack_require__.n(react_dom_index_js_);
// EXTERNAL MODULE: ../my-designer/node_modules/@icode-run/icon-font/src/index.jsx
var src = __webpack_require__(7277);
;// CONCATENATED MODULE: ../my-designer/src/components/MenuDrop/index.jsx
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}/**
 * MenuDrop
 * @author tianyanrong
 * @date 2021/6/16 上午10:29:41
 */var MenuDropBox=/*#__PURE__*/function(_Component){_inherits(MenuDropBox,_Component);var _super=_createSuper(MenuDropBox);function MenuDropBox(){var _this;_classCallCheck(this,MenuDropBox);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.buildUl=function(data){return/*#__PURE__*/index_js_default().createElement("ul",null,data.map(function(item,index){if(!item){return null;}if(item.type==='line'){return/*#__PURE__*/index_js_default().createElement("li",{key:index,className:index_module.line});}else if(item.children&&item.children.length){return/*#__PURE__*/index_js_default().createElement("li",{key:index,className:index_module.childrenBox},/*#__PURE__*/index_js_default().createElement("div",null,item.label),_this.buildUl(item.children));}else{var isDisabled=item.isDisabled&&typeof item.isDisabled==='function'?item.isDisabled():item.isDisabled;return/*#__PURE__*/index_js_default().createElement("li",{className:isDisabled?index_module.liDisabled:'',key:index,varlue:item.value,onClick:isDisabled?function(){return null;}:item.callback},item.isUnabeChecked?null:/*#__PURE__*/index_js_default().createElement((index_js_default()).Fragment,null,item.isChecked?/*#__PURE__*/index_js_default().createElement("span",null,/*#__PURE__*/index_js_default().createElement(CheckOutlined/* default */.Z,null)):/*#__PURE__*/index_js_default().createElement("span",null)),item.label);}}));};return _this;}_createClass(MenuDropBox,[{key:"render",value:function render(){var _this$props=this.props,_this$props$menus=_this$props.menus,menus=_this$props$menus===void 0?[]:_this$props$menus,desibledChecked=_this$props.desibledChecked,className=_this$props.className;return/*#__PURE__*/index_js_default().createElement("div",{className:"".concat(index_module.menuDropBox," ").concat(desibledChecked?index_module.noChecked:''," ").concat(className||''),style:this.props.style},this.buildUl(menus));}}]);return MenuDropBox;}(index_js_.Component);var MenuDrop=/*#__PURE__*/function(_Component2){_inherits(MenuDrop,_Component2);var _super2=_createSuper(MenuDrop);function MenuDrop(){var _this2;_classCallCheck(this,MenuDrop);for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}_this2=_super2.call.apply(_super2,[this].concat(args));_this2.state={};_this2.container=null;_this2.showEventTimeValue=null;_this2.show=function(event){_this2.container.isShowEvent=true;var showDropCallback=_this2.props.showDropCallback;var menusLength=0;_this2.props.menus.forEach(function(menu){if(menu.type!=='line'){menusLength++;}});react_dom_index_js_default().render(/*#__PURE__*/index_js_default().createElement(MenuDropBox,{menus:_this2.props.menus,desibledChecked:_this2.props.desibledChecked,style:_this2.props.style,className:_this2.props.className}),_this2.container);var isBottom=document.body.clientHeight<event.pageY+28*menusLength;_this2.container.style.position='absolute';if(isBottom){_this2.container.style.top=event.pageY-28*menusLength+'px';}else{_this2.container.style.top=event.pageY+'px';}_this2.container.style.left=event.pageX+'px';_this2.container.style.display='';if(showDropCallback&&typeof showDropCallback==='function'){showDropCallback(event);}_this2.showEventTimeValue=setTimeout(function(){_this2.container.isShowEvent=false;clearTimeout(_this2.showEventTimeValue);_this2.showEventTimeValue=null;},200);};return _this2;}_createClass(MenuDrop,[{key:"componentDidMount",value:function componentDidMount(){var _this3=this;var container=document.getElementById('designer-menu-drop');if(!container){this.container=document.createElement('div');this.container.id='designer-menu-drop';document.body.appendChild(this.container);document.addEventListener('click',function(event){if(_this3.container.isShowEvent){return;}if(_this3.container&&!_this3.container.display){_this3.container.style.display='none';}});}else{this.container=container;}}},{key:"render",value:function render(){var _this4=this;var _this$props2=this.props,bindContextmenu=_this$props2.bindContextmenu,children=_this$props2.children;return bindContextmenu?/*#__PURE__*/index_js_default().createElement("div",{onContextMenu:function onContextMenu(event){event.preventDefault();event.stopPropagation();_this4.show(event);return false;}},children):/*#__PURE__*/index_js_default().createElement(src/* default */.Z,{type:"iconmore",onClick:function onClick(event){event.preventDefault();event.stopPropagation();_this4.show(event);}});}}]);return MenuDrop;}(index_js_.Component);/* harmony default export */ const components_MenuDrop = (MenuDrop);

/***/ }),

/***/ 61382:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "Z": () => (/* binding */ components_ParamEditModal)
});

// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/modal/style/index.js + 1 modules
var style = __webpack_require__(84389);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/modal/index.js + 16 modules
var modal = __webpack_require__(88217);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/space/style/index.js + 1 modules
var space_style = __webpack_require__(2544);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/space/index.js + 1 modules
var space = __webpack_require__(55700);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/tooltip/style/index.js + 1 modules
var tooltip_style = __webpack_require__(90921);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/tooltip/index.js + 3 modules
var tooltip = __webpack_require__(16606);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/checkbox/style/index.js + 1 modules
var checkbox_style = __webpack_require__(75529);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/checkbox/index.js + 2 modules
var es_checkbox = __webpack_require__(20149);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/radio/style/index.js + 1 modules
var radio_style = __webpack_require__(9651);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/radio/index.js + 5 modules
var es_radio = __webpack_require__(54770);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/input-number/style/index.js + 1 modules
var input_number_style = __webpack_require__(75271);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/input-number/index.js + 19 modules
var input_number = __webpack_require__(67494);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/auto-complete/style/index.js + 1 modules
var auto_complete_style = __webpack_require__(31064);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/auto-complete/index.js
var auto_complete = __webpack_require__(46399);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/cascader/style/index.js + 1 modules
var cascader_style = __webpack_require__(65940);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/cascader/index.js + 17 modules
var cascader = __webpack_require__(67238);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/input/style/index.js + 1 modules
var input_style = __webpack_require__(60418);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/input/index.js + 29 modules
var input = __webpack_require__(40704);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/message/style/index.js + 1 modules
var message_style = __webpack_require__(35735);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/message/index.js + 3 modules
var message = __webpack_require__(96213);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/select/style/index.js + 1 modules
var select_style = __webpack_require__(94289);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/select/index.js
var es_select = __webpack_require__(4213);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/date-picker/style/index.js + 1 modules
var date_picker_style = __webpack_require__(22464);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/date-picker/index.js + 57 modules
var date_picker = __webpack_require__(44887);
// EXTERNAL MODULE: consume shared module (default) react@^16.14.0 (singleton) (fallback: ../my-cli/node_modules/react/index.js)
var index_js_ = __webpack_require__(93121);
var index_js_default = /*#__PURE__*/__webpack_require__.n(index_js_);
;// CONCATENATED MODULE: ../my-designer/src/components/ParamEditModal/index.module.less
// extracted by mini-css-extract-plugin
/* harmony default export */ const index_module = ({"box":"_-my-designer-src-components-ParamEditModal-index-module__box","inputSm":"_-my-designer-src-components-ParamEditModal-index-module__inputSm","valueBox":"_-my-designer-src-components-ParamEditModal-index-module__valueBox","valueBoxActive":"_-my-designer-src-components-ParamEditModal-index-module__valueBoxActive","containerRow":"_-my-designer-src-components-ParamEditModal-index-module__containerRow","containerBox":"_-my-designer-src-components-ParamEditModal-index-module__containerBox","containerBoxTitle":"_-my-designer-src-components-ParamEditModal-index-module__containerBoxTitle","containerBoxBody":"_-my-designer-src-components-ParamEditModal-index-module__containerBoxBody","defaultValueContainer":"_-my-designer-src-components-ParamEditModal-index-module__defaultValueContainer","span":"_-my-designer-src-components-ParamEditModal-index-module__span","enumValueContainer":"_-my-designer-src-components-ParamEditModal-index-module__enumValueContainer","dimensionEdit":"_-my-designer-src-components-ParamEditModal-index-module__dimensionEdit","inputBox":"_-my-designer-src-components-ParamEditModal-index-module__inputBox","noDropSown":"_-my-designer-src-components-ParamEditModal-index-module__noDropSown","orderCascader":"_-my-designer-src-components-ParamEditModal-index-module__orderCascader","required":"_-my-designer-src-components-ParamEditModal-index-module__required"});
// EXTERNAL MODULE: ../my-cli/node_modules/moment/moment.js
var moment = __webpack_require__(18231);
var moment_default = /*#__PURE__*/__webpack_require__.n(moment);
// EXTERNAL MODULE: ../my-cli/node_modules/@ant-design/icons/es/icons/QuestionCircleOutlined.js + 1 modules
var QuestionCircleOutlined = __webpack_require__(45157);
// EXTERNAL MODULE: ../my-cli/node_modules/@ant-design/icons/es/icons/FilterOutlined.js + 1 modules
var FilterOutlined = __webpack_require__(82596);
// EXTERNAL MODULE: ../my-cli/node_modules/@ant-design/icons/es/icons/SmileOutlined.js + 1 modules
var SmileOutlined = __webpack_require__(11113);
// EXTERNAL MODULE: ../icode-component/packages/utils/es/globalOptions.js
var globalOptions = __webpack_require__(4769);
// EXTERNAL MODULE: ../icode-component/packages/utils/es/dynamicOptions.js
var dynamicOptions = __webpack_require__(40880);
// EXTERNAL MODULE: ../icode-component/packages/utils/es/dateFormatOptions.js
var dateFormatOptions = __webpack_require__(97652);
// EXTERNAL MODULE: ../icode-component/packages/utils/es/dataType.js
var es_dataType = __webpack_require__(52068);
// EXTERNAL MODULE: ../my-designer/src/components/DimensionEdit/index.jsx
var DimensionEdit = __webpack_require__(74242);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/tag/style/index.js + 1 modules
var tag_style = __webpack_require__(18431);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/tag/index.js + 1 modules
var tag = __webpack_require__(55207);
;// CONCATENATED MODULE: ../my-designer/src/components/ParamEditModal/InputDropDown/index.module.less
// extracted by mini-css-extract-plugin
/* harmony default export */ const InputDropDown_index_module = ({"box":"_-my-designer-src-components-ParamEditModal-InputDropDown-index-module__box","dropDown":"_-my-designer-src-components-ParamEditModal-InputDropDown-index-module__dropDown","icon":"_-my-designer-src-components-ParamEditModal-InputDropDown-index-module__icon","dropDownShow":"_-my-designer-src-components-ParamEditModal-InputDropDown-index-module__dropDownShow","popupClassName":"_-my-designer-src-components-ParamEditModal-InputDropDown-index-module__popupClassName"});
;// CONCATENATED MODULE: ../my-designer/src/components/ParamEditModal/InputDropDown/index.js
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}var ParamEditModal=/*#__PURE__*/function(_Component){_inherits(ParamEditModal,_Component);var _super=_createSuper(ParamEditModal);function ParamEditModal(){var _this;_classCallCheck(this,ParamEditModal);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={};_this.triggerDropDow=function(value){value=value.trim();var lastWord=value.substring(value.length-1,value.length);var counts=['/','%','*','+','-'];if(counts.indexOf(lastWord)>=0){_this.setState({isShoeDropDow:true});}else{_this.setState({isShoeDropDow:false});}};_this.onFocus=function(e){var value=_this.props.value;_this.triggerDropDow(value);};_this.onChange=function(){var value=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var b=arguments.length>1?arguments[1]:undefined;var _this$props=_this.props,onChange=_this$props.onChange,resultType=_this$props.resultType,requiredValue=_this$props.requiredValue;var newValue=value.map(function(valueItem){return valueItem.indexOf('___')>=0?valueItem.split('___')[0]:valueItem;});//this.triggerDropDow(value);
if(onChange&&typeof onChange==='function'){var status=_this.validValue(newValue,resultType,requiredValue);onChange(newValue,status);}};_this.optionsObj={};_this.getOptionsObj=function(options){_this.optionsObj={};options.forEach(function(item){_this.optionsObj[item.value]=true;});};_this.validValue=function(){var value=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var resultType=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'number';var requiredValue=arguments.length>2?arguments[2]:undefined;if(!value.length){return'';}var result,error='',isRequiredValue=requiredValue?false:true;if(resultType==='string'||resultType==='date'){value.forEach(function(item){if(item===requiredValue){isRequiredValue=true;}});return isRequiredValue?'':'必须包括当前操作字段';}var valueString='';value.forEach(function(item,index){if(_this.optionsObj[item]){if(item===requiredValue){isRequiredValue=true;}var preValue=value[index-1]?value[index-1]+'':'';var prevLastword=preValue[preValue.length-1];if(_this.optionsObj[preValue]){prevLastword=2;}prevLastword=prevLastword+'';if(!prevLastword||prevLastword&&!prevLastword.match(/\d+/)){if(resultType==='number'){valueString+=2;}}else{valueString+='aaaaaa';}}else{valueString+=item;}});try{result=new Function("return ".concat(valueString))();var resultNum=Number(result);if(!isRequiredValue){error='必须包括当前操作字段';}if(!(resultType==='number'&&result&&(resultNum||resultNum===0))){error='格式错误';}}catch(e){}return error;};return _this;}_createClass(ParamEditModal,[{key:"render",value:function render(){var _this2=this;var _this$props2=this.props,options=_this$props2.options,value=_this$props2.value,resultType=_this$props2.resultType,tooltipTitle=_this$props2.tooltipTitle,requiredValue=_this$props2.requiredValue;this.getOptionsObj(options);var status=this.validValue(value,resultType,requiredValue)?'error':'';var newValue=[];var newOptions=JSON.parse(JSON.stringify(options));var count=1;value.forEach(function(valueItem){if(_this2.optionsObj[valueItem]){newValue.push(valueItem);}else{valueItem=valueItem?valueItem+'':'';valueItem=valueItem.indexOf('___')>=0?valueItem.split('___')[0]:valueItem;newOptions.push({label:valueItem,value:"".concat(valueItem,"___").concat(count)});newValue.push("".concat(valueItem,"___").concat(count));count++;}});return/*#__PURE__*/index_js_default().createElement("div",{className:"".concat(InputDropDown_index_module.box)},/*#__PURE__*/index_js_default().createElement(es_select/* default */.Z,_extends({mode:"tags"},this.props,{value:newValue||[],style:tooltipTitle?{width:'calc(100% - 20px)'}:{width:'100%'},status:status,popupClassName:InputDropDown_index_module.popupClassName// autoClearSearchValue={false}
,tagRender:function tagRender(props){var label=props.label,value=props.value,closable=props.closable,onClose=props.onClose;var onPreventMouseDown=function onPreventMouseDown(event){event.preventDefault();event.stopPropagation();};return/*#__PURE__*/index_js_default().createElement(tag/* default */.Z,{onMouseDown:onPreventMouseDown,style:!_this2.optionsObj[value]?{padding:0,border:'none',background:'none',margin:'0px 2px 0px 0'}:{margin:'1px 2px 1px 0'}},label);},onChange:this.onChange,options:newOptions})),tooltipTitle?/*#__PURE__*/index_js_default().createElement(tooltip/* default */.Z,{title:tooltipTitle},/*#__PURE__*/index_js_default().createElement(QuestionCircleOutlined/* default */.Z,{style:{color:'#999',marginLeft:'5px'}})):null);}}]);return ParamEditModal;}(index_js_.Component);/* harmony default export */ const InputDropDown = (ParamEditModal);
// EXTERNAL MODULE: ../icode-component/packages/utils/es/index.js + 2 modules
var es = __webpack_require__(94934);
// EXTERNAL MODULE: ../icode-component/packages/utils/es/utils.js
var utils = __webpack_require__(98160);
;// CONCATENATED MODULE: ../my-designer/src/components/ParamEditModal/utils.js
var dateTypes={date:{isRange:false,props:{}},dateTime:{isRange:false,props:{showTime:true}},week:{isRange:false,props:{picker:"week"}},month:{isRange:false,props:{picker:"month"}},quarter:{isRange:false,props:{picker:"quarter"}},year:{isRange:false,props:{picker:"year"}},rangeDate:{isRange:true,props:{},format:function format(date,isStart){var newDate=moment_default()(date);newDate=newDate.format(isStart?'YYYY-MM-DD 00:00:00':'YYYY-MM-DD 23:59:59');return newDate.valueOf();}},rangeDateTime:{isRange:true,props:{showTime:true},format:function format(date,isStart){var newDate=moment_default()(date);newDate=newDate.format(isStart?'YYYY-MM-DD HH:mm:ss':'YYYY-MM-DD HH:mm:ss');return newDate.valueOf();}},rangeWeek:{isRange:true,props:{picker:"week"},format:function format(date,isStart){var newDate=moment_default()(date);if(isStart){newDate=newDate.set('date',newDate.date()-3);newDate=newDate.format('YYYY-MM-DD 00:00:00');}else{newDate=newDate.set('date',newDate.date()+3);newDate=newDate.format("YYYY-MM-DD 23:59:59");}return newDate.valueOf();}},rangeMonth:{isRange:true,props:{picker:"month"},format:function format(date,isStart){var newDate=moment_default()(date);if(isStart){newDate=newDate.format('YYYY-MM-01 00:00:00');}else{newDate=newDate.format("YYYY-MM-".concat(newDate.daysInMonth()," 23:59:59"));}return newDate.valueOf();}},rangeQuarter:{isRange:true,props:{picker:"quarter"},format:function format(date,isStart){var newDate=moment_default()(date);if(isStart){newDate=newDate.format('YYYY-MM-01 00:00:00');}else{newDate=newDate.set('month',newDate.month()+3);newDate=newDate.format("YYYY-MM-".concat(newDate.daysInMonth()," 23:59:59"));}return newDate.valueOf();}},rangeYear:{isRange:true,props:{picker:"year"},format:function format(date,isStart){var newDate=moment_default()(date);newDate=newDate.format(isStart?'YYYY-01-01 00:00:00':'YYYY-12-31 23:59:59');return newDate.valueOf();}}};var validateRules={required:{type:"boolean",defaultValue:true},type:{type:"select",options:["email","url","string","number","boolean"],defaultValue:"email"},max:{type:"number",defaultValue:20},len:{type:"number",defaultValue:11},min:{type:"number",defaultValue:4},pattern:{type:"RegExp",defaultValue:"/^1(?:3d|4[4-9]|5[0-35-9]|6[67]|7[013-8]|8d|9d)d{8}$/"}};var getValidateConfigObj=function getValidateConfigObj(validateConfig,validateRules){var validateConfigObj={};validateConfig.map(function(item){var key;for(key in item){if(validateRules[key]){validateConfigObj[key]=item;}}});return validateConfigObj;};
// EXTERNAL MODULE: ../icode-component/packages/enum-input/src/index.jsx + 2 modules
var src = __webpack_require__(72005);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/form/style/index.js + 3 modules
var form_style = __webpack_require__(44036);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/form/index.js + 19 modules
var es_form = __webpack_require__(16575);
// EXTERNAL MODULE: ../icode-component/packages/component-layout/utils/Base.jsx
var Base = __webpack_require__(36236);
;// CONCATENATED MODULE: ../icode-component/packages/select/src/index.jsx
function src_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){src_typeof=function _typeof(obj){return typeof obj;};}else{src_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return src_typeof(obj);}function src_extends(){src_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return src_extends.apply(this,arguments);}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function src_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function src_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function src_createClass(Constructor,protoProps,staticProps){if(protoProps)src_defineProperties(Constructor.prototype,protoProps);if(staticProps)src_defineProperties(Constructor,staticProps);return Constructor;}function src_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)src_setPrototypeOf(subClass,superClass);}function src_setPrototypeOf(o,p){src_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return src_setPrototypeOf(o,p);}function src_createSuper(Derived){var hasNativeReflectConstruct=src_isNativeReflectConstruct();return function _createSuperInternal(){var Super=src_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=src_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return src_possibleConstructorReturn(this,result);};}function src_possibleConstructorReturn(self,call){if(call&&(src_typeof(call)==="object"||typeof call==="function")){return call;}return src_assertThisInitialized(self);}function src_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function src_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function src_getPrototypeOf(o){src_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return src_getPrototypeOf(o);}var MySelect=/*#__PURE__*/function(_Base){src_inherits(MySelect,_Base);var _super=src_createSuper(MySelect);function MySelect(){var _this;src_classCallCheck(this,MySelect);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.onChange=function(value){var _this$props=_this.props,_this$props$outputPar=_this$props.outputParam,outputParam=_this$props$outputPar===void 0?{}:_this$props$outputPar,valueSplit=_this$props.valueSplit;if(value&&value.target){return;}if(outputParam.onChange&&typeof outputParam.onChange==='function'){var newValue=value;if(valueSplit){newValue=(0,es_dataType/* getOutputValue */.jG)({outputType:'string',value:newValue,valueSplit:valueSplit});}outputParam.onChange(newValue);}};_this.getValue=function(){var _this$props2=_this.props,_this$props2$outputPa=_this$props2.outputParam,outputParam=_this$props2$outputPa===void 0?{}:_this$props2$outputPa,valueSplit=_this$props2.valueSplit;return (0,es_dataType/* getOutputValue */.jG)({outputType:outputParam.outputType||'string',value:outputParam.value,valueSplit:valueSplit});};_this.renderContent=function(){var _this$props3=_this.props,label=_this$props3.label,_this$props3$classNam=_this$props3.className,className=_this$props3$classNam===void 0?'':_this$props3$classNam,_this$props3$style=_this$props3.style,style=_this$props3$style===void 0?{}:_this$props3$style,events=_this$props3.events,data=_this$props3.data,dimensionConfig=_this$props3.dimensionConfig,allowClear=_this$props3.allowClear,bordered=_this$props3.bordered,disabled=_this$props3.disabled,size=_this$props3.size,placeholder=_this$props3.placeholder,maxTagCount=_this$props3.maxTagCount,maxTagTextLength=_this$props3.maxTagTextLength,placement=_this$props3.placement,showArrow=_this$props3.showArrow,filterOption=_this$props3.filterOption,autoFocus=_this$props3.autoFocus,isTags=_this$props3.isTags,_this$props3$outputPa=_this$props3.outputParam,outputParam=_this$props3$outputPa===void 0?{}:_this$props3$outputPa;var enumOptions=_this.getDimensionsData({data:data,dimensionConfig:dimensionConfig});var modeOptions={};if(outputParam.outputType==='[string]'){modeOptions.mode=isTags?'tags':'multiple';}var currProps=_objectSpread(_objectSpread(_objectSpread({className:!label?className:'',style:!label?style:{},value:_this.getValue(),// ...(isBindPressEnter ? {
//   onPressEnter: this.onChange
// } : {}),
onChange:_this.onChange},events),modeOptions),{},{options:enumOptions,allowClear:allowClear,bordered:bordered,disabled:disabled,size:size,placeholder:placeholder,maxTagCount:maxTagCount,maxTagTextLength:maxTagTextLength,placement:placement,showArrow:showArrow,filterOption:filterOption,autoFocus:autoFocus});return/*#__PURE__*/index_js_default().createElement(es_select/* default */.Z,currProps);};return _this;}src_createClass(MySelect,[{key:"render",value:function render(){var _this$props4=this.props,label=_this$props4.label,_this$props4$classNam=_this$props4.className,className=_this$props4$classNam===void 0?'':_this$props4$classNam,_this$props4$style=_this$props4.style,style=_this$props4$style===void 0?{}:_this$props4$style,_this$props4$outputPa=_this$props4.outputParam,outputParam=_this$props4$outputPa===void 0?{}:_this$props4$outputPa;var content=this.renderContent();return label?/*#__PURE__*/index_js_default().createElement(es_form/* default.Item */.Z.Item,src_extends({className:className,style:style},outputParam.name?{name:outputParam.name}:{},{label:label,initialValue:this.getValue(),onChange:this.onChange,rules:outputParam.rules}),content):content;}}]);return MySelect;}(Base/* default */.Z);;
// EXTERNAL MODULE: ../my-cli/node_modules/import-remote-module/index.js
var import_remote_module = __webpack_require__(89056);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/date-picker/locale/zh_CN.js + 1 modules
var zh_CN = __webpack_require__(33549);
;// CONCATENATED MODULE: ../my-designer/src/components/ParamEditModal/index.js
function ParamEditModal_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){ParamEditModal_typeof=function _typeof(obj){return typeof obj;};}else{ParamEditModal_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return ParamEditModal_typeof(obj);}function ParamEditModal_extends(){ParamEditModal_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return ParamEditModal_extends.apply(this,arguments);}function ParamEditModal_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function ParamEditModal_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ParamEditModal_ownKeys(Object(source),true).forEach(function(key){ParamEditModal_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ParamEditModal_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function ParamEditModal_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key];}}return target;}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key];}return target;}function ParamEditModal_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function ParamEditModal_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function ParamEditModal_createClass(Constructor,protoProps,staticProps){if(protoProps)ParamEditModal_defineProperties(Constructor.prototype,protoProps);if(staticProps)ParamEditModal_defineProperties(Constructor,staticProps);return Constructor;}function ParamEditModal_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)ParamEditModal_setPrototypeOf(subClass,superClass);}function ParamEditModal_setPrototypeOf(o,p){ParamEditModal_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return ParamEditModal_setPrototypeOf(o,p);}function ParamEditModal_createSuper(Derived){var hasNativeReflectConstruct=ParamEditModal_isNativeReflectConstruct();return function _createSuperInternal(){var Super=ParamEditModal_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=ParamEditModal_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return ParamEditModal_possibleConstructorReturn(this,result);};}function ParamEditModal_possibleConstructorReturn(self,call){if(call&&(ParamEditModal_typeof(call)==="object"||typeof call==="function")){return call;}return ParamEditModal_assertThisInitialized(self);}function ParamEditModal_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function ParamEditModal_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function ParamEditModal_getPrototypeOf(o){ParamEditModal_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return ParamEditModal_getPrototypeOf(o);}/**
 * visible // 弹出框显示控制
 * isShowKeySelect // 在参数编辑中，显示当前参数为特殊key值的控制
 * contentType // 弹出框面板类型以字段类型分类：response(返回数据)/request(请求参数)
 * isInDataModelEdit // 弹出框面板类型以接口修改、dataModel编辑分类，在dataModel编辑中时，isInDataModelEdit=true
 * isNewCountKey // 新的计算字段
 * fields        // 计算字段及合并字段用到的:返回数据的字段/请求参数的字段: [{label, value}]
 * orderFields  // 用于排序默认值设置时，列出所有请求参数的字段: [{label, value}]
 * aliasTitles  // 别名编辑框中的头部文字
 * isComponentField // 在组件开发工具中
 * title
 * data         // 编辑时，response(返回数据)/request(请求参数)数据
 * dataModels //api、event默认值设置时
 * relations  //api、event默认值设置时
 * showStaticItem // isComponentField===true时, 并且为输入型组件
 */var RangePicker=date_picker/* default.RangePicker */.Z.RangePicker;var Option=es_select/* default.Option */.Z.Option,OptGroup=es_select/* default.OptGroup */.Z.OptGroup;var ParamEditModal_ParamEditModal=/*#__PURE__*/function(_Component){ParamEditModal_inherits(ParamEditModal,_Component);var _super=ParamEditModal_createSuper(ParamEditModal);function ParamEditModal(){var _this;ParamEditModal_classCallCheck(this,ParamEditModal);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={};_this.errors={};_this.onOk=function(){var _this$props=_this.props,onOk=_this$props.onOk,isInDataModelEdit=_this$props.isInDataModelEdit,contentType=_this$props.contentType;var _this$state=_this.state,visible=_this$state.visible,rest=_objectWithoutProperties(_this$state,["visible"]);var data=ParamEditModal_objectSpread({},rest);var defaultValueConfig=data.defaultValueConfig;if(!(defaultValueConfig&&defaultValueConfig.ruleType&&(0,utils/* isValue */.w)(defaultValueConfig.ruleValue))&&isInDataModelEdit&&contentType==='request'){message/* default.error */.ZP.error("\u8BF7\u5B8C\u5584\"\u67E5\u8BE2\u903B\u8F91\"\u7684\u914D\u7F6E!");return;}if(_this.errors.group||_this.errors.count){message/* default.error */.ZP.error("\u8BF7\u6B63\u786E\u914D\u7F6E:".concat(_this.errors.count?'【计算】'+_this.errors.count:'【拼合】'+_this.errors.group));return;}var newFormatConfig={},key;var formatConfig=data.formatConfig;for(key in formatConfig){var isHadValue=false;if(key==="alias"&&formatConfig[key]&&formatConfig[key].length){isHadValue=true;}else if(key==="toFixed"&&formatConfig[key]&&formatConfig[key].count){isHadValue=true;}else if((key==="date"||key==="separator")&&formatConfig[key]){isHadValue=true;}else if((key==="group"||key==='count')&&formatConfig[key]&&formatConfig[key].length){isHadValue=true;}else if(key==="encryption"&&formatConfig[key]&&(formatConfig[key].start||formatConfig[key].start===0)){isHadValue=true;}if(isHadValue){newFormatConfig[key]=formatConfig[key];}}data.formatConfig=newFormatConfig;var newValidateConfig=[];for(key in data.validateConfigObj){if(data.validateConfigObj[key]&&data.validateConfigObj[key][key]){newValidateConfig.push(data.validateConfigObj[key]);}}data.validateConfig=newValidateConfig;if(onOk&&typeof onOk==="function"){var keys=Object.keys(data)||[];if(keys.indexOf('requiredValue')>=0){delete data.requiredValue;}if(keys.indexOf('text')>=0){delete data.text;}if(keys.indexOf('validateConfigObj')>=0){delete data.validateConfigObj;}if(keys.indexOf('currEnumOptionValue')>=0){delete data.currEnumOptionValue;}if(keys.indexOf('refreshCount')>=0){delete data.refreshCount;}if(!data.isNeedEnumOptions&&data.enumOptions){delete data.enumOptions;}if(keys.indexOf('isNeedEnumOptions')>=0){delete data.isNeedEnumOptions;}onOk(data);}};_this.onCancel=function(){var onCancel=_this.props.onCancel;if(onCancel&&typeof onCancel==="function"){onCancel();}};_this.getApiOptions=function(names){var _this$props2=_this.props,_this$props2$dataMode=_this$props2.dataModels,dataModels=_this$props2$dataMode===void 0?{}:_this$props2$dataMode,_this$props2$relation=_this$props2.relations,relations=_this$props2$relation===void 0?{}:_this$props2$relation,data=_this$props2.data;var currDataModel=data&&data.dataKeyName;var dataModelNames=names||Object.keys(dataModels);var options=[];dataModelNames.map(function(name){var model=dataModels[name]||{};if(currDataModel!==name&&model.type!=='update'){var item={value:names?model.nodeId:name,label:names?"\u3010".concat(relations[model.nodeId]&&relations[model.nodeId].nodeAliasName,"\u3011\u4E8B\u4EF6\u7D22\u5F15\u6570\u636E"):"\u3010".concat(relations[model.nodeId]&&relations[model.nodeId].nodeAliasName,"\u3011").concat(model.title)};(model.responseStructures||[]).map(function(structure){item.children=item.children||[];item.children.push({value:structure.keyName,label:structure.title});});options.push(item);}});return options;};_this.getEventOptions=function(){var _this$props3=_this.props,_this$props3$dataMode=_this$props3.dataModels,dataModels=_this$props3$dataMode===void 0?{}:_this$props3$dataMode,_this$props3$relation=_this$props3.relations,relations=_this$props3$relation===void 0?{}:_this$props3$relation,data=_this$props3.data;var dataModelNames=[];Object.keys(relations).map(function(nodeId){var relation=relations[nodeId];if(relation.dataSourceType==='event'&&relation.stateNodeId){var targetRelation=relations[relation.stateNodeId]||{};var dataModalName=targetRelation.dataSourceType==='api'&&targetRelation.dataSourceName?targetRelation.dataSourceName:'';var dataModel=dataModels[dataModalName];if(dataModel){dataModelNames.push(dataModalName);}}});return _this.getApiOptions(dataModelNames);};_this.getDataFields=function(){var _this$props4=_this.props,_this$props4$fields=_this$props4.fields,fields=_this$props4$fields===void 0?[]:_this$props4$fields,contentType=_this$props4.contentType;var data=ParamEditModal_extends({},_this.state);return fields;// return contentType === 'request' ? [{
//   label: data.keyName,
//   type: data.type,
//   value: data.keyName,
//   requiredValue: data.requiredValue,
// }] : fields;
};_this.getResult=function(){var _this$props5=_this.props,contentType=_this$props5.contentType,_this$props5$data=_this$props5.data,data=_this$props5$data===void 0?{}:_this$props5$data;//key
var _this$state2=_this.state,defaultValueConfig=_this$state2.defaultValueConfig,formatConfig=_this$state2.formatConfig,keyName=_this$state2.keyName,type=_this$state2.type,enumValue=_this$state2.enumValue;var defaultValue=(0,es/* getParamDefaultValue */.Cn)(defaultValueConfig);var newKeyName=keyName;if(contentType==='response'){var typeDefaultValues={'string':'字符串','number':3453.2,'date':'2017-12-14'};defaultValue=(0,utils/* isValue */.w)(enumValue)?enumValue:typeDefaultValues[type];newKeyName="".concat(data.databaseName||'').concat(data.tableName||'').concat(data.fieldName||data.keyName);}var formatValue=defaultValue;if(formatConfig&&Object.keys(formatConfig).length){formatValue=(0,es/* parseApiParam */.zt)(ParamEditModal_defineProperty({},newKeyName,defaultValue),ParamEditModal_defineProperty({},newKeyName,formatConfig))[newKeyName];}// 如果是'order'，默认值只须要展示数组的前2位
if(data&&data.key==='order'){defaultValue=(defaultValue||[]).map(function(item){return item.slice(0,2);});}return{defaultValue:ParamEditModal_typeof(defaultValue)==='object'?JSON.stringify(defaultValue):defaultValue,formatValue:ParamEditModal_typeof(formatValue)==='object'?JSON.stringify(formatValue):formatValue};};_this.renderBaseInfo=function(){var _this$props6=_this.props,isShowKeySelect=_this$props6.isShowKeySelect,isInDataModelEdit=_this$props6.isInDataModelEdit,contentType=_this$props6.contentType,isNewCountKey=_this$props6.isNewCountKey;var data=ParamEditModal_extends({},_this.state);var isResponseEdit=contentType==='response';var isRequestEdit=contentType==='request';var enumValue=data.enumValue;if(ParamEditModal_typeof(enumValue)==='object'){enumValue=JSON.stringify(enumValue);}return/*#__PURE__*/index_js_default().createElement("div",{className:index_module.containerBox},/*#__PURE__*/index_js_default().createElement("div",{className:index_module.containerBoxTitle},"\u5B57\u6BB5\u57FA\u672C\u4FE1\u606F"),/*#__PURE__*/index_js_default().createElement("div",{className:"".concat(index_module.containerBoxBody)},/*#__PURE__*/index_js_default().createElement("div",{className:index_module.containerRow},isInDataModelEdit&&isResponseEdit?/*#__PURE__*/index_js_default().createElement("div",{style:{flex:1}},"\u6570\u636E\u540D\u79F0\uFF1A",/*#__PURE__*/index_js_default().createElement(input/* default */.Z,{style:{width:"150px"},size:"small",value:data.fieldName,disabled:true,placeholder:"",onChange:function onChange(e){var value=e.target.value;_this.setState({keyName:value});}})):/*#__PURE__*/index_js_default().createElement("div",{style:{flex:1}},"\u5B57\u6BB5\u540D\u79F0\uFF1A",/*#__PURE__*/index_js_default().createElement(input/* default */.Z,{style:{width:"150px"},size:"small",value:data.keyName||data.key,disabled:isResponseEdit&&isNewCountKey?false:true,placeholder:"",onChange:function onChange(e){var value=e.target.value;_this.setState({keyName:value});}})),/*#__PURE__*/index_js_default().createElement("div",{style:{flex:1}},"\u5B57\u6BB5\u522B\u540D\uFF1A",/*#__PURE__*/index_js_default().createElement(input/* default */.Z,{style:{width:"150px"},size:"small",value:data.title,disabled:!isInDataModelEdit,placeholder:"",onChange:function onChange(e){var value=e.target.value;_this.setState({title:value});}}))),isShowKeySelect?/*#__PURE__*/index_js_default().createElement("div",{className:index_module.containerRow,style:{marginTop:"10px"}},/*#__PURE__*/index_js_default().createElement("div",{style:{flex:1}},"\u5173\u952E\u5B57\u6BB5\uFF1A",/*#__PURE__*/index_js_default().createElement(es_select/* default */.Z,{style:{width:"150px"},size:"small",value:data.key||"",disabled:true,placeholder:"",dropdownMatchSelectWidth:150,onChange:function onChange(value){_this.setState({key:value});}},/*#__PURE__*/index_js_default().createElement(es_select/* default.Option */.Z.Option,{value:""},"--"),/*#__PURE__*/index_js_default().createElement(es_select/* default.Option */.Z.Option,{value:"offset"},"offset (\u5F53\u9875\u4F4D\u7F6E)"),/*#__PURE__*/index_js_default().createElement(es_select/* default.Option */.Z.Option,{value:"limit"},"limit (\u6BCF\u9875\u6761\u6570)"),/*#__PURE__*/index_js_default().createElement(es_select/* default.Option */.Z.Option,{value:"order"},"order (\u591A\u5B57\u6BB5\u6392\u5E8F)"),/*#__PURE__*/index_js_default().createElement(es_select/* default.Option */.Z.Option,{value:"orderKey"},"orderKey (\u6392\u5E8F\u5B57\u6BB5)"),/*#__PURE__*/index_js_default().createElement(es_select/* default.Option */.Z.Option,{value:"orderType"},"orderType (\u6392\u5E8F\u65B9\u5F0F)")))):null,/*#__PURE__*/index_js_default().createElement("div",{className:index_module.containerRow,style:{marginTop:"10px"}},/*#__PURE__*/index_js_default().createElement("div",{style:{width:'5em',lineHeight:'24px'}},isInDataModelEdit?'数据':'字段',"\u7C7B\u578B\uFF1A"),/*#__PURE__*/index_js_default().createElement("div",{style:{flex:'auto'}},/*#__PURE__*/index_js_default().createElement(es_select/* default */.Z,{style:{width:"94%"},size:"small",value:data.type,disabled:true,placeholder:"",onChange:function onChange(value){_this.setState({type:value});}},(0,es_dataType/* getDataTypes */.QF)().map(function(typeValue){return/*#__PURE__*/index_js_default().createElement(es_select/* default.Option */.Z.Option,{value:typeValue},typeValue);})),enumValue?/*#__PURE__*/index_js_default().createElement("div",{style:{color:'#999',paddingTop:'2px'}},"\u4F8B: ",enumValue):null))));};_this.setDefaultValue=function(value){var _this$state$defaultVa=_this.state.defaultValueConfig,defaultValueConfig=_this$state$defaultVa===void 0?{ruleType:'static'}:_this$state$defaultVa;_this.setState({refreshCount:+new Date(),defaultValueConfig:ParamEditModal_objectSpread(ParamEditModal_objectSpread({},defaultValueConfig),{},{ruleValue:value})});};_this.renderStaticResult=function(){var _this$props7=_this.props,orderFields=_this$props7.orderFields,isInDataModelEdit=_this$props7.isInDataModelEdit,_this$props7$fields=_this$props7.fields,fields=_this$props7$fields===void 0?[]:_this$props7$fields,showStaticItem=_this$props7.showStaticItem;var _this$state3=_this.state,inputType=_this$state3.inputType,type=_this$state3.type,key=_this$state3.key,effect=_this$state3.effect,_this$state3$defaultV=_this$state3.defaultValueConfig,defaultValueConfig=_this$state3$defaultV===void 0?{}:_this$state3$defaultV,_this$state3$enumOpti=_this$state3.enumOptions,enumOptions=_this$state3$enumOpti===void 0?[]:_this$state3$enumOpti,_this$state3$currEnum=_this$state3.currEnumOptionValue,currEnumOptionValue=_this$state3$currEnum===void 0?{}:_this$state3$currEnum,isNeedEnumOptions=_this$state3.isNeedEnumOptions;// console.log('----renderStaticResult enumOptions',enumOptions);
var currRuleValue=(0,utils/* isValue */.w)(defaultValueConfig.ruleValue)?defaultValueConfig.ruleValue:'';var currRuleValueArr=ParamEditModal_typeof(currRuleValue)==='object'?currRuleValue:[];var setValue=_this.setDefaultValue;var staticAutoOptions=[];if(key==='orderType'){staticAutoOptions=[{label:'正序',value:'ASC'},{label:'倒序',value:'DESC'}];}else if(key==='orderKey'){staticAutoOptions=fields.map(function(item){return{label:item.title,value:item.keyName};});}else if(!isInDataModelEdit&&enumOptions&&enumOptions.length){staticAutoOptions=enumOptions;}var dataType=isInDataModelEdit?(0,es_dataType/* getRequestOutputType */.rT)(type,inputType):type;if(showStaticItem&&showStaticItem.remoteAppName&&['[startDate, endDate]','date','[{label, value}]','[min, max]'].indexOf(dataType)>=0){var props={};(showStaticItem.propsOptions||[]).forEach(function(item){if(item.type==='param'){props[item.name]={value:currRuleValue,onChange:function onChange(value){setValue(value);}};}else{props[item.name]=item.value;}});var StaticItem=(0,import_remote_module/* default */.ZP)("".concat(showStaticItem.remoteAppName,"/").concat(showStaticItem.componentName));return/*#__PURE__*/index_js_default().createElement(StaticItem,ParamEditModal_extends({},props,{locale:zh_CN/* default */.Z}));}else if(dataType==='[startDate, endDate]'){return/*#__PURE__*/index_js_default().createElement(RangePicker,ParamEditModal_extends({},dateTypes[inputType]&&dateTypes[inputType].props||{},{size:"small",value:currRuleValue.length?currRuleValue.map(function(ruleValueItem){return moment_default()(ruleValueItem);}):[],onChange:function onChange(dates){setValue(dates.map(function(ruleValueItem,index){return dateTypes[inputType]?dateTypes[inputType].format(ruleValueItem,index===0):ruleValueItem;}));}}));}else if(dataType==='date'){return/*#__PURE__*/index_js_default().createElement(date_picker/* default */.Z,ParamEditModal_extends({},dateTypes[inputType]&&dateTypes[inputType].props||{},{size:"small",value:currRuleValue?moment_default()(currRuleValue):"",onChange:function onChange(date,dateString){setValue(+new Date(date));}}));}else if(dataType==='[[orderKey, orderType]]'||dataType==='[orderKey, orderType]'){return/*#__PURE__*/index_js_default().createElement(cascader/* default */.Z,ParamEditModal_extends({},dataType==='[orderKey, orderType]'?{}:{multiple:true},{allowClear:true,popupClassName:index_module.orderCascader,size:"small",style:{width:"360px"},expandTrigger:"hover",options:orderFields.map(function(fieldItem){return ParamEditModal_objectSpread(ParamEditModal_objectSpread({},fieldItem),{},{children:[{label:"".concat(fieldItem.label,"(\u6B63\u5E8F)"),value:'ASC'},{label:"".concat(fieldItem.label,"(\u5012\u5E8F)"),value:'DESC'}]});}),value:currRuleValue.length?currRuleValue.map(function(ruleValueItem){return[ruleValueItem[0],ruleValueItem[1]];}):[],showCheckedStrategy:cascader/* default.SHOW_CHILD */.Z.SHOW_CHILD,onChange:function onChange(value,obj){if(dataType==='[orderKey, orderType]'){setValue([value]);return;}var valueObj={};(value||[]).map(function(valueItem){valueObj[valueItem[0]]=valueItem;});var databaseName=obj[0]&&obj[0][0]&&obj[0][0].databaseName;var tableName=obj[0]&&obj[0][0]&&obj[0][0].tableName;var fieldName=obj[0]&&obj[0][0]&&obj[0][0].fieldName;var newValue=Object.values(valueObj);newValue=databaseName&&tableName?newValue.map(function(valueItem){return[].concat(valueItem,[fieldName,tableName,databaseName]);}):newValue;setValue(newValue);}}));}else if(!isInDataModelEdit&&enumOptions.length){return/*#__PURE__*/index_js_default().createElement(MySelect,ParamEditModal_extends({size:"small",allowClear:true,style:{width:'100%'},outputParam:{value:currRuleValue,onChange:function onChange(value){var newValue=(0,es_dataType/* getOutputValue */.jG)({outputType:type,value:value});setValue(newValue);}}},dataType==='string'||dataType==='number'?{}:{mode:"multiple"},{dimensionConfig:[{autoDimensions:false,dimensions:enumOptions}],placeholder:'请选择下拉框中的选项做为默认值...'}));}else if(isInDataModelEdit&&isNeedEnumOptions&&['equal','in'].indexOf(inputType)>=0){var _dataType=(0,es_dataType/* getRequestOutputType */.rT)(type,inputType);var enumOptionsDataType=(0,es_dataType/* getRequestOutputType */.rT)('special','enumOptions');return/*#__PURE__*/index_js_default().createElement(src/* default */.Z,{selectedParma:{value:currRuleValue,outputType:_dataType,onChange:function onChange(value){var newValue=(0,es_dataType/* getOutputValue */.jG)({outputType:_dataType,value:value});setValue(newValue);}},enumOptionsParam:{value:enumOptions,outputType:enumOptionsDataType,onChange:function onChange(value){var newValue=(0,es_dataType/* getOutputValue */.jG)({outputType:enumOptionsDataType,value:value});_this.setState({enumOptions:newValue});}},ableAdd:true,ableMove:true,ableRemove:true,ableChecked:true,size:'small',placeholder:"\u8BF7\u5728\u4E0B\u62C9\u6846\u4E2D, \u5148\u6DFB\u52A0\u679A\u4E3E\u9009\u9879...",optionsEmpty:/*#__PURE__*/index_js_default().createElement("div",null,"\u6682\u65E0\u679A\u4E3E\u9009\u9879! ",/*#__PURE__*/index_js_default().createElement("br",null)," \u5982\u679C\u4E3A\u56FA\u5B9A\u7684\u51E0\u4E2A\u503C\uFF0C\u8BF7\u6DFB\u52A0\u679A\u4E3E\u9009\u9879\uFF01")});}// (isInDataModelEdit && type === 'string' && inputType === 'equal') || 
//   (!isInDataModelEdit && type === 'string')
else if(dataType==='string'){return/*#__PURE__*/index_js_default().createElement(auto_complete/* default */.Z,{size:"small",allowClear:true,style:{width:'100%'},placeholder:"",options:staticAutoOptions,value:currRuleValue||'',onChange:function onChange(value){setValue(value);}});}// else if(
//   (isInDataModelEdit && type === 'string' && (inputType === 'in' || inputType === 'like')) || 
//   (!isInDataModelEdit && type === '[string]')
// ) 
else if(dataType==='[string]'){var placeholder=inputType==='like'?'请输入如：“%关键词%”；按“回车键”确认':'请输入包含的文字，按“回车键”确认';return/*#__PURE__*/index_js_default().createElement(es_select/* default */.Z,{size:"small",allowClear:true,style:{width:'100%'},value:currRuleValueArr,mode:"tags",popupClassName:index_module.noDropSown,options:currRuleValueArr.map(function(valueItem,index){return{label:valueItem,value:valueItem+'___'+index};}),placeholder:placeholder,onChange:function onChange(value){var newValue={};value.map(function(valueItem){var label=valueItem.replace(/\_\_\_\d+/,'');newValue[label]=label;});setValue(Object.keys(newValue));}});}else if(dataType==='number'){return/*#__PURE__*/index_js_default().createElement(input_number/* default */.Z,{allowClear:true,size:"small",placeholder:"",value:currRuleValue||currRuleValue===0?currRuleValue+'':'',onChange:function onChange(value){setValue(Number(value));}});}else if(dataType==='[number]'){return/*#__PURE__*/index_js_default().createElement(es_select/* default */.Z,{allowClear:true,style:{width:"300px"},size:"small",value:currRuleValueArr,mode:"tags",popupClassName:index_module.noDropSown,options:currRuleValueArr.map(function(valueItem,index){return{label:valueItem,value:valueItem+'___'+index};}),placeholder:'请输入包含的数字，按“回车键”确认',onChange:function onChange(value){var newValue={};value.map(function(valueItem){var label=(valueItem+'').replace(/\_\_\_\d+/,'');if(label.match(/^[0-9-]+$/)){newValue[label]=Number(label);}});setValue(Object.values(newValue));}});}else if(dataType==='[min, max]'){return/*#__PURE__*/index_js_default().createElement((index_js_default()).Fragment,null,/*#__PURE__*/index_js_default().createElement(input_number/* default */.Z,{allowClear:true,style:{marginRight:'10px'},addonBefore:"min",size:"small",placeholder:"",value:(0,utils/* isValue */.w)(currRuleValue&&currRuleValue[0])?currRuleValue[0]+'':'',onChange:function onChange(value){var newValue=currRuleValue||[null,null];newValue[0]=Number(value);setValue(newValue);}}),/*#__PURE__*/index_js_default().createElement(input_number/* default */.Z,{allowClear:true,addonBefore:"max",size:"small",placeholder:"",value:(0,utils/* isValue */.w)(currRuleValue&&currRuleValue[1])?currRuleValue[1]+'':'',onChange:function onChange(value){var newValue=currRuleValue||[null,null];newValue[1]=Number(value);setValue(newValue);}}));}};_this.renderInputTypeSelect=function(){var _this$state4=_this.state,inputType=_this$state4.inputType,type=_this$state4.type,effect=_this$state4.effect,_this$state4$defaultV=_this$state4.defaultValueConfig,defaultValueConfig=_this$state4$defaultV===void 0?{}:_this$state4$defaultV;if(type==='string'){return/*#__PURE__*/index_js_default().createElement(es_select/* default */.Z,{size:"small",style:{width:'100px'},value:inputType,onChange:function onChange(value){_this.setState({inputType:value,defaultValueConfig:{ruleType:'static'}});}},/*#__PURE__*/index_js_default().createElement(Option,{value:"equal"},"\u7B49\u4E8E"),/*#__PURE__*/index_js_default().createElement(Option,{value:"in"},"\u5305\u542B"),/*#__PURE__*/index_js_default().createElement(Option,{value:"like"},"\u6A21\u7CCA\u5339\u914D"));}else if(type==='number'){return/*#__PURE__*/index_js_default().createElement(es_select/* default */.Z,{size:"small",style:{width:'100px'},value:inputType,onChange:function onChange(value){_this.setState({inputType:value,defaultValueConfig:{ruleType:'static'}});}},/*#__PURE__*/index_js_default().createElement(Option,{value:"equal"},"\u7B49\u4E8E"),/*#__PURE__*/index_js_default().createElement(Option,{value:"in"},"\u5305\u542B"),/*#__PURE__*/index_js_default().createElement(Option,{value:"between"},"\u8303\u56F4"));}else if(type==='date'){return/*#__PURE__*/index_js_default().createElement(es_select/* default */.Z,{style:{width:"120px"},value:inputType==='rangeDate'&&defaultValueConfig.ruleType==='dynamic'?'dynamic':inputType,size:"small",onChange:function onChange(value){if(value==='dynamic'){_this.setState({inputType:'rangeDate',defaultValueConfig:{ruleType:'dynamic',isEnum:true}});}else{_this.setState({inputType:value,defaultValueConfig:{ruleType:'static'}});}}},effect==='update'||!effect?/*#__PURE__*/index_js_default().createElement((index_js_default()).Fragment,null,/*#__PURE__*/index_js_default().createElement(Option,{value:"dateTime"},"\u65E5\u671F\u65F6\u95F4"),/*#__PURE__*/index_js_default().createElement(Option,{value:"date"},"\u65E5\u671F"),/*#__PURE__*/index_js_default().createElement(Option,{value:"month"},"\u6708\u4EFD"),/*#__PURE__*/index_js_default().createElement(Option,{value:"year"},"\u5E74\u4EFD")):null,effect==='query'||!effect?/*#__PURE__*/index_js_default().createElement((index_js_default()).Fragment,null,/*#__PURE__*/index_js_default().createElement(Option,{value:"rangeDateTime"},"\u65E5\u671F\u65F6\u95F4\u8303\u56F4"),/*#__PURE__*/index_js_default().createElement(Option,{value:"rangeDate"},"\u65E5\u671F\u8303\u56F4"),/*#__PURE__*/index_js_default().createElement(Option,{value:"rangeMonth"},"\u65E5\u671F\u6708\u4EFD\u8303\u56F4"),/*#__PURE__*/index_js_default().createElement(Option,{value:"rangeYear"},"\u65E5\u671F\u5E74\u4EFD\u8303\u56F4"),/*#__PURE__*/index_js_default().createElement(Option,{value:"dynamic"},"\u52A8\u6001\u65F6\u95F4")):null);}else if(type==='order'){return/*#__PURE__*/index_js_default().createElement(es_select/* default */.Z,{size:"small",style:{width:'100px'},value:inputType,onChange:function onChange(value){_this.setState({inputType:value,defaultValueConfig:{ruleType:'static'}});}},/*#__PURE__*/index_js_default().createElement(Option,{value:"order"},"\u6392\u5E8F"));}};_this.renderDefalutValue=function(_ref){var results=_ref.results;var _this$props8=_this.props,isInDataModelEdit=_this$props8.isInDataModelEdit,orderFields=_this$props8.orderFields,isComponentField=_this$props8.isComponentField;var _this$state5=_this.state,effect=_this$state5.effect,_this$state5$defaultV=_this$state5.defaultValueConfig,defaultValueConfig=_this$state5$defaultV===void 0?{}:_this$state5$defaultV,inputType=_this$state5.inputType,type=_this$state5.type,isHadDefaultValue=_this$state5.isHadDefaultValue,isNeedEnumOptions=_this$state5.isNeedEnumOptions,enumOptions=_this$state5.enumOptions,enumValue=_this$state5.enumValue;var apiOptions=_this.getApiOptions();var eventOptions=_this.getEventOptions();//
var currType=type;var currRuleType=defaultValueConfig.ruleType||'';var currRuleValue=(0,utils/* isValue */.w)(defaultValueConfig.ruleValue)?defaultValueConfig.ruleValue:'';return/*#__PURE__*/index_js_default().createElement("div",{className:index_module.containerBox},/*#__PURE__*/index_js_default().createElement("div",{className:index_module.containerBoxTitle},"\u9ED8\u8BA4\u503C\u914D\u7F6E"),/*#__PURE__*/index_js_default().createElement("div",{className:"".concat(index_module.containerBoxBody)},/*#__PURE__*/index_js_default().createElement("div",{style:{paddingBottom:'10px'}},/*#__PURE__*/index_js_default().createElement(es_radio/* default.Group */.ZP.Group,{name:"radiogroup",value:currRuleType||'static',onChange:function onChange(e){var value=e.target.value;_this.setState({defaultValueConfig:{ruleType:value,ruleValue:""}});}},/*#__PURE__*/index_js_default().createElement(es_radio/* default */.ZP,{value:'static'},['date','[startDate, endDate]'].indexOf(currType)>=0?'时间':'',"\u9759\u6001\u503C"),['[startDate, endDate]'].indexOf(currType)>=0?/*#__PURE__*/index_js_default().createElement(es_radio/* default */.ZP,{value:'dynamic'},"\u65F6\u95F4\u52A8\u6001\u503C"):null,!isComponentField&&['string','number'].indexOf(currType)>=0?/*#__PURE__*/index_js_default().createElement(es_radio/* default */.ZP,{value:'api'},"\u5176\u5B83\u63A5\u53E3\u8FD4\u56DE\u6570\u636E"):null,!isComponentField&&['string','number'].indexOf(currType)>=0?/*#__PURE__*/index_js_default().createElement(es_radio/* default */.ZP,{value:'event'},"\u5176\u5B83\u4E8B\u4EF6\u7D22\u5F15\u8FD4\u56DE\u6570\u636E"):null)),/*#__PURE__*/index_js_default().createElement("div",null,currRuleType==="order"?_this.renderStaticResult():null,currRuleType==='static'?_this.renderStaticResult():null,currRuleType==="dynamic"?/*#__PURE__*/index_js_default().createElement("div",null,/*#__PURE__*/index_js_default().createElement(es_select/* default */.Z,{size:"small",value:currRuleValue||"",placeholder:"",onChange:function onChange(value){_this.setState({defaultValueConfig:ParamEditModal_objectSpread(ParamEditModal_objectSpread({},defaultValueConfig),{},{ruleValue:value})});}},dynamicOptions/* default.map */.Z.map(function(item,index){return/*#__PURE__*/index_js_default().createElement(es_select/* default.Option */.Z.Option,{key:"dynamicOptions".concat(index),value:item.value},item.title);}))):null,currRuleType==="api"?/*#__PURE__*/index_js_default().createElement(cascader/* default */.Z,{size:"small",style:{width:"100%"},expandTrigger:"hover",options:apiOptions,value:currRuleValue||"",onChange:function onChange(value){_this.setState({defaultValueConfig:ParamEditModal_objectSpread(ParamEditModal_objectSpread({},defaultValueConfig),{},{ruleValue:value})});}}):null,currRuleType==="event"?/*#__PURE__*/index_js_default().createElement(cascader/* default */.Z,{size:"small",style:{width:"100%"},expandTrigger:"hover",options:eventOptions,value:currRuleValue||"",onChange:function onChange(value){_this.setState({defaultValueConfig:ParamEditModal_objectSpread(ParamEditModal_objectSpread({},defaultValueConfig),{},{ruleValue:value})});}}):null,currRuleType==="cookie"?/*#__PURE__*/index_js_default().createElement(input/* default */.Z,{size:"small",value:currRuleValue||"",onChange:function onChange(e){var value=e.target.value;_this.setState({defaultValueConfig:ParamEditModal_objectSpread(ParamEditModal_objectSpread({},defaultValueConfig),{},{ruleValue:value})});}}):null,currRuleType==="global"?/*#__PURE__*/index_js_default().createElement(es_select/* default */.Z,{style:{width:"100%"},size:"small",value:currRuleValue||"",placeholder:"",onChange:function onChange(value){_this.setState({defaultValueConfig:ParamEditModal_objectSpread(ParamEditModal_objectSpread({},defaultValueConfig),{},{ruleValue:value})});}},globalOptions/* default.map */.Z.map(function(item,index){return/*#__PURE__*/index_js_default().createElement(es_select/* default.Option */.Z.Option,{key:"globalParams".concat(index),value:item.keyName},item.title);})):null)),/*#__PURE__*/index_js_default().createElement("div",{className:index_module.defaultValueContainer},/*#__PURE__*/index_js_default().createElement("span",null,"\u9ED8\u8BA4\u8BBE\u7F6E\u7684\u503C:"),results.defaultValue));};_this.renderDefalutValueInComponentFeild=function(){var _this$props9=_this.props,_this$props9$outputTy=_this$props9.outputTypeRequired,outputTypeRequired=_this$props9$outputTy===void 0?[]:_this$props9$outputTy,isComponentField=_this$props9.isComponentField;var _this$state6=_this.state,_this$state6$defaultV=_this$state6.defaultValueConfig,defaultValueConfig=_this$state6$defaultV===void 0?{}:_this$state6$defaultV,type=_this$state6.type;var apiOptions=_this.getApiOptions();var eventOptions=_this.getEventOptions();//
var currType=type;var currRuleType=defaultValueConfig.ruleType||'';var currRuleValue=(0,utils/* isValue */.w)(defaultValueConfig.ruleValue)?defaultValueConfig.ruleValue:'';return/*#__PURE__*/index_js_default().createElement("div",null,/*#__PURE__*/index_js_default().createElement("div",{style:{paddingBottom:'10px'}},/*#__PURE__*/index_js_default().createElement(es_radio/* default.Group */.ZP.Group,{name:"radiogroup",value:currRuleType||'static',onChange:function onChange(e){var value=e.target.value;_this.setState({defaultValueConfig:{ruleType:value,ruleValue:""}});}},/*#__PURE__*/index_js_default().createElement(es_radio/* default */.ZP,{value:'static'},['date','[startDate, endDate]'].indexOf(currType)>=0?'时间':'',"\u9759\u6001\u503C"),['[startDate, endDate]'].indexOf(currType)>=0?/*#__PURE__*/index_js_default().createElement(es_radio/* default */.ZP,{value:'dynamic'},"\u65F6\u95F4\u52A8\u6001\u503C"):null)),/*#__PURE__*/index_js_default().createElement("div",null,currRuleType==='static'?_this.renderStaticResult():null,currRuleType==="dynamic"?/*#__PURE__*/index_js_default().createElement("div",null,/*#__PURE__*/index_js_default().createElement(es_select/* default */.Z,{size:"small",style:{width:'250px'},value:currRuleValue||"",placeholder:"",onChange:function onChange(value){_this.setState({defaultValueConfig:ParamEditModal_objectSpread(ParamEditModal_objectSpread({},defaultValueConfig),{},{ruleValue:value})});}},dynamicOptions/* default.map */.Z.map(function(item,index){return/*#__PURE__*/index_js_default().createElement(es_select/* default.Option */.Z.Option,{key:"dynamicOptions".concat(index),value:item.value},item.title);}))):null));};_this.renderDefalutValueInDataModel=function(_ref2){var results=_ref2.results;var orderFields=_this.props.orderFields;var _this$state7=_this.state,effect=_this$state7.effect,_this$state7$defaultV=_this$state7.defaultValueConfig,defaultValueConfig=_this$state7$defaultV===void 0?{}:_this$state7$defaultV,inputType=_this$state7.inputType,type=_this$state7.type,key=_this$state7.key,isHadDefaultValue=_this$state7.isHadDefaultValue,isNeedEnumOptions=_this$state7.isNeedEnumOptions,enumOptions=_this$state7.enumOptions;//
var currType=type;var currRuleType=defaultValueConfig.ruleType||'static';var currRuleValue=(0,utils/* isValue */.w)(defaultValueConfig.ruleValue)?defaultValueConfig.ruleValue:'';return/*#__PURE__*/index_js_default().createElement("div",{className:index_module.containerBox},/*#__PURE__*/index_js_default().createElement("div",{className:index_module.containerBoxTitle},"\u67E5\u8BE2\u903B\u8F91"),/*#__PURE__*/index_js_default().createElement("div",{className:"".concat(index_module.containerBoxBody),style:{margin:'20px 15px 15px'}},/*#__PURE__*/index_js_default().createElement("div",{className:index_module.containerRow},currRuleType==="order"?/*#__PURE__*/index_js_default().createElement(cascader/* default */.Z,{multiple:true,popupClassName:index_module.orderCascader,size:"small",style:{width:"100%"},expandTrigger:"hover",options:orderFields.map(function(fieldItem){return ParamEditModal_objectSpread(ParamEditModal_objectSpread({},fieldItem),{},{children:[{label:"".concat(fieldItem.label,"(\u6B63\u5E8F)"),value:'ASC'},{label:"".concat(fieldItem.label,"(\u5012\u5E8F)"),value:'DESC'}]});}),value:currRuleValue.length?currRuleValue.map(function(ruleValueItem){return[ruleValueItem[0],ruleValueItem[1]];}):[],showCheckedStrategy:cascader/* default.SHOW_CHILD */.Z.SHOW_CHILD,onChange:function onChange(value,obj){var valueObj={};(value||[]).map(function(valueItem){valueObj[valueItem[0]]=valueItem;});var databaseName=obj[0]&&obj[0][0]&&obj[0][0].databaseName;var tableName=obj[0]&&obj[0][0]&&obj[0][0].tableName;var fieldName=obj[0]&&obj[0][0]&&obj[0][0].fieldName;var newValue=Object.values(valueObj);_this.setState({defaultValueConfig:ParamEditModal_objectSpread(ParamEditModal_objectSpread({},defaultValueConfig),{},{ruleValue:databaseName&&tableName?newValue.map(function(valueItem){return[].concat(valueItem,[fieldName,tableName,databaseName]);}):newValue})});}}):null,currRuleType==='static'?/*#__PURE__*/index_js_default().createElement("div",null,/*#__PURE__*/index_js_default().createElement("div",{className:index_module.containerRow},/*#__PURE__*/index_js_default().createElement("div",{style:{width:'6em'}},/*#__PURE__*/index_js_default().createElement("span",{className:index_module.required}),"\u67E5\u8BE2\u65B9\u5F0F: "),/*#__PURE__*/index_js_default().createElement("div",{style:{flex:'auto'}},_this.renderInputTypeSelect(currType,effect))),/*#__PURE__*/index_js_default().createElement("div",{className:index_module.containerRow,style:{marginTop:'10px'}},/*#__PURE__*/index_js_default().createElement("div",{style:{width:'6em'}},/*#__PURE__*/index_js_default().createElement("span",{className:index_module.required}),"\u679A\u4E3E\u503C: "),/*#__PURE__*/index_js_default().createElement("div",{style:{flex:'auto'}},!key&&(inputType==='equal'||inputType==='in')?/*#__PURE__*/index_js_default().createElement("div",{style:{paddingBottom:'5px'}},/*#__PURE__*/index_js_default().createElement(es_checkbox/* default */.Z,{checked:isNeedEnumOptions,onChange:function onChange(e){var checked=e.target.checked;_this.setState({isNeedEnumOptions:checked,defaultValueConfig:{ruleType:'static'}});}},"\u662F\u5426\u9700\u8981\u521B\u5EFA\u679A\u4E3E\u9009\u9879")):null,_this.renderStaticResult()))):null,currRuleType==="dynamic"?/*#__PURE__*/index_js_default().createElement("div",null,/*#__PURE__*/index_js_default().createElement("div",{className:index_module.containerRow},/*#__PURE__*/index_js_default().createElement("div",{style:{width:'6em'}},/*#__PURE__*/index_js_default().createElement("span",{className:index_module.required}),"\u67E5\u8BE2\u65B9\u5F0F: "),/*#__PURE__*/index_js_default().createElement("div",{style:{flex:'auto'}},_this.renderInputTypeSelect(currType,effect))),/*#__PURE__*/index_js_default().createElement("div",{className:index_module.containerRow,style:{marginTop:'10px'}},/*#__PURE__*/index_js_default().createElement("div",{style:{width:'6em'}},/*#__PURE__*/index_js_default().createElement("span",{className:index_module.required}),"\u679A\u4E3E\u503C: "),/*#__PURE__*/index_js_default().createElement("div",{style:{flex:'auto'}},/*#__PURE__*/index_js_default().createElement(es_select/* default */.Z,{style:{width:"340px"},size:"small",value:currRuleValue||"",placeholder:"",onChange:function onChange(value){_this.setState({defaultValueConfig:ParamEditModal_objectSpread(ParamEditModal_objectSpread({},defaultValueConfig),{},{ruleValue:value})});}},dynamicOptions/* default.map */.Z.map(function(item,index){return/*#__PURE__*/index_js_default().createElement(es_select/* default.Option */.Z.Option,{key:"dynamicOptions".concat(index),value:item.value},item.title);}))))):null)),/*#__PURE__*/index_js_default().createElement("div",{className:index_module.defaultValueContainer,style:{background:'#fff'}},/*#__PURE__*/index_js_default().createElement(es_checkbox/* default */.Z,{checked:isHadDefaultValue,onChange:function onChange(e){var checked=e.target.checked;_this.setState({isHadDefaultValue:checked});}},"\u662F\u5426\u4F5C\u4E3A\u9ED8\u8BA4\u503C")),results&&(results.defaultValue||results.defaultValue===0)?/*#__PURE__*/index_js_default().createElement("div",{className:index_module.defaultValueContainer},/*#__PURE__*/index_js_default().createElement("span",{className:index_module.span},isHadDefaultValue?'默认':'枚举',"\u503C:"),results.defaultValue):null);};_this.renderFormatConfig=function(_ref3){var results=_ref3.results,fields=_ref3.fields,countFields=_ref3.countFields;var _this$props10=_this.props,aliasTitles=_this$props10.aliasTitles,contentType=_this$props10.contentType;var _this$state8=_this.state,visible=_this$state8.visible,data=_objectWithoutProperties(_this$state8,["visible"]);var isRequestEdit=contentType==='request';var formatConfig=data.formatConfig||{};return/*#__PURE__*/index_js_default().createElement("div",{className:index_module.containerBox},/*#__PURE__*/index_js_default().createElement("div",{className:index_module.containerBoxTitle},/*#__PURE__*/index_js_default().createElement(tooltip/* default */.Z,{title:"\u6570\u636E\u503C\u5C06\u4F1A\u4ECE\u4E0A\u5F80\u4E0B\u8FDB\u884C\u683C\u5F0F\u5316(\u4E0A\u9762\u683C\u5F0F\u5316\u540E\u7684\u8F93\u51FA\u662F\u4E0B\u9762\u683C\u5F0F\u5316\u524D\u7684\u8F93\u5165)"},/*#__PURE__*/index_js_default().createElement(QuestionCircleOutlined/* default */.Z,null)),contentType==='response'?' “返回数据” ':' “上传参数” ',"\u683C\u5F0F\u5316"),/*#__PURE__*/index_js_default().createElement("div",{className:"".concat(index_module.containerBoxBody)},!isRequestEdit&&results&&results.defaultValue?/*#__PURE__*/index_js_default().createElement("div",{className:index_module.enumValueContainer},/*#__PURE__*/index_js_default().createElement("span",null,"\u3010\u4E3E\u4F8B\u3011\u683C\u5F0F\u5316\u524D\u7684\u503C:"),results.defaultValue):null,["number"].indexOf(data.type)>=0?/*#__PURE__*/index_js_default().createElement("div",{className:index_module.containerRow,style:{marginTop:"5px"}},/*#__PURE__*/index_js_default().createElement("div",{style:{width:"7em"}},/*#__PURE__*/index_js_default().createElement(FilterOutlined/* default */.Z,null)," \u8BA1\u7B97\uFF1A"),/*#__PURE__*/index_js_default().createElement("div",{style:{flex:"auto"}},/*#__PURE__*/index_js_default().createElement(InputDropDown,{size:"small",value:formatConfig.count||[],options:countFields,requiredValue:data.requiredValue,resultType:"number",tooltipTitle:/*#__PURE__*/index_js_default().createElement("div",null,"\u64CD\u4F5C\u4F8B\u5B50(\u4E24\u4E2A\u5B57\u6BB5\u6570\u636E\u76F8\u52A0)",/*#__PURE__*/index_js_default().createElement("br",null),"1. \u4ECE\u4E0B\u62C9\u6846\u4E2D\u9009\u4E2D\u4E00\u4E2A\u5B57\u6BB5",/*#__PURE__*/index_js_default().createElement("br",null),"2. \u5728\u8F93\u5165\u6846\u4E2D\u8F93\u5165\"+\"\u8FD0\u7B97\u7B26",/*#__PURE__*/index_js_default().createElement("br",null),"3. \u4ECE\u4E0B\u62C9\u6846\u4E2D\u9009\u4E2D\u4E00\u4E2A\u5B57\u6BB5",/*#__PURE__*/index_js_default().createElement("br",null),/*#__PURE__*/index_js_default().createElement("span",{style:{color:'#ff0000',fontSize:'12px'}},"(\u6CE8\uFF1A\u8BA1\u7B97\u7684\u5B57\u6BB5\u5FC5\u987B\u5305\u542B\u5F53\u524D\u5B57\u6BB5)")),onChange:function onChange(value,status){_this.errors.count=status;_this.setState({formatConfig:ParamEditModal_objectSpread(ParamEditModal_objectSpread({},formatConfig),{},{count:value})});}}))):null,["number"].indexOf(data.type)>=0?/*#__PURE__*/index_js_default().createElement("div",{className:index_module.containerRow,style:{marginTop:"15px"}},/*#__PURE__*/index_js_default().createElement("div",{style:{width:"7em"}},/*#__PURE__*/index_js_default().createElement(FilterOutlined/* default */.Z,null)," \u4FDD\u7559\u5C0F\u6570\uFF1A"),/*#__PURE__*/index_js_default().createElement("div",{style:{flex:"auto"}},/*#__PURE__*/index_js_default().createElement(input_number/* default */.Z,{size:"small",style:{width:"60px",marginRight:"15px"},value:formatConfig.toFixed&&formatConfig.toFixed.count||'',onChange:function onChange(value){var newToFixed=ParamEditModal_extends({},formatConfig.toFixed,{count:value});_this.setState({formatConfig:ParamEditModal_objectSpread(ParamEditModal_objectSpread({},formatConfig),{},{toFixed:newToFixed})});}}),/*#__PURE__*/index_js_default().createElement(es_checkbox/* default */.Z,{checked:formatConfig.toFixed&&formatConfig.toFixed.isRounding,onChange:function onChange(e){var checked=e.target.checked;var newToFixed=ParamEditModal_extends({},formatConfig.toFixed,{isRounding:checked});_this.setState({formatConfig:ParamEditModal_objectSpread(ParamEditModal_objectSpread({},formatConfig),{},{toFixed:newToFixed})});}},"\u56DB\u820D\u4E94\u5165"),/*#__PURE__*/index_js_default().createElement(es_checkbox/* default */.Z,{checked:formatConfig.toFixed&&formatConfig.toFixed.isCovering,onChange:function onChange(e){var checked=e.target.checked;var newToFixed=ParamEditModal_extends({},formatConfig.toFixed,{isCovering:checked});_this.setState({formatConfig:ParamEditModal_objectSpread(ParamEditModal_objectSpread({},formatConfig),{},{toFixed:newToFixed})});}},"\u8865\u4F4D"))):null,["number"].indexOf(data.type)>=0?/*#__PURE__*/index_js_default().createElement("div",{className:index_module.containerRow,style:{marginTop:"15px"}},/*#__PURE__*/index_js_default().createElement("div",{style:{width:"7em"}},/*#__PURE__*/index_js_default().createElement(FilterOutlined/* default */.Z,null)," \u5206\u9694\u7B26\uFF1A"),/*#__PURE__*/index_js_default().createElement("div",{style:{flex:"auto"}},/*#__PURE__*/index_js_default().createElement(es_checkbox/* default */.Z,{checked:formatConfig.separator,onChange:function onChange(e){var checked=e.target.checked;_this.setState({formatConfig:ParamEditModal_objectSpread(ParamEditModal_objectSpread({},formatConfig),{},{separator:checked})});}},"\u5343\u4F4D\u5206\u9694\u7B26"))):null,["date"].indexOf(data.type)>=0?/*#__PURE__*/index_js_default().createElement("div",{className:index_module.containerRow,style:{marginTop:"15px"}},/*#__PURE__*/index_js_default().createElement("div",{style:{width:"7em"}},/*#__PURE__*/index_js_default().createElement(FilterOutlined/* default */.Z,null)," \u65E5\u671F\u683C\u5F0F\uFF1A"),/*#__PURE__*/index_js_default().createElement("div",{style:{flex:"auto"}},/*#__PURE__*/index_js_default().createElement(es_select/* default */.Z,ParamEditModal_extends({style:{width:"100%"},size:"small"},formatConfig.date?{value:formatConfig.date}:{},{// value={formatConfig.date || ''}
placeholder:"",mode:"tags",onChange:function onChange(value){var newValue=value&&value.length&&value[value.length-1]||"";_this.setState({formatConfig:ParamEditModal_objectSpread(ParamEditModal_objectSpread({},formatConfig),{},{date:newValue})});}}),dateFormatOptions/* default.map */.Z.map(function(item,index){return/*#__PURE__*/index_js_default().createElement(es_select/* default.Option */.Z.Option,{key:"dateFormat".concat(index),value:item.value},item.title);})))):null,["string","number"].indexOf(data.type)>=0?/*#__PURE__*/index_js_default().createElement("div",{className:index_module.containerRow,style:{marginTop:"15px"}},/*#__PURE__*/index_js_default().createElement("div",{style:{width:"7em"}},/*#__PURE__*/index_js_default().createElement(FilterOutlined/* default */.Z,null)," \u52A0\u5BC6\uFF1A"),/*#__PURE__*/index_js_default().createElement("div",{style:{flex:"auto"},className:index_module.inputBox},/*#__PURE__*/index_js_default().createElement(space/* default */.Z,null,/*#__PURE__*/index_js_default().createElement(input/* default */.Z,{style:{width:"160px"},size:"small",addonBefore:"\u524D\u9762\u4FDD\u7559",addonAfter:"\u4F4D",value:formatConfig.encryption&&formatConfig.encryption.start||"",onChange:function onChange(e){var value=e.target.value;_this.setState({formatConfig:ParamEditModal_objectSpread(ParamEditModal_objectSpread({},formatConfig),{},{encryption:ParamEditModal_extends({},formatConfig.encryption,{start:value})})});}}),/*#__PURE__*/index_js_default().createElement("span",null,"-"),/*#__PURE__*/index_js_default().createElement(input/* default */.Z,{style:{width:"160px"},size:"small"//addonBefore="到第"
,addonBefore:/*#__PURE__*/index_js_default().createElement(es_select/* default */.Z,{defaultValue:"backward",className:"select-before",onChange:function onChange(value){_this.setState({encryptionType:value});}},/*#__PURE__*/index_js_default().createElement(Option,{value:"end"},"\u52A0\u5BC6\u5230\u7B2C"),/*#__PURE__*/index_js_default().createElement(Option,{value:"backward"},"\u540E\u9762\u4FDD\u7559")),addonAfter:"\u4F4D",value:formatConfig.encryption&&(formatConfig.encryption.end||formatConfig.encryption.backward)||"",onChange:function onChange(e){var value=e.target.value;var encryptionType=_this.state.encryptionType||'backward';_this.setState({formatConfig:ParamEditModal_objectSpread(ParamEditModal_objectSpread({},formatConfig),{},{encryption:ParamEditModal_extends({},formatConfig.encryption,encryptionType==='end'?{end:value,backward:''}:{backward:value,end:''})})});}})))):null,["number","string"].indexOf(data.type)>=0?/*#__PURE__*/index_js_default().createElement("div",{className:index_module.containerRow,style:{marginTop:"15px"}},/*#__PURE__*/index_js_default().createElement("div",{style:{width:"7em"}},/*#__PURE__*/index_js_default().createElement(FilterOutlined/* default */.Z,null)," \u6570\u636E\u522B\u540D\uFF1A"),/*#__PURE__*/index_js_default().createElement("div",{style:{flex:"auto"},className:index_module.dimensionEdit},/*#__PURE__*/index_js_default().createElement(DimensionEdit/* default */.Z,{titles:aliasTitles||['成员','(转化成)数据库值'],isModal:false,data:formatConfig.alias||[],onOk:function onOk(data){_this.setState({formatConfig:ParamEditModal_objectSpread(ParamEditModal_objectSpread({},formatConfig),{},{alias:data})});}}))):null,/*#__PURE__*/index_js_default().createElement("div",{className:index_module.containerRow,style:{marginTop:"15px"}},/*#__PURE__*/index_js_default().createElement("div",{style:{width:"7em"}},/*#__PURE__*/index_js_default().createElement(SmileOutlined/* default */.Z,null)," \u62FC\u5408\uFF1A"),/*#__PURE__*/index_js_default().createElement("div",{style:{flex:"auto"}},/*#__PURE__*/index_js_default().createElement(InputDropDown,{size:"small",value:formatConfig.group||[],options:fields,resultType:"string",requiredValue:data.requiredValue,tooltipTitle:/*#__PURE__*/index_js_default().createElement("div",null,"\u64CD\u4F5C\u4F8B\u5B50(\u7ED9\u6570\u636E\u52A0\u4E0A\u5355\u4F4D)",/*#__PURE__*/index_js_default().createElement("br",null),"1. \u4ECE\u4E0B\u62C9\u6846\u4E2D\u9009\u4E2D\u4E00\u4E2A\u5B57\u6BB5",/*#__PURE__*/index_js_default().createElement("br",null),"2. \u5728\u8F93\u5165\u6846\u4E2D\u8F93\u5165\"\u4EF6\"\u5355\u4F4D\u5B57\u7B26",/*#__PURE__*/index_js_default().createElement("br",null),/*#__PURE__*/index_js_default().createElement("span",{style:{color:'#ff0000',fontSize:'12px'}},"(\u6CE8\uFF1A\u62FC\u5408\u7684\u5B57\u6BB5\u5FC5\u987B\u5305\u542B\u5F53\u524D\u5B57\u6BB5)")),onChange:function onChange(value,status){_this.errors.group=status;_this.setState({formatConfig:ParamEditModal_objectSpread(ParamEditModal_objectSpread({},formatConfig),{},{group:value})});}})))),results&&results.formatValue?/*#__PURE__*/index_js_default().createElement("div",{className:index_module.defaultValueContainer},/*#__PURE__*/index_js_default().createElement("span",null,"\u683C\u5F0F\u5316\u540E\u7684\u503C:"),results.formatValue):null);};_this.renderValidConfig=function(){var _this$state$validateC=_this.state.validateConfigObj,validateConfigObj=_this$state$validateC===void 0?{}:_this$state$validateC;return/*#__PURE__*/index_js_default().createElement("div",{className:index_module.containerBox},/*#__PURE__*/index_js_default().createElement("div",{className:index_module.containerBoxTitle},"\u5B57\u6BB5\u503C\u9A8C\u8BC1"),/*#__PURE__*/index_js_default().createElement("div",{className:"".concat(index_module.containerBoxBody)},Object.keys(_this.validateRules).map(function(ruleType){return/*#__PURE__*/index_js_default().createElement("div",{className:index_module.containerRow,style:{marginBottom:"5px"}},/*#__PURE__*/index_js_default().createElement("div",{style:{width:"6rem"}},/*#__PURE__*/index_js_default().createElement(es_checkbox/* default */.Z,{checked:validateConfigObj[ruleType]&&validateConfigObj[ruleType][ruleType],onChange:function onChange(e){var checked=e.target.checked;if(checked){_this.setState({validateConfigObj:ParamEditModal_objectSpread(ParamEditModal_objectSpread({},validateConfigObj),{},ParamEditModal_defineProperty({},ruleType,ParamEditModal_extends({},validateConfigObj[ruleType],ParamEditModal_defineProperty({},ruleType,_this.validateRules[ruleType].defaultValue))))});}else if(!checked&&validateConfigObj[ruleType]){var newValidateConfigObj=ParamEditModal_extends({},validateConfigObj);delete newValidateConfigObj[ruleType];_this.setState({validateConfigObj:newValidateConfigObj});}}},ruleType)),/*#__PURE__*/index_js_default().createElement("div",{style:{width:"11rem"}},_this.validateRules[ruleType].type==="select"?/*#__PURE__*/index_js_default().createElement(es_select/* default */.Z,{style:{width:"100%"},size:"small",value:validateConfigObj[ruleType]&&validateConfigObj[ruleType][ruleType]||"",onChange:function onChange(value){_this.setState({validateConfigObj:ParamEditModal_objectSpread(ParamEditModal_objectSpread({},validateConfigObj),{},ParamEditModal_defineProperty({},ruleType,ParamEditModal_extends({},validateConfigObj[ruleType],ParamEditModal_defineProperty({},ruleType,value))))});}},_this.validateRules[ruleType].options.map(function(item,index){return/*#__PURE__*/index_js_default().createElement(es_select/* default.Option */.Z.Option,{key:"rules_options".concat(ruleType).concat(index),value:item},item);})):null,_this.validateRules[ruleType].type==="number"?/*#__PURE__*/index_js_default().createElement(input_number/* default */.Z,{size:"small",style:{width:"100%",marginRight:"15px"},placeholder:"\u6570\u503C...",value:validateConfigObj[ruleType]&&validateConfigObj[ruleType][ruleType]||"",onChange:function onChange(value){_this.setState({validateConfigObj:ParamEditModal_objectSpread(ParamEditModal_objectSpread({},validateConfigObj),{},ParamEditModal_defineProperty({},ruleType,ParamEditModal_extends({},validateConfigObj[ruleType],ParamEditModal_defineProperty({},ruleType,value))))});}}):null,_this.validateRules[ruleType].type==="RegExp"?/*#__PURE__*/index_js_default().createElement(input/* default */.Z,{size:"small",style:{width:"100%",marginRight:"15px"},placeholder:"\u6B63\u5219\u8868\u8FBE\u5F0F...",value:validateConfigObj[ruleType]&&validateConfigObj[ruleType][ruleType]||"",onChange:function onChange(e){var value=e.target.value;_this.setState({validateConfigObj:ParamEditModal_objectSpread(ParamEditModal_objectSpread({},validateConfigObj),{},ParamEditModal_defineProperty({},ruleType,ParamEditModal_extends({},validateConfigObj[ruleType],ParamEditModal_defineProperty({},ruleType,value))))});}}):null),/*#__PURE__*/index_js_default().createElement("div",{style:{flex:"auto"}},/*#__PURE__*/index_js_default().createElement("div",{style:{margin:"0 0 0 10px"}},/*#__PURE__*/index_js_default().createElement(input/* default */.Z,{size:"small",style:{width:"100%",marginRight:"15px"},placeholder:"\u9519\u8BEF\u4FE1\u606F...",value:validateConfigObj[ruleType]&&validateConfigObj[ruleType].message||"",onChange:function onChange(e){var value=e.target.value;_this.setState({validateConfigObj:ParamEditModal_objectSpread(ParamEditModal_objectSpread({},validateConfigObj),{},ParamEditModal_defineProperty({},ruleType,ParamEditModal_extends({},validateConfigObj[ruleType],{message:value})))});}}))));})));};_this.validateRules=validateRules;return _this;}ParamEditModal_createClass(ParamEditModal,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(nextProps,nextState){if(JSON.stringify(nextState)!==JSON.stringify(this.state)){return true;}return false;}},{key:"render",value:function render(){var _this2=this;var _this$props11=this.props,title=_this$props11.title,isComponentField=_this$props11.isComponentField,isInDataModelEdit=_this$props11.isInDataModelEdit,contentType=_this$props11.contentType;var _this$state9=this.state,visible=_this$state9.visible,data=_objectWithoutProperties(_this$state9,["visible"]);var isRequestEdit=contentType==='request';var effect=data.effect||'';// query、update
var validateConfigObj=data.validateConfigObj||{};var fields=this.getDataFields();var countFields=[];fields.forEach(function(item){if(data.type==='number'&&item.type==='number'){countFields.push(item);}});var results=this.getResult();return/*#__PURE__*/index_js_default().createElement(modal/* default */.Z,{width:550,title:title,visible:visible,onOk:function onOk(){_this2.onOk();},onCancel:function onCancel(){_this2.onCancel();}},isComponentField&&isRequestEdit&&!isInDataModelEdit?this.renderDefalutValueInComponentFeild():/*#__PURE__*/index_js_default().createElement("div",{className:index_module.box},!isComponentField?this.renderBaseInfo():null,!isComponentField&&isRequestEdit&&isInDataModelEdit?this.renderDefalutValueInDataModel({results:results,fields:fields,countFields:countFields}):null,!isComponentField&&isRequestEdit&&!isInDataModelEdit?this.renderDefalutValue({results:results,fields:fields,countFields:countFields}):null,isRequestEdit&&effect==='query'&&isInDataModelEdit||isComponentField?null:this.renderFormatConfig({results:results,fields:fields,countFields:countFields}),!isComponentField&&isRequestEdit?this.renderValidConfig():null));}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,prevState){if(nextProps.visible!==prevState.visible){if(nextProps.visible){var data=nextProps.data||{};var inputType=data.inputType;if(!inputType){if(data.type==='date'){inputType='rangeDate';}else{inputType='equal';}}var defaultValueConfig=data.defaultValueConfig||{};return{keyName:data.keyName,type:data.type,title:data.title,nodeId:data.nodeId,fieldName:data.fieldName,requiredValue:data.requiredValue,defaultValueConfig:ParamEditModal_objectSpread(ParamEditModal_objectSpread({},defaultValueConfig),{},{ruleType:defaultValueConfig.ruleType||'static'}),formatConfig:data.formatConfig,validateConfig:data.validateConfig,effect:data.effect,validateConfigObj:getValidateConfigObj(data.validateConfig||[],validateRules),visible:nextProps.visible,key:data.key,inputType:inputType,isHadDefaultValue:data.isHadDefaultValue,enumOptions:data.enumOptions||[],enumValue:data.enumValue,isNeedEnumOptions:(0,utils/* isValue */.w)(data.enumOptions)};}else{return{visible:nextProps.visible};}}return null;}// validRequired = () => {
//   const {defaultValueConfig} = this.state;
// }
}]);return ParamEditModal;}(index_js_.Component);/* harmony default export */ const components_ParamEditModal = (ParamEditModal_ParamEditModal);

/***/ }),

/***/ 12530:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "Z": () => (/* binding */ language)
});

;// CONCATENATED MODULE: ../my-designer/src/language/chinese.js
/* harmony default export */ const chinese = ({sumTypes:{total:'总和',average:'平均值',count:'计数',countDifferent:'计数(不同)'}});
;// CONCATENATED MODULE: ../my-designer/src/language/index.js
/* harmony default export */ const language = (chinese);

/***/ }),

/***/ 77966:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"tableBox":"_-my-designer-src-components-DimensionEdit-index-module__tableBox","checkedLi":"_-my-designer-src-components-DimensionEdit-index-module__checkedLi","name":"_-my-designer-src-components-DimensionEdit-index-module__name","autoHeight":"_-my-designer-src-components-DimensionEdit-index-module__autoHeight","buttons":"_-my-designer-src-components-DimensionEdit-index-module__buttons","rowDiv":"_-my-designer-src-components-DimensionEdit-index-module__rowDiv"});

/***/ }),

/***/ 44207:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var map = {
	"./af": 90330,
	"./af.js": 90330,
	"./ar": 44863,
	"./ar-dz": 56335,
	"./ar-dz.js": 56335,
	"./ar-kw": 77307,
	"./ar-kw.js": 77307,
	"./ar-ly": 49820,
	"./ar-ly.js": 49820,
	"./ar-ma": 47040,
	"./ar-ma.js": 47040,
	"./ar-sa": 58006,
	"./ar-sa.js": 58006,
	"./ar-tn": 27498,
	"./ar-tn.js": 27498,
	"./ar.js": 44863,
	"./az": 38181,
	"./az.js": 38181,
	"./be": 91015,
	"./be.js": 91015,
	"./bg": 4275,
	"./bg.js": 4275,
	"./bm": 23260,
	"./bm.js": 23260,
	"./bn": 78954,
	"./bn-bd": 98850,
	"./bn-bd.js": 98850,
	"./bn.js": 78954,
	"./bo": 11667,
	"./bo.js": 11667,
	"./br": 18209,
	"./br.js": 18209,
	"./bs": 92758,
	"./bs.js": 92758,
	"./ca": 80295,
	"./ca.js": 80295,
	"./cs": 52765,
	"./cs.js": 52765,
	"./cv": 16290,
	"./cv.js": 16290,
	"./cy": 53539,
	"./cy.js": 53539,
	"./da": 45694,
	"./da.js": 45694,
	"./de": 34514,
	"./de-at": 11064,
	"./de-at.js": 11064,
	"./de-ch": 59993,
	"./de-ch.js": 59993,
	"./de.js": 34514,
	"./dv": 80456,
	"./dv.js": 80456,
	"./el": 82595,
	"./el.js": 82595,
	"./en-au": 46371,
	"./en-au.js": 46371,
	"./en-ca": 69609,
	"./en-ca.js": 69609,
	"./en-gb": 63341,
	"./en-gb.js": 63341,
	"./en-ie": 70473,
	"./en-ie.js": 70473,
	"./en-il": 34181,
	"./en-il.js": 34181,
	"./en-in": 75083,
	"./en-in.js": 75083,
	"./en-nz": 29262,
	"./en-nz.js": 29262,
	"./en-sg": 97141,
	"./en-sg.js": 97141,
	"./eo": 60868,
	"./eo.js": 60868,
	"./es": 81340,
	"./es-do": 68831,
	"./es-do.js": 68831,
	"./es-mx": 94988,
	"./es-mx.js": 94988,
	"./es-us": 56194,
	"./es-us.js": 56194,
	"./es.js": 81340,
	"./et": 66362,
	"./et.js": 66362,
	"./eu": 9930,
	"./eu.js": 9930,
	"./fa": 43219,
	"./fa.js": 43219,
	"./fi": 79290,
	"./fi.js": 79290,
	"./fil": 3934,
	"./fil.js": 3934,
	"./fo": 80958,
	"./fo.js": 80958,
	"./fr": 55414,
	"./fr-ca": 42874,
	"./fr-ca.js": 42874,
	"./fr-ch": 3109,
	"./fr-ch.js": 3109,
	"./fr.js": 55414,
	"./fy": 30422,
	"./fy.js": 30422,
	"./ga": 8115,
	"./ga.js": 8115,
	"./gd": 64024,
	"./gd.js": 64024,
	"./gl": 29141,
	"./gl.js": 29141,
	"./gom-deva": 65947,
	"./gom-deva.js": 65947,
	"./gom-latn": 8101,
	"./gom-latn.js": 8101,
	"./gu": 50229,
	"./gu.js": 50229,
	"./he": 12437,
	"./he.js": 12437,
	"./hi": 97798,
	"./hi.js": 97798,
	"./hr": 25495,
	"./hr.js": 25495,
	"./hu": 95126,
	"./hu.js": 95126,
	"./hy-am": 17152,
	"./hy-am.js": 17152,
	"./id": 69769,
	"./id.js": 69769,
	"./is": 66284,
	"./is.js": 66284,
	"./it": 83345,
	"./it-ch": 8796,
	"./it-ch.js": 8796,
	"./it.js": 83345,
	"./ja": 48089,
	"./ja.js": 48089,
	"./jv": 39916,
	"./jv.js": 39916,
	"./ka": 45744,
	"./ka.js": 45744,
	"./kk": 67416,
	"./kk.js": 67416,
	"./km": 67055,
	"./km.js": 67055,
	"./kn": 80975,
	"./kn.js": 80975,
	"./ko": 61663,
	"./ko.js": 61663,
	"./ku": 76827,
	"./ku.js": 76827,
	"./ky": 64763,
	"./ky.js": 64763,
	"./lb": 76079,
	"./lb.js": 76079,
	"./lo": 14879,
	"./lo.js": 14879,
	"./lt": 39780,
	"./lt.js": 39780,
	"./lv": 75036,
	"./lv.js": 75036,
	"./me": 34426,
	"./me.js": 34426,
	"./mi": 6587,
	"./mi.js": 6587,
	"./mk": 21644,
	"./mk.js": 21644,
	"./ml": 86659,
	"./ml.js": 86659,
	"./mn": 20253,
	"./mn.js": 20253,
	"./mr": 6894,
	"./mr.js": 6894,
	"./ms": 25196,
	"./ms-my": 19723,
	"./ms-my.js": 19723,
	"./ms.js": 25196,
	"./mt": 84808,
	"./mt.js": 84808,
	"./my": 1029,
	"./my.js": 1029,
	"./nb": 55676,
	"./nb.js": 55676,
	"./ne": 73271,
	"./ne.js": 73271,
	"./nl": 42764,
	"./nl-be": 25257,
	"./nl-be.js": 25257,
	"./nl.js": 42764,
	"./nn": 92088,
	"./nn.js": 92088,
	"./oc-lnc": 92277,
	"./oc-lnc.js": 92277,
	"./pa-in": 16182,
	"./pa-in.js": 16182,
	"./pl": 9594,
	"./pl.js": 9594,
	"./pt": 75829,
	"./pt-br": 14456,
	"./pt-br.js": 14456,
	"./pt.js": 75829,
	"./ro": 32631,
	"./ro.js": 32631,
	"./ru": 73863,
	"./ru.js": 73863,
	"./sd": 69908,
	"./sd.js": 69908,
	"./se": 41725,
	"./se.js": 41725,
	"./si": 6155,
	"./si.js": 6155,
	"./sk": 96149,
	"./sk.js": 96149,
	"./sl": 58264,
	"./sl.js": 58264,
	"./sq": 85940,
	"./sq.js": 85940,
	"./sr": 3087,
	"./sr-cyrl": 24980,
	"./sr-cyrl.js": 24980,
	"./sr.js": 3087,
	"./ss": 31541,
	"./ss.js": 31541,
	"./sv": 61857,
	"./sv.js": 61857,
	"./sw": 93403,
	"./sw.js": 93403,
	"./ta": 29681,
	"./ta.js": 29681,
	"./te": 38138,
	"./te.js": 38138,
	"./tet": 3552,
	"./tet.js": 3552,
	"./tg": 71949,
	"./tg.js": 71949,
	"./th": 34822,
	"./th.js": 34822,
	"./tk": 92874,
	"./tk.js": 92874,
	"./tl-ph": 24604,
	"./tl-ph.js": 24604,
	"./tlh": 6294,
	"./tlh.js": 6294,
	"./tr": 2665,
	"./tr.js": 2665,
	"./tzl": 95089,
	"./tzl.js": 95089,
	"./tzm": 69252,
	"./tzm-latn": 78120,
	"./tzm-latn.js": 78120,
	"./tzm.js": 69252,
	"./ug-cn": 18376,
	"./ug-cn.js": 18376,
	"./uk": 58872,
	"./uk.js": 58872,
	"./ur": 50685,
	"./ur.js": 50685,
	"./uz": 30359,
	"./uz-latn": 4038,
	"./uz-latn.js": 4038,
	"./uz.js": 30359,
	"./vi": 97586,
	"./vi.js": 97586,
	"./x-pseudo": 46652,
	"./x-pseudo.js": 46652,
	"./yo": 51977,
	"./yo.js": 51977,
	"./zh-cn": 62201,
	"./zh-cn.js": 62201,
	"./zh-hk": 56867,
	"./zh-hk.js": 56867,
	"./zh-mo": 41685,
	"./zh-mo.js": 41685,
	"./zh-tw": 21002,
	"./zh-tw.js": 21002
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = 44207;

/***/ })

}]);